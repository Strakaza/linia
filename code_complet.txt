### ARCHITECTURE DU PROJET ###

|-- app.py
|-- build_gtfs.py
|-- code_complet.txt
|-- Dockerfile
|-- extract.py
[D] output_gtfs
    [D] mapping
        |-- stop_id_mapping.csv
    [D] temp_blablacar
        |-- agency.txt
        |-- calendar.txt
        |-- calendar_dates.txt
        |-- feed_info.txt
        |-- routes.txt
        |-- stop_times.txt
        |-- stops.txt
        |-- translations.txt
        |-- trips.txt
    [D] temp_flixbus
        |-- agency.txt
        |-- calendar.txt
        |-- calendar_dates.txt
        |-- feed_info.txt
        |-- routes.txt
        |-- shapes.txt
        |-- stop_times.txt
        |-- stops.txt
        |-- transfers.txt
        |-- trips.txt
    [D] unified
        |-- agency.txt
        |-- calendar.txt
        |-- calendar_dates.txt
        |-- feed_info.txt
        |-- LICENSE.txt
        |-- README.txt
        |-- routes.txt
        |-- shapes.txt
        |-- stop_times.txt
        |-- stops.txt
        |-- transfers.txt
        |-- trips.txt
|-- README.md
|-- render-build.sh
|-- requirements.txt
[D] static
    [D] downloads
        |-- gtfs_unifie.zip
    |-- i18n.js
    |-- logo.png
    |-- manifest.json
    |-- map.js
    |-- planner.js
    |-- robots.txt
    |-- sitemap.xml
    |-- style.css
[D] templates
    |-- about.html
    |-- hreflang.html
    |-- landing.html
    |-- legal.html
    |-- map.html
    |-- planner.html
    |-- seo_head.html

==================================================

### CONTENU DES FICHIERS ###

--- DÉBUT FICHIER : app.py ---
--- POSITION : C:\Users\Amédée\Documents\linia-mobile\app.py ---

import pandas as pd
import os
import logging
import json
from flask import Flask, jsonify, render_template, request, send_from_directory
from flask_cors import CORS
from werkzeug.middleware.proxy_fix import ProxyFix
import traceback

GTFS_DATA_PATH = os.path.join("output_gtfs", "unified")

# SEO / internationalisation configuration
BASE_URL = "https://liniabus.eu"
# Doit refléter toutes les langues disponibles dans static/i18n.js
SUPPORTED_LANGS = [
    "fr",
    "en",
    "de",
    "es",
    "pt",
    "nl",
    "sq",
    "ca",
    "hr",
    "bg",
    "da",
    "et",
    "fi",
    "el",
    "hu",
    "hi",
    "lv",
    "lt",
    "lb",
    "mk",
    "ro",
    "pl",
    "cs",
    "sk",
    "sl",
    "sv",
    "tr",
    "uk",
    "ru",
    "be",
]
DEFAULT_LANG = "fr"

# Simple mapping for Open Graph locales
OG_LOCALES = {
    "fr": "fr_FR",
    "en": "en_GB",
    "de": "de_DE",
    "es": "es_ES",
    "it": "it_IT",
    "nl": "nl_NL",
    "pt": "pt_PT",
    "pl": "pl_PL",
    "sq": "sq_AL",
    "ca": "ca_ES",
    "hr": "hr_HR",
    "bg": "bg_BG",
    "da": "da_DK",
    "et": "et_EE",
    "fi": "fi_FI",
    "el": "el_GR",
    "hu": "hu_HU",
    "hi": "hi_IN",
    "lv": "lv_LV",
    "lt": "lt_LT",
    "lb": "lb_LU",
    "mk": "mk_MK",
    "ro": "ro_RO",
    "cs": "cs_CZ",
    "sk": "sk_SK",
    "sl": "sl_SI",
    "sv": "sv_SE",
    "tr": "tr_TR",
    "uk": "uk_UA",
    "ru": "ru_RU",
    "be": "be_BY",
}

# Centralised SEO metadata per page and language
SEO_CONFIG = {
    "home": {
        "fr": {
            "title": "Linia - Planificateur d'Itinéraire Bus | FlixBus BlaBlaCar",
            "description": "Planifiez votre voyage en bus avec Linia. Visualisez les lignes FlixBus et BlaBlaCar Bus sur une carte interactive, comparez les connexions et créez vos itinéraires personnalisés à travers l'Europe.",
        },
        "en": {
            "title": "Linia - Bus Route Planner | FlixBus and BlaBlaCar Routes",
            "description": "Plan your European bus journey with Linia. Visualize FlixBus and BlaBlaCar routes on an interactive map, compare connections and create custom itineraries across 30+ countries. Free bus route planner.",
        },
        "de": {
            "title": "Linia - Busreisen Planer | FlixBus und BlaBlaCar Routen",
            "description": "Planen Sie Ihre Busreise mit Linia. Visualisieren Sie FlixBus- und BlaBlaCar-Buslinien auf einer interaktiven Karte, vergleichen Sie Verbindungen und erstellen Sie individuelle Routen in über 30 Ländern.",
        },
        "es": {
            "title": "Linia - Planificador de Rutas de Autobús | FlixBus y BlaBlaCar",
            "description": "Planifica tu viaje en autobús por Europa con Linia. Visualiza las rutas de FlixBus y BlaBlaCar en un mapa interactivo, compara conexiones y crea itinerarios personalizados en más de 30 países.",
        },
        "it": {
            "title": "Linia - Pianificatore di Percorsi Autobus | FlixBus e BlaBlaCar",
            "description": "Pianifica il tuo viaggio in autobus con Linia. Visualizza le rotte FlixBus e BlaBlaCar su una mappa interattiva e crea itinerari personalizzati in tutta Europa.",
        },
        "nl": {
            "title": "Linia - Busroute Planner | FlixBus en BlaBlaCar",
            "description": "Plan je busreis door Europa met Linia. Visualiseer FlixBus- en BlaBlaCar-routes op een interactieve kaart en stel je eigen busroute samen door meer dan 30 landen.",
        },
        "pt": {
            "title": "Linia - Planeador de Rotas de Autocarro | FlixBus e BlaBlaCar",
            "description": "Planeie a sua viagem de autocarro com a Linia. Visualize as rotas FlixBus e BlaBlaCar num mapa interativo e crie itinerários personalizados pela Europa.",
        },
        "pl": {
            "title": "Linia - Planer Tras Autobusowych | FlixBus i BlaBlaCar",
            "description": "Planuj podróże autobusem po Europie z Linia. Wyświetlaj trasy FlixBus i BlaBlaCar na interaktywnej mapie i twórz własne, spersonalizowane itineraria.",
        },
        "sq": {
            "title": "Linia - Planifikues Rrugësh Autobusi | FlixBus dhe BlaBlaCar",
            "description": "Planifikoni udhetimin tuaj me autobus në Evropë me Linia. Vizualizoni linjat FlixBus dhe BlaBlaCar në një hartë interaktive dhe krijoni itinerare të personalizuara.",
        },
        "ca": {
            "title": "Linia - Planificador de Rutes d'Autobús | FlixBus i BlaBlaCar",
            "description": "Planifica el teu viatge en autobús per Europa amb Linia. Visualitza les rutes de FlixBus i BlaBlaCar en un mapa interactiu i crea itineraris personalitzats.",
        },
        "hr": {
            "title": "Linia - Planer Autobusnih Ruta | FlixBus i BlaBlaCar",
            "description": "Planirajte svoje putovanje autobusom s Linia. Vizualizirajte linije FlixBus i BlaBlaCar na interaktivnoj karti i stvorite prilagođene itinerare širom Europe.",
        },
        "bg": {
            "title": "Linia - Планировчик на Автобусни Маршрути | FlixBus и BlaBlaCar",
            "description": "Планирайте пътуването си с автобус с Linia. Визуализирайте линиите на FlixBus и BlaBlaCar на интерактивна карта и създайте персонализирани маршрути в Европа.",
        },
        "da": {
            "title": "Linia - Busrute Planlægger | FlixBus og BlaBlaCar",
            "description": "Planlæg din busrejse gennem Europa med Linia. Visualiser FlixBus- og BlaBlaCar-ruter på et interaktivt kort og opret tilpassede rejseplaner.",
        },
        "et": {
            "title": "Linia - Bussiliinide Planeerija | FlixBus ja BlaBlaCar",
            "description": "Planeeri oma bussireis läbi Euroopa Linia abiga. Visualiseeri FlixBus ja BlaBlaCar liine interaktiivsel kaardil ja loo kohandatud reisiplaane.",
        },
        "fi": {
            "title": "Linia - Bussireitti-Suunnittelija | FlixBus ja BlaBlaCar",
            "description": "Suunnittele bussimatkasi Euroopassa Linian avulla. Visualisoi FlixBus- ja BlaBlaCar-reitit interaktiivisella kartalla ja luo mukautettuja matkasuunnitelmia.",
        },
        "el": {
            "title": "Linia - Σχεδιασμός Διαδρομών Λεωφορείων | FlixBus και BlaBlaCar",
            "description": "Σχεδιάστε το ταξίδι σας με λεωφορείο στην Ευρώπη με το Linia. Οπτικοποιήστε τις διαδρομές FlixBus και BlaBlaCar σε διαδραστικό χάρτη και δημιουργήστε εξατομικευμένα δρομολόγια.",
        },
        "hu": {
            "title": "Linia - Buszútvonal Tervező | FlixBus és BlaBlaCar",
            "description": "Tervezze meg buszos útját Európában a Linia segítségével. Vizualizálja a FlixBus és BlaBlaCar útvonalakat interaktív térképen és készítsen személyre szabott útitervet.",
        },
        "hi": {
            "title": "Linia - बस रूट प्लानर | FlixBus और BlaBlaCar",
            "description": "Linia के साथ यूरोप में अपनी बस यात्रा की योजना बनाएं। इंटरैक्टिव मानचित्र पर FlixBus और BlaBlaCar मार्गों को देखें और अनुकूलित यात्रा कार्यक्रम बनाएं।",
        },
        "lv": {
            "title": "Linia - Autobusu Maršrutu Plānotājs | FlixBus un BlaBlaCar",
            "description": "Plānojiet savu autobusa ceļojumu caur Eiropu ar Linia. Vizualizējiet FlixBus un BlaBlaCar maršrutus interaktīvā kartē un izveidojiet pielāgotus maršrutus.",
        },
        "lt": {
            "title": "Linia - Autobusų Maršrutų Planuoklis | FlixBus ir BlaBlaCar",
            "description": "Suplanuokite savo autobuso kelionę per Europą su Linia. Vizualizuokite FlixBus ir BlaBlaCar maršrutus interaktyviame žemėlapyje ir sukurkite prisitaikančias kelionių programas.",
        },
        "lb": {
            "title": "Linia - Busroute Planner | FlixBus a BlaBlaCar",
            "description": "Plangt Äre Busparcours duerch Europa mat Linia. Visualiséiert d'FlixBus- a BlaBlaCar-Routen op enger interaktiver Kaart a erstellt personaliséiert Reespläng.",
        },
        "mk": {
            "title": "Linia - Планер на Автобуски Рути | FlixBus и BlaBlaCar",
            "description": "Планирајте го вашето патување со автобус низ Европа со Linia. Визуелизирајте ги линиите на FlixBus и BlaBlaCar на интерактивна карта и креирајте приспособени патувања.",
        },
        "ro": {
            "title": "Linia - Planificator Rute Autobuz | FlixBus și BlaBlaCar",
            "description": "Planificați călătoria cu autobuzul prin Europa cu Linia. Vizualizați rutele FlixBus și BlaBlaCar pe o hartă interactivă și creați itinerarii personalizate.",
        },
        "cs": {
            "title": "Linia - Plánovač Autobusových Tras | FlixBus a BlaBlaCar",
            "description": "Naplánujte si cestu autobusem po Evropě s Linia. Vizualizujte linky FlixBus a BlaBlaCar na interaktivní mapě a vytvořte si vlastní cestovní itinerář.",
        },
        "sk": {
            "title": "Linia - Plánovač Autobusových Trás | FlixBus a BlaBlaCar",
            "description": "Naplánujte si cestu autobusom po Európe s Linia. Vizualizujte linky FlixBus a BlaBlaCar na interaktívnej mape a vytvorte si vlastný cestovný itinerár.",
        },
        "sl": {
            "title": "Linia - Načrtovalec Avtobusnih Poti | FlixBus in BlaBlaCar",
            "description": "Načrtujte svoje avtobusno potovanje po Evropi z Linia. Vizualizirajte linije FlixBus in BlaBlaCar na interaktivnem zemljevidu in ustvarite prilagojene itinerarje.",
        },
        "sv": {
            "title": "Linia - Bussruteplanerare | FlixBus och BlaBlaCar",
            "description": "Planera din busresa genom Europa med Linia. Visualisera FlixBus- och BlaBlaCar-rutter på en interaktiv karta och skapa anpassade resplaner.",
        },
        "tr": {
            "title": "Linia - Otobüs Güzergah Planlayıcısı | FlixBus ve BlaBlaCar",
            "description": "Linia ile Avrupa'daki otobüs yolculuğunuzu planlayın. FlixBus ve BlaBlaCar güzergahlarını interaktif haritada görüntüleyin ve özelleştirilmiş seyahat planları oluşturun.",
        },
        "uk": {
            "title": "Linia - Планувальник Автобусних Маршрутів | FlixBus і BlaBlaCar",
            "description": "Сплануйте свою подорож автобусом Європою з Linia. Візуалізуйте маршрути FlixBus і BlaBlaCar на інтерактивній карті та створіть персоналізовані маршрути.",
        },
        "ru": {
            "title": "Linia - Планировщик Автобусных Маршрутов | FlixBus и BlaBlaCar",
            "description": "Спланируйте поездку на автобусе по Европе с Linia. Визуализируйте маршруты FlixBus и BlaBlaCar на интерактивной карте и создайте персонализированные маршруты.",
        },
        "be": {
            "title": "Linia - Планіроўшчык Аўтобусных Маршрутаў | FlixBus і BlaBlaCar",
            "description": "Сплануйце сваю паездку на аўтобусе па Еўропе з Linia. Візуалізуйце маршруты FlixBus і BlaBlaCar на інтэрактыўнай карце і стварыце персаналізаваныя маршруты.",
        },
    },
        "en": {
            "title": "Linia - Bus Route Planner | FlixBus and BlaBlaCar Routes",
            "description": (
                "Plan your European bus journey with Linia. Visualize FlixBus and BlaBlaCar routes on an interactive map, "
                "compare connections and create custom itineraries across 30+ countries. Free bus route planner."
            ),
        },
        "de": {
            "title": "Linia - Bus Route Planner | FlixBus und BlaBlaCar",
            "description": (
                "Planen Sie Ihre Busreise mit Linia. Visualisieren Sie FlixBus- und BlaBlaCar-Buslinien auf einer interaktiven "
                "Karte, vergleichen Sie Verbindungen und erstellen Sie individuelle Routen in über 30 Ländern."
            ),
        },
        "es": {
            "title": "Linia - Planificador de Rutas de Autobús | FlixBus y BlaBlaCar",
            "description": (
                "Planifica tu viaje en autobús por Europa con Linia. Visualiza las rutas de FlixBus y BlaBlaCar en un mapa "
                "interactivo, compara conexiones y crea itinerarios personalizados en más de 30 países."
            ),
        },
        "it": {
            "title": "Linia - Pianificatore di Percorsi Autobus | FlixBus e BlaBlaCar",
            "description": (
                "Pianifica il tuo viaggio in autobus con Linia. Visualizza le rotte FlixBus e BlaBlaCar su una mappa "
                "interattiva e crea itinerari personalizzati in tutta Europa."
            ),
        },
        "nl": {
            "title": "Linia - Bus Route Planner | FlixBus en BlaBlaCar",
            "description": (
                "Plan je busreis door Europa met Linia. Visualiseer FlixBus- en BlaBlaCar-routes op een interactieve kaart en "
                "stel je eigen busroute samen."
            ),
        },
        "pt": {
            "title": "Linia - Planeador de Rotas de Autocarro | FlixBus e BlaBlaCar",
            "description": (
                "Planeie a sua viagem de autocarro com a Linia. Visualize as rotas FlixBus e BlaBlaCar num mapa interativo e "
                "crie itinerários personalizados pela Europa."
            ),
        },
        "pl": {
            "title": "Linia - Planer Tras Autobusowych | FlixBus i BlaBlaCar",
            "description": (
                "Planuj podróże autobusem po Europie z Linia. Wyświetlaj trasy FlixBus i BlaBlaCar na interaktywnej mapie i "
                "twórz własne, spersonalizowane itineraria."
            ),
        },
    },
    "map": {
        "fr": {
            "title": "Linia - Carte des Lignes de Bus | FlixBus BlaBlaCar",
            "description": "Explorez le réseau de bus FlixBus et BlaBlaCar sur une carte interactive et trouvez les arrêts et lignes disponibles.",
        },
        "en": {
            "title": "Linia - Bus Network Map | FlixBus and BlaBlaCar Routes",
            "description": "Explore European bus networks on an interactive map. Visualize FlixBus and BlaBlaCar routes and stops across Europe.",
        },
        "de": {
            "title": "Linia - Busnetz Karte | FlixBus und BlaBlaCar",
            "description": "Erkunden Sie das Busnetz von FlixBus und BlaBlaCar auf einer interaktiven Karte und finden Sie verfügbare Haltestellen und Linien.",
        },
    },
    "planner": {
        "fr": {
            "title": "Linia - Créateur d’Itinéraire Bus | Planificateur",
            "description": "Créez votre itinéraire bus étape par étape avec Linia. Sélectionnez vos villes et découvrez les connexions directes FlixBus et BlaBlaCar.",
        },
        "en": {
            "title": "Linia - Bus Itinerary Planner | Create Your Route",
            "description": "Build your bus itinerary step by step. Choose cities, see direct FlixBus and BlaBlaCar connections and export your route.",
        },
        "de": {
            "title": "Linia - Bus Route Planner | Reiseplaner",
            "description": "Erstellen Sie Ihren Busreiseplan Schritt für Schritt. Wählen Sie Städte und entdecken Sie direkte Verbindungen mit FlixBus und BlaBlaCar.",
        },
    },
    "about": {
        "fr": {
            "title": "Linia - À propos du projet | Données Bus Europe",
            "description": "Découvrez comment Linia unifie les données GTFS FlixBus et BlaBlaCar pour visualiser les réseaux de bus longue distance en Europe.",
        },
        "en": {
            "title": "About Linia | European Bus Route Data",
            "description": "Learn how Linia unifies FlixBus and BlaBlaCar GTFS data to visualize long-distance bus routes and networks across Europe.",
        },
        "de": {
            "title": "Über Linia | Busdaten Europa",
            "description": "Erfahren Sie, wie Linia GTFS-Daten von FlixBus und BlaBlaCar vereinheitlicht, um Fernbusnetze in Europa sichtbar zu machen.",
        },
    },
    "legal": {
        "fr": {
            "title": "Linia - Mentions Légales",
            "description": "Informations légales concernant l’application Linia, l’éditeur du site, l’hébergement et les données de transport utilisées.",
        },
        "en": {
            "title": "Linia - Legal Mentions",
            "description": "Legal information about the Linia application, site publisher, hosting and use of open transport data.",
        },
        "de": {
            "title": "Linia - Impressum",
            "description": "Rechtliche Informationen zur Linia-Anwendung, Betreiber, Hosting und Nutzung offener Verkehrsdaten.",
        },
    },
}


def normalize_lang(lang_code: str | None) -> str:
    """
    Normalise un code langue provenant de l’URL.
    Retourne toujours une langue supportée.
    """
    if not lang_code:
        return DEFAULT_LANG
    lang_code = lang_code.lower()
    return lang_code if lang_code in SUPPORTED_LANGS else DEFAULT_LANG


def build_lang_urls(page_key: str, path_slug: str | None = None) -> dict:
    """
    Construit les URLs par langue et la version x-default pour une page donnée.
    - page_key: clé dans SEO_CONFIG (ex: 'home', 'map', ...)
    - path_slug: segment de chemin sans langue ('', 'map', 'planner', ...)
    """
    if path_slug is None:
        path_slug = ""

    def _path_for(lang: str) -> str:
        # FR reste à la racine sans préfixe de langue
        if lang == "fr":
            if path_slug:
                return f"/{path_slug}"
            return "/"
        # autres langues avec préfixe
        if path_slug:
            return f"/{lang}/{path_slug}"
        return f"/{lang}/"

    urls = {}
    for lang in SUPPORTED_LANGS:
        urls[lang] = BASE_URL + _path_for(lang)

    # x-default pointe sur la racine (FR par défaut)
    urls["x-default"] = BASE_URL + "/"
    return urls


def get_seo_meta(page_key: str, lang: str, path_slug: str | None = None) -> dict:
    """
    Retourne un dict avec les champs SEO de base pour une page et une langue données.
    """
    lang = normalize_lang(lang)
    page_conf = SEO_CONFIG.get(page_key, {})
    lang_conf = page_conf.get(lang) or page_conf.get(DEFAULT_LANG, {})

    lang_urls = build_lang_urls(page_key, path_slug=path_slug)
    current_url = lang_urls.get(lang, BASE_URL + "/")

    title = lang_conf.get("title", "Linia")
    description = lang_conf.get(
        "description",
        "Linia - Visualisation et planification de lignes de bus longue distance en Europe.",
    )

    og_locale = OG_LOCALES.get(lang, OG_LOCALES.get(DEFAULT_LANG))
    og_locale_alternates = [
        OG_LOCALES[l] for l in SUPPORTED_LANGS if l in OG_LOCALES and l != lang
    ]

    return {
        "page_title": title,
        "page_description": description,
        "canonical_url": current_url,
        "og_title": title,
        "og_description": description,
        "og_url": current_url,
        "og_locale": og_locale,
        "og_locale_alternates": og_locale_alternates,
        "hreflang_urls": lang_urls,
    }


def get_structured_data(page_key: str, lang: str, current_url: str) -> str | None:
    """
    Construit les blocs JSON-LD pour la page courante.
    Retourne une chaîne JSON ou None.
    """
    data = []

    if page_key == "home":
        data.append(
            {
                "@context": "https://schema.org",
                "@type": "Organization",
                "name": "Linia",
                "url": BASE_URL + "/",
                "logo": BASE_URL + "/static/logo.png",
            }
        )
        data.append(
            {
                "@context": "https://schema.org",
                "@type": "WebSite",
                "name": "Linia - Bus Route Planner",
                "url": BASE_URL + "/",
                "potentialAction": {
                    "@type": "SearchAction",
                    "target": BASE_URL + "/planner?q={search_term_string}",
                    "query-input": "required name=search_term_string",
                },
            }
        )

    if page_key == "planner":
        data.append(
            {
                "@context": "https://schema.org",
                "@type": "Trip",
                "name": "European bus itinerary planner",
                "description": "Interactive tool to plan multi-step bus itineraries across Europe using FlixBus and BlaBlaCar routes.",
                "url": current_url,
                "provider": {
                    "@type": "Organization",
                    "name": "Linia",
                    "url": BASE_URL + "/",
                },
                "areaServed": {
                    "@type": "AdministrativeArea",
                    "name": "Europe",
                },
            }
        )

    if page_key == "about" and lang == "fr":
        # FAQ générique à propos de Linia (FR uniquement pour l’instant)
        data.append(
            {
                "@context": "https://schema.org",
                "@type": "FAQPage",
                "mainEntity": [
                    {
                        "@type": "Question",
                        "name": "Linia est-il gratuit ?",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "Oui, l'outil est entièrement gratuit et sans publicité."
                        },
                    },
                    {
                        "@type": "Question",
                        "name": "Quels sont les pays couverts par Linia ?",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "Linia couvre principalement l'Europe : France, Allemagne, Espagne, Italie, Benelux, et d'autres pays européens desservis par FlixBus et BlaBlaCar Bus."
                        },
                    },
                    {
                        "@type": "Question",
                        "name": "À quelle fréquence les données sont-elles mises à jour ?",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "Les données GTFS sont mises à jour le premier jour de chaque mois."
                        },
                    },
                    {
                        "@type": "Question",
                        "name": "Comment signaler une erreur ou proposer une amélioration ?",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "Vous pouvez ouvrir une issue sur le dépôt GitHub du projet ou contacter le développeur via contact@liniabus.eu"
                        },
                    },
                ],
            }
        )

    # Breadcrumbs pour toutes les pages principales
    if page_key in {"home", "map", "planner", "about", "legal"}:
        items = [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Linia",
                "item": BASE_URL + "/",
            }
        ]
        if page_key != "home":
            name_map = {
                "map": "Map",
                "planner": "Planner",
                "about": "About",
                "legal": "Legal",
            }
            items.append(
                {
                    "@type": "ListItem",
                    "position": 2,
                    "name": name_map.get(page_key, page_key.title()),
                    "item": current_url,
                }
            )

        data.append(
            {
                "@context": "https://schema.org",
                "@type": "BreadcrumbList",
                "itemListElement": items,
            }
        )

    if not data:
        return None

    try:
        return json.dumps(data, ensure_ascii=False)
    except Exception:
        return None


app = Flask(__name__)
CORS(app)

log_level_str = os.environ.get("LOG_LEVEL", "INFO").upper()
log_level = getattr(logging, log_level_str, logging.INFO)
app.logger.setLevel(log_level)

app.wsgi_app = ProxyFix(app.wsgi_app, x_for=1, x_proto=1, x_host=1, x_port=1)

@app.before_request
def log_request_info():
    app.logger.info(
        f"Requête reçue: [ANONYME] [{request.method}] {request.url}"
    )

data_frames = {}

def get_operator_from_id(item_id): 
    if pd.isna(item_id) or not isinstance(item_id, str): return "unknown"
    if item_id.startswith("FLX-"): return "flixbus"
    if item_id.startswith("BLA-"): return "blablacar_bus"
    if item_id.startswith("FLX_"): return "flixbus"
    if item_id.startswith("BLA_"): return "blablacar_bus"
    return "unknown"

def load_gtfs_data():
    global data_frames
    files_to_load = {
        "stops": "stops.txt", "stop_times": "stop_times.txt",
        "trips": "trips.txt", "routes": "routes.txt",
        "shapes": "shapes.txt", 
        "agency": "agency.txt"
    }
    all_loaded_successfully = True
    essential_files_loaded = True
    app.logger.info("== DÉBUT DU CHARGEMENT DE TOUTES LES DONNÉES GTFS  ==")

    for key, filename in files_to_load.items():
        file_path = os.path.join(GTFS_DATA_PATH, filename)
        app.logger.info(f"Tentative de chargement de : {key} depuis {file_path}")
        try:
            if key == "shapes" and not os.path.exists(file_path):
                app.logger.warning(f"AVERTISSEMENT: Le fichier shapes.txt ({file_path}) n'existe pas. DataFrame vide créé.")
                data_frames[key] = pd.DataFrame() 
                all_loaded_successfully = False 
                continue 

            df = pd.read_csv(file_path, dtype=str, keep_default_na=False, na_values=['', ' '])
            
            if key == "stops":
                for col in ['stop_lat', 'stop_lon']: df[col] = pd.to_numeric(df[col], errors='coerce')
                for col_int_opt in ['location_type', 'wheelchair_boarding']: 
                    if col_int_opt in df.columns: df[col_int_opt] = pd.to_numeric(df[col_int_opt], errors='coerce').fillna(0).astype(int)
            elif key == "stop_times":
                if 'stop_sequence' in df.columns: df['stop_sequence'] = pd.to_numeric(df['stop_sequence'], errors='coerce').fillna(0).astype(int)
                for col_int_opt in ['pickup_type', 'drop_off_type', 'timepoint']:
                    if col_int_opt in df.columns: df[col_int_opt] = pd.to_numeric(df[col_int_opt], errors='coerce').fillna(0).astype(int)
                if 'shape_dist_traveled' in df.columns: df['shape_dist_traveled'] = pd.to_numeric(df['shape_dist_traveled'], errors='coerce')
            elif key == "shapes": 
                if 'shape_pt_sequence' in df.columns: df['shape_pt_sequence'] = pd.to_numeric(df['shape_pt_sequence'], errors='coerce').fillna(0).astype(int)
                for col_num in ['shape_pt_lat', 'shape_pt_lon', 'shape_dist_traveled']:
                    if col_num in df.columns: df[col_num] = pd.to_numeric(df[col_num], errors='coerce')
            
            data_frames[key] = df
            app.logger.info(f"Chargé avec succès : {filename} ({len(data_frames[key])} lignes)")

        except FileNotFoundError:
            app.logger.error(f"ERREUR (FileNotFoundError) pour {filename}: Fichier non trouvé.")
            data_frames[key] = pd.DataFrame() 
            all_loaded_successfully = False
            if key != "shapes": 
                essential_files_loaded = False
        except Exception as e:
            app.logger.error(f"ERREUR (Exception) lors du chargement de {filename}: {e}")
            app.logger.error(traceback.format_exc())
            data_frames[key] = pd.DataFrame() 
            all_loaded_successfully = False
            if key != "shapes":
                essential_files_loaded = False

    app.logger.info("== FIN DU CHARGEMENT DE TOUTES LES DONNÉES GTFS (y compris shapes.txt) ==")
    if not essential_files_loaded: 
        app.logger.critical("CRITIQUE: Au moins un fichier GTFS essentiel (non-shapes) est manquant ou a échoué au chargement.")
    elif not all_loaded_successfully:
        app.logger.warning("AVERTISSEMENT: Au moins un fichier GTFS (probablement shapes.txt) n'a pas pu être chargé.")
    else:
        app.logger.info("Tous les fichiers GTFS ont été chargés avec succès.")
        
    return essential_files_loaded

app.logger.info("APPEL GLOBAL DE load_gtfs_data() au démarrage de l'application...")
load_gtfs_data()
app.logger.info("Fin de l'appel global à load_gtfs_data(). L'application continue son initialisation.")

def get_stop_info_and_routes(stop_id_input):
    required_dfs = ["stops", "stop_times", "trips", "routes"]
    if not all(key in data_frames and data_frames[key] is not None and not data_frames[key].empty for key in required_dfs):
        app.logger.error("ERREUR get_stop_info_and_routes: Données GTFS de base non chargées ou vides.")
        return {"error": "Les données GTFS de base ne sont pas chargées."}
    
    stops_df, stop_times_df, trips_df, routes_df = (data_frames[k] for k in required_dfs)
    stop_info_series = stops_df[stops_df['stop_id'] == str(stop_id_input)]
    if stop_info_series.empty: return {"error": f"L'arrêt avec l'ID '{stop_id_input}' n'a pas été trouvé."}
    
    stop_record = stop_info_series.iloc[0]
    stop_details = {
        "stop_id": stop_record['stop_id'], 
        "stop_name": stop_record.get('stop_name', ''), 
        "stop_lat": stop_record['stop_lat'], 
        "stop_lon": stop_record['stop_lon']
    }
    
    relevant_stop_times = stop_times_df[stop_times_df['stop_id'] == str(stop_id_input)]
    if relevant_stop_times.empty: 
        return { "stop_info": stop_details, "routes": [], "message": "Aucun itinéraire pour cet arrêt." }
        
    unique_trip_ids = relevant_stop_times['trip_id'].unique()
    relevant_trips = trips_df[trips_df['trip_id'].isin(unique_trip_ids)]
    if relevant_trips.empty:
        return { "stop_info": stop_details, "routes": [], "message": "Aucun voyage correspondant aux horaires pour cet arrêt." }

    merged_trips_routes = pd.merge(relevant_trips, routes_df, on='route_id', how='left')
    if merged_trips_routes.empty:
         return { "stop_info": stop_details, "routes": [], "message": "Impossible de joindre les voyages et les routes." }

    cols_to_clean_for_str = ['trip_headsign', 'route_long_name', 'route_short_name']
    for col in cols_to_clean_for_str:
        if col in merged_trips_routes.columns: 
            merged_trips_routes[col] = merged_trips_routes[col].fillna('')
        else: 
            merged_trips_routes[col] = ''
            
    merged_trips_routes['operator'] = merged_trips_routes['route_id'].apply(get_operator_from_id)
    merged_trips_routes['display_name'] = merged_trips_routes.apply(
        lambda row: row['trip_headsign'] if row['trip_headsign'] != '' else row['route_long_name'], axis=1
    )
    merged_trips_routes['display_name'] = merged_trips_routes.apply(
        lambda row: row['display_name'] if row['display_name'] != '' else row.get('route_short_name', 'Itinéraire sans nom'), axis=1
    )
    merged_trips_routes['display_name'] = merged_trips_routes['display_name'].replace('', 'Itinéraire sans nom')
    
    unique_display_routes = merged_trips_routes.drop_duplicates(subset=['route_id', 'display_name', 'operator'])
    
    passing_routes = []
    for _, row in unique_display_routes.iterrows():
        passing_routes.append({
            "trip_id": row['trip_id'], "route_id": row['route_id'],
            "trip_headsign": row.get('trip_headsign', ''), 
            "route_long_name": row.get('route_long_name', ''),
            "display_name": row['display_name'], 
            "operator": row['operator'],
        })
        
    return { "stop_info": stop_details, "routes": passing_routes }

def get_trip_details_and_shape(trip_id_input):
    required_dfs = ["stops", "stop_times", "trips"]
    if not all(key in data_frames and data_frames[key] is not None and not data_frames[key].empty for key in required_dfs):
        app.logger.error("ERREUR get_trip_details_and_shape: Données GTFS de base pour détails voyage non chargées ou vides.")
        return {"error": "Données GTFS de base pour détails voyage non chargées."}

    stops_df, stop_times_df, trips_df = (data_frames[k] for k in required_dfs)
    shapes_df = data_frames.get("shapes", pd.DataFrame())
    
    trip_info = trips_df[trips_df['trip_id'] == str(trip_id_input)]
    if trip_info.empty: return {"error": f"Voyage ID '{trip_id_input}' non trouvé."}
    
    operator = get_operator_from_id(trip_id_input)
    shape_id_val = trip_info.iloc[0].get('shape_id')
    shape_id = shape_id_val if pd.notna(shape_id_val) and shape_id_val != '' else None
    
    trip_stop_times = stop_times_df[stop_times_df['trip_id'] == str(trip_id_input)]
    ordered_stops = []
    if not trip_stop_times.empty:
        trip_stops_details = pd.merge(trip_stop_times, stops_df, on='stop_id', how='inner')
        if not trip_stops_details.empty:
            trip_stops_details = trip_stops_details.sort_values(by='stop_sequence')
            for _, row_sd in trip_stops_details.iterrows():
                ordered_stops.append({ 
                    "stop_id": row_sd['stop_id'], "stop_name": row_sd.get('stop_name', ''),
                    "stop_lat": row_sd['stop_lat'], "stop_lon": row_sd['stop_lon'],
                    "stop_sequence": int(row_sd['stop_sequence']) if pd.notna(row_sd['stop_sequence']) and row_sd['stop_sequence']!='' else 0
                })
                
    trip_shape_points = []
    if shape_id and shapes_df is not None and not shapes_df.empty: 
        shape_data = shapes_df[shapes_df['shape_id'] == str(shape_id)]
        if not shape_data.empty:
            shape_data = shape_data.sort_values(by='shape_pt_sequence')
            for _, row_sh in shape_data.iterrows():
                trip_shape_points.append([row_sh['shape_pt_lat'], row_sh['shape_pt_lon']])
                
    return {"trip_id": trip_id_input, "stops": ordered_stops, "shape_points": trip_shape_points, "operator": operator}

def _render_page(page_key: str, lang_code: str | None, template_name: str, path_slug: str | None = None):
    """
    Helper générique pour rendre une page avec le contexte SEO / i18n.
    """
    current_lang = normalize_lang(lang_code)
    seo_meta = get_seo_meta(page_key, current_lang, path_slug=path_slug)
    structured_jsonld = get_structured_data(
        page_key, current_lang, seo_meta.get("canonical_url", BASE_URL + "/")
    )

    context = {
        "current_lang": current_lang,
        "page_title": seo_meta["page_title"],
        "page_description": seo_meta["page_description"],
        "canonical_url": seo_meta["canonical_url"],
        "og_title": seo_meta["og_title"],
        "og_description": seo_meta["og_description"],
        "og_url": seo_meta["og_url"],
        "og_locale": seo_meta.get("og_locale"),
        "hreflang_urls": seo_meta["hreflang_urls"],
        "structured_data_jsonld": structured_jsonld,
    }
    return render_template(template_name, **context)


@app.route("/")
@app.route("/<lang_code>/")
def index(lang_code=None):
    app.logger.debug(f"Requête pour la page d'accueil depuis {request.remote_addr}")
    return _render_page("home", lang_code, "landing.html", path_slug="")

@app.route("/map")
@app.route("/<lang_code>/map")
def map_page(lang_code=None):
    app.logger.debug(f"Requête pour la page carte depuis {request.remote_addr}")
    return _render_page("map", lang_code, "map.html", path_slug="map")

@app.route("/about")
@app.route("/<lang_code>/about")
def about_page(lang_code=None):
    app.logger.debug(f"Requête pour la page à propos depuis {request.remote_addr}")
    return _render_page("about", lang_code, "about.html", path_slug="about")

@app.route("/planner")
@app.route("/<lang_code>/planner")
def planner_page(lang_code=None):
    app.logger.debug(f"Requête pour la page planificateur depuis {request.remote_addr}")
    return _render_page("planner", lang_code, "planner.html", path_slug="planner")

@app.route("/legal")
@app.route("/<lang_code>/legal")
def legal_page(lang_code=None):
    app.logger.debug(f"Requête pour les mentions légales depuis {request.remote_addr}")
    return _render_page("legal", lang_code, "legal.html", path_slug="legal")

@app.route('/download/gtfs_unifie')
def download_unified_gtfs():
    try:
        static_downloads_path = os.path.join(app.root_path, app.static_folder, 'downloads')
        zip_filename = 'gtfs_unifie.zip' 
        app.logger.info(f"Tentative de téléchargement de {zip_filename} depuis {static_downloads_path} par {request.remote_addr}")
        return send_from_directory(static_downloads_path, zip_filename, as_attachment=True)
    except FileNotFoundError:
        app.logger.error(f"Fichier {zip_filename} non trouvé dans {static_downloads_path} pour téléchargement demandé par {request.remote_addr}")
        return jsonify({"error": "Fichier GTFS unifié non trouvé."}), 404
    except Exception as e:
        app.logger.error(f"Erreur lors du téléchargement du fichier GTFS par {request.remote_addr}: {e}")
        app.logger.error(traceback.format_exc())
        return jsonify({"error": "Erreur interne du serveur lors du téléchargement."}), 500

@app.route('/robots.txt')
@app.route('/sitemap.xml')
def static_from_root():
    return send_from_directory(app.static_folder, request.path[1:])

@app.route('/api/search_stops', methods=['GET'])
def api_search_stops():
    query_term = request.args.get('query', default='', type=str).strip()
    
    if not query_term or len(query_term) < 2: 
        return jsonify([]), 200
        
    if "stops" not in data_frames or data_frames["stops"] is None or data_frames["stops"].empty:
        app.logger.error("ERREUR API /api/search_stops: data_frames['stops'] non chargé ou vide.")
        return jsonify({"error": "Les données des arrêts ne sont pas chargées ou sont vides."}), 500
        
    stops_df = data_frames["stops"]
    try:
        if 'stop_name' not in stops_df.columns:
            app.logger.error("ERREUR API /api/search_stops: Colonne 'stop_name' manquante dans stops_df.")
            return jsonify({"error": "Données d'arrêt malformées (colonne manquante)."}), 500
            
        matching_stops = stops_df[
            stops_df['stop_name'].astype(str).str.contains(query_term, case=False, na=False, regex=False)
        ]
    except Exception as e:
        app.logger.error(f"Erreur interne lors de la recherche d'arrêts pour query='{query_term}': {e}")
        app.logger.error(traceback.format_exc())
        return jsonify({"error": "Erreur interne lors de la recherche d'arrêts."}), 500
        
    results = [{"stop_id": row['stop_id'], "stop_name": row['stop_name']} for _, row in matching_stops.head(10).iterrows()]
    app.logger.debug(f"API /api/search_stops - Résultats pour '{query_term}': {len(results)} trouvés.")
    return jsonify(results)

@app.route('/api/stop_info/<stop_id>', methods=['GET'])
def api_get_stop_info(stop_id):
    try:
        data = get_stop_info_and_routes(stop_id)
        if "error" in data:
            status = 404 if "non trouvé" in data["error"].lower() else 500
            app.logger.warning(f"API /api/stop_info - Erreur pour stop_id {stop_id}: {data['error']} (status {status})")
            return jsonify(data), status
        return jsonify(data)
    except Exception as e:
        app.logger.error(f"Erreur majeure inattendue dans /api/stop_info/{stop_id}: {e}")
        app.logger.error(traceback.format_exc())
        return jsonify({"error": "Erreur serveur inattendue."}), 500

@app.route('/api/trip_details/<trip_id>', methods=['GET'])
def api_get_trip_details(trip_id):
    try:
        data = get_trip_details_and_shape(trip_id)
        if "error" in data:
            status = 404 if "non trouvé" in data["error"].lower() else 500
            app.logger.warning(f"API /api/trip_details - Erreur pour trip_id {trip_id}: {data['error']} (status {status})")
            return jsonify(data), status
        return jsonify(data)
    except Exception as e:
        app.logger.error(f"Erreur majeure inattendue dans /api/trip_details/{trip_id}: {e}")
        app.logger.error(traceback.format_exc())
        return jsonify({"error": "Erreur serveur inattendue."}), 500

@app.route('/api/connected_stops/<stop_id>', methods=['GET'])
def api_get_connected_stops(stop_id):
    required_dfs = ["stops", "stop_times", "trips"]
    if not all(key in data_frames and data_frames[key] is not None and not data_frames[key].empty for key in required_dfs):
        app.logger.error("ERREUR api_get_connected_stops: Données GTFS non chargées.")
        return jsonify({"error": "Données GTFS non chargées."}), 500

    stops_df = data_frames["stops"]
    stop_times_df = data_frames["stop_times"]
    trips_df = data_frames["trips"]

    stop_exists = stops_df[stops_df['stop_id'] == str(stop_id)]
    if stop_exists.empty:
        return jsonify({"error": f"Arrêt '{stop_id}' non trouvé."}), 404

    try:
        trips_through_stop = stop_times_df[stop_times_df['stop_id'] == str(stop_id)]['trip_id'].unique()

        if len(trips_through_stop) == 0:
            return jsonify([])

        relevant_trips = trips_df[trips_df['trip_id'].isin(trips_through_stop)][['trip_id', 'route_id']].copy()
        relevant_trips['operator'] = relevant_trips['route_id'].apply(get_operator_from_id)

        all_stop_times_for_trips = stop_times_df[stop_times_df['trip_id'].isin(trips_through_stop)][['trip_id', 'stop_id']]
        all_stop_times_for_trips = all_stop_times_for_trips[all_stop_times_for_trips['stop_id'] != str(stop_id)]

        if all_stop_times_for_trips.empty:
            return jsonify([])

        stop_with_operator = pd.merge(all_stop_times_for_trips, relevant_trips[['trip_id', 'operator']], on='trip_id', how='left')
        stop_with_operator = stop_with_operator[stop_with_operator['operator'].notna()]
        stop_with_operator = stop_with_operator[~stop_with_operator['operator'].isin(['unknown', 'NaN', 'nan'])]

        stop_operators = stop_with_operator.groupby('stop_id')['operator'].apply(lambda x: sorted(set(x))).reset_index()
        stop_operators.columns = ['stop_id', 'operators']

        connected_stops = pd.merge(stop_operators, stops_df, on='stop_id', how='inner')
        connected_stops = connected_stops.drop_duplicates(subset=['stop_name'])
        connected_stops = connected_stops.sort_values(by='stop_name')

        results = []
        for _, row in connected_stops.iterrows():
            operators = [op for op in row['operators'] if op not in ('unknown', 'NaN', 'nan')]
            if not operators:
                operators = ['flixbus'] 
            results.append({
                "stop_id": row['stop_id'],
                "stop_name": row.get('stop_name', ''),
                "stop_lat": float(row['stop_lat']) if pd.notna(row['stop_lat']) else None,
                "stop_lon": float(row['stop_lon']) if pd.notna(row['stop_lon']) else None,
                "operators": operators
            })

        app.logger.debug(f"API /api/connected_stops/{stop_id}: {len(results)} villes connectées trouvées.")
        return jsonify(results)

    except Exception as e:
        app.logger.error(f"Erreur dans /api/connected_stops/{stop_id}: {e}")
        app.logger.error(traceback.format_exc())
        return jsonify({"error": "Erreur interne."}), 500

if __name__ == "__main__":
    app.logger.info("--- DÉMARRAGE EN MODE DÉVELOPPEMENT LOCAL ---")
    app.logger.info(f"Niveau de log actuel : {logging.getLevelName(app.logger.getEffectiveLevel())}")
    app.logger.info(f"Lancement du serveur de développement Flask sur http://0.0.0.0:{os.environ.get('PORT', 5000)}")
    app.logger.warning("ATTENTION : Ce serveur est pour le DÉVELOPPEMENT uniquement. NE PAS UTILISER EN PRODUCTION avec le serveur de dev Flask.")
    app.run(debug=True, host='0.0.0.0', port=int(os.environ.get("PORT", 5000)))

--- FIN FICHIER ---

--- DÉBUT FICHIER : build_gtfs.py ---
--- POSITION : C:\Users\Amédée\Documents\linia-mobile\build_gtfs.py ---

import pandas as pd
import numpy as np
import requests
import zipfile
import io
import os
import logging
import re
from math import radians, sin, cos, sqrt, atan2
from datetime import datetime, timedelta
import shutil


logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')
logger = logging.getLogger(__name__)



SOURCES = {
    "flixbus": {
        "url": "https://www.data.gouv.fr/api/1/datasets/r/30d94e83-48a4-4c44-8a96-c082377f5221",
        "prefix": "FLX_",
    },
    "blablacar": {
        "url": "https://www.data.gouv.fr/api/1/datasets/r/fd54f81f-4389-4e73-be75-491133d011c3",
        "prefix": "BLA_",
    }
}

OUTPUT_DIR = "output_gtfs"
UNIFIED_DIR = os.path.join(OUTPUT_DIR, "unified")
MAPPING_DIR = os.path.join(OUTPUT_DIR, "mapping")


def clean_display_name(name):
    if not name or not isinstance(name, str):
        return "Itinéraire inconnu"
    name = name.strip()
    if " > " in name:
        parts = [p.strip() for p in name.split(" > ")]
        if len(parts) > 2:
            return f"{parts[0]} > {parts[-1]}"
        return name
    if " - " in name:
        parts = [p.strip() for p in name.split(" - ")]
        if len(parts) > 2:
            return f"{parts[0]} - {parts[-1]}"
        return name
    return name

def get_city_name(stop_name):
    if not stop_name or not isinstance(stop_name, str):
        return "Unknown"
    separators = [" - ", " (", ", ", " – ", " — "]
    cleaned_name = stop_name.strip()
    for sep in separators:
        if sep in cleaned_name:
            city_part = cleaned_name.split(sep)[0].strip()
            return city_part
    return cleaned_name



def download_and_extract(url, operator_key):
    logger.info(f"Téléchargement de {operator_key}...")
    try:
        response = requests.get(url, timeout=120)
        response.raise_for_status()
        temp_dir = os.path.join(OUTPUT_DIR, f"temp_{operator_key}")
        os.makedirs(temp_dir, exist_ok=True)
        with zipfile.ZipFile(io.BytesIO(response.content)) as z:
            z.extractall(temp_dir)
        return temp_dir
    except Exception as e:
        logger.error(f"Erreur téléchargement {operator_key}: {e}")
        return None

def load_gtfs_file(path, filename, prefix):
    file_path = os.path.join(path, filename)
    if not os.path.exists(file_path):
        return pd.DataFrame()
    try:
        df = pd.read_csv(file_path, dtype=str, keep_default_na=False, na_values=['', ' '])
    except pd.errors.EmptyDataError:
        return pd.DataFrame()

    id_cols = ['stop_id', 'trip_id', 'route_id', 'agency_id', 'shape_id', 'service_id', 'from_stop_id', 'to_stop_id']
    for col in df.columns:
        if col in id_cols:
            df[col] = df[col].apply(lambda x: f"{prefix}{x}" if pd.notna(x) and x != '' else x)
    return df

def get_valid_services(calendar_df, calendar_dates_df, start_date, end_date):
    valid_services = set()
    
    if not calendar_df.empty:
        for _, row in calendar_df.iterrows():
            svc_id = row.get('service_id')
            start_svc = row.get('start_date')
            end_svc = row.get('end_date')
            
            if not svc_id or not start_svc or not end_svc:
                continue
            try:
                d_start = datetime.strptime(str(start_svc), '%Y%m%d')
                d_end = datetime.strptime(str(end_svc), '%Y%m%d')
                if d_start <= end_date and d_end >= start_date:
                    valid_services.add(svc_id)
            except ValueError:
                continue

    if not calendar_dates_df.empty:
        adds = calendar_dates_df[calendar_dates_df['exception_type'] == '1']
        for _, row in adds.iterrows():
            svc_id = row.get('service_id')
            date_svc = row.get('date')
            if not svc_id or not date_svc:
                continue
            try:
                d_svc = datetime.strptime(str(date_svc), '%Y%m%d')
                if start_date <= d_svc <= end_date:
                    valid_services.add(svc_id)
            except ValueError:
                continue

    return valid_services


def aggregate_by_city_select_flixbus(stops_df):
    logger.info("Étape : Agrégation par ville (Sélection arrêt FlixBus réel)...")
    
    stops_df['city_name'] = stops_df['stop_name'].apply(get_city_name)
    stops_df['lat_num'] = pd.to_numeric(stops_df['stop_lat'], errors='coerce')
    stops_df['lon_num'] = pd.to_numeric(stops_df['stop_lon'], errors='coerce')
    
    stops_df['is_flixbus'] = stops_df['stop_id'].str.startswith('FLX_')
    
    stops_df_sorted = stops_df.sort_values(by='is_flixbus', ascending=False)
    master_stops = stops_df_sorted.drop_duplicates(subset=['city_name'], keep='first').copy()
    
    city_to_master_id = dict(zip(master_stops['city_name'], master_stops['stop_id']))
    stop_to_city = dict(zip(stops_df['stop_id'], stops_df['city_name']))
    
    stop_mapping = {}
    for stop_id, city in stop_to_city.items():
        stop_mapping[stop_id] = city_to_master_id.get(city, stop_id)

    final_stops = master_stops.copy()
    final_stops['stop_name'] = final_stops['city_name']
    final_stops['stop_lat'] = final_stops['lat_num']
    final_stops['stop_lon'] = final_stops['lon_num']
    
    cols_to_keep = ['stop_id', 'stop_name', 'stop_lat', 'stop_lon', 'location_type', 'parent_station']
    for col in cols_to_keep:
        if col not in final_stops.columns:
            final_stops[col] = ''
            
    final_stops = final_stops[cols_to_keep]
    final_stops['location_type'] = '1' 
    
    logger.info(f"Création de {len(final_stops)} villes uniques (points réels).")
    
    return final_stops, stop_mapping

def clean_stop_sequences(stop_times_df, stop_mapping):
    logger.info("Nettoyage des séquences d'arrêts...")
    
    stop_times_df['stop_id'] = stop_times_df['stop_id'].map(stop_mapping).fillna(stop_times_df['stop_id'])
    stop_times_df['stop_sequence'] = pd.to_numeric(stop_times_df['stop_sequence'], errors='coerce')
    stop_times_df = stop_times_df.sort_values(['trip_id', 'stop_sequence'])
    
    stop_times_df['prev_stop_id'] = stop_times_df.groupby('trip_id')['stop_id'].shift(1)
    
    cleaned_df = stop_times_df[
        (stop_times_df['prev_stop_id'] != stop_times_df['stop_id']) | 
        (stop_times_df['prev_stop_id'].isna())
    ].copy()
    
    cleaned_df['stop_sequence'] = cleaned_df.groupby('trip_id').cumcount() + 1
    cleaned_df = cleaned_df.drop(columns=['prev_stop_id'])
    
    logger.info(f"Séquences nettoyées : {len(stop_times_df)} -> {len(cleaned_df)} arrêts.")
    return cleaned_df

def simplify_trips(trips_df, stop_times_df):
    logger.info("Simplification des trajets (Suppression aller-retours)...")
    if stop_times_df.empty or trips_df.empty:
        return trips_df, stop_times_df

    
    stop_times_sorted = stop_times_df.sort_values(['trip_id', 'stop_sequence'])
    trip_signatures = stop_times_sorted.groupby('trip_id')['stop_id'].apply(lambda x: "|".join(x)).reset_index()
    trip_signatures.columns = ['trip_id', 'stop_sequence_signature']
    
    trips_merged = pd.merge(trips_df, trip_signatures, on='trip_id', how='left')
    
    
    def reverse_signature(sig):
        if not sig or not isinstance(sig, str): return ""
        parts = sig.split("|")
        return "|".join(parts[::-1])
    
    trips_merged['reverse_signature'] = trips_merged['stop_sequence_signature'].apply(reverse_signature)
    
    
    
    trips_merged = trips_merged.sort_values('trip_id')
    
    kept_signatures = set()
    indices_to_keep = []
    
    
    for index, row in trips_merged.iterrows():
        sig = row['stop_sequence_signature']
        rev_sig = row['reverse_signature']
        
        
        if sig not in kept_signatures and rev_sig not in kept_signatures:
            kept_signatures.add(sig)
            indices_to_keep.append(index)
            
    unique_trips = trips_merged.loc[indices_to_keep].copy()
    
    
    unique_trips = unique_trips.drop(columns=['stop_sequence_signature', 'reverse_signature'])
    
    logger.info(f"Réduction de {len(trips_df)} trajets à {len(unique_trips)} trajets uniques (1 sens unique).")
    
    valid_trip_ids = unique_trips['trip_id'].unique()
    simplified_stop_times = stop_times_df[stop_times_df['trip_id'].isin(valid_trip_ids)]
    
    return unique_trips, simplified_stop_times



def main():
    logger.info("=== DÉBUT DU PROCESSUS (Suppression Aller-Retours) ===")
    
    os.makedirs(UNIFIED_DIR, exist_ok=True)
    os.makedirs(MAPPING_DIR, exist_ok=True)
    
    all_data = {}
    
    
    start_window = datetime(2026, 2, 1)
    end_window = datetime(2026, 12, 31)
    
    
    for key, config in SOURCES.items():
        temp_dir = download_and_extract(config['url'], key)
        if temp_dir:
            trips = load_gtfs_file(temp_dir, 'trips.txt', config['prefix'])
            routes = load_gtfs_file(temp_dir, 'routes.txt', config['prefix'])
            stops = load_gtfs_file(temp_dir, 'stops.txt', config['prefix'])
            stop_times = load_gtfs_file(temp_dir, 'stop_times.txt', config['prefix'])
            shapes = load_gtfs_file(temp_dir, 'shapes.txt', config['prefix'])
            agency = load_gtfs_file(temp_dir, 'agency.txt', config['prefix'])
            
            calendar = load_gtfs_file(temp_dir, 'calendar.txt', config['prefix'])
            calendar_dates = load_gtfs_file(temp_dir, 'calendar_dates.txt', config['prefix'])
            
            valid_services = get_valid_services(calendar, calendar_dates, start_window, end_window)
            
            initial_count = len(trips)
            if not trips.empty and valid_services:
                trips = trips[trips['service_id'].isin(valid_services)]
                logger.info(f"{key}: {len(trips)} trajets valides sur {initial_count}.")
                valid_trip_ids = trips['trip_id'].unique()
                stop_times = stop_times[stop_times['trip_id'].isin(valid_trip_ids)]
            else:
                logger.warning(f"{key}: Conservation de tous les trajets (pas de filtre date applicable).")
            
            all_data[key] = {
                'stops': stops,
                'trips': trips,
                'routes': routes,
                'stop_times': stop_times,
                'shapes': shapes,
                'agency': agency
            }

    if "flixbus" not in all_data or "blablacar" not in all_data:
        logger.error("Données manquantes. Arrêt.")
        return
    unified_stops = pd.concat([all_data['flixbus']['stops'], all_data['blablacar']['stops']], ignore_index=True)
    unified_stop_times = pd.concat([all_data['flixbus']['stop_times'], all_data['blablacar']['stop_times']], ignore_index=True)

    city_stops, city_mapping = aggregate_by_city_select_flixbus(unified_stops)
    
    unified_trips = pd.concat([all_data['flixbus']['trips'], all_data['blablacar']['trips']], ignore_index=True)
    unified_routes = pd.concat([all_data['flixbus']['routes'], all_data['blablacar']['routes']], ignore_index=True)
    unified_shapes = pd.concat([all_data['flixbus']['shapes'], all_data['blablacar']['shapes']], ignore_index=True)

    
    logger.info("Nettoyage des noms de trajets...")
    bla_trips = unified_trips[unified_trips['trip_id'].str.startswith('BLA_')]
    bla_merge = pd.merge(bla_trips, unified_routes[['route_id', 'route_long_name']], on='route_id', how='left')
    bla_merge['trip_headsign'] = bla_merge['route_long_name'].apply(clean_display_name)
    bla_merge = bla_merge.drop(columns=['route_long_name'])
    
    flix_trips = unified_trips[unified_trips['trip_id'].str.startswith('FLX_')]
    flix_merge = pd.merge(flix_trips, unified_routes[['route_id', 'route_long_name']], on='route_id', how='left')
    flix_merge['trip_headsign'] = flix_merge.apply(lambda r: r['trip_headsign'] if len(str(r['trip_headsign']))>3 else clean_display_name(r['route_long_name']), axis=1)
    flix_merge = flix_merge.drop(columns=['route_long_name'])
    
    unified_trips = pd.concat([flix_merge, bla_merge], ignore_index=True)

    
    final_stop_times = clean_stop_sequences(unified_stop_times, city_mapping)

    
    final_trips, final_stop_times = simplify_trips(unified_trips, final_stop_times)

    
    valid_routes = final_trips['route_id'].unique()
    final_routes = unified_routes[unified_routes['route_id'].isin(valid_routes)]
    
    final_shapes = pd.DataFrame()
    if 'shape_id' in final_trips.columns and not final_trips['shape_id'].dropna().empty:
        valid_shapes = final_trips['shape_id'].dropna().unique()
        final_shapes = unified_shapes[unified_shapes['shape_id'].isin(valid_shapes)]

    final_agency = pd.concat([all_data['flixbus']['agency'].head(1), all_data['blablacar']['agency'].head(1)], ignore_index=True)

    
    logger.info(f"Écriture finale...")
    
    files_to_save = {
        'agency.txt': final_agency,
        'stops.txt': city_stops, 
        'routes.txt': final_routes,
        'trips.txt': final_trips,
        'stop_times.txt': final_stop_times,
        'shapes.txt': final_shapes
    }
    
    for fname, df in files_to_save.items():
        path = os.path.join(UNIFIED_DIR, fname)
        df.to_csv(path, index=False)
        
    logger.info("=== TERMINÉ ===")

    logger.info("Création de l'archive ZIP pour le téléchargement...")
    try:
        
        static_downloads_dir = os.path.join("static", "downloads")
        os.makedirs(static_downloads_dir, exist_ok=True)
        zip_path = os.path.join(static_downloads_dir, "gtfs_unifie")
        
        
        if os.path.exists(zip_path + ".zip"):
            os.remove(zip_path + ".zip")
            
        
        shutil.make_archive(zip_path, 'zip', UNIFIED_DIR)
        logger.info(f"Archive créée : {zip_path}.zip")
        
    except Exception as e:
        logger.error(f"Erreur lors de la création du ZIP : {e}")

if __name__ == "__main__":
    main()

--- FIN FICHIER ---

--- DÉBUT FICHIER : extract.py ---
--- POSITION : C:\Users\Amédée\Documents\linia-mobile\extract.py ---

import pathlib

def generer_conglomerat(dossier_racine, fichier_sortie):
    racine = pathlib.Path(dossier_racine)
    extensions_cibles = {'.js', '.html', '.css', '.py'}
    
    with open(fichier_sortie, 'w', encoding='utf-8') as f_out:
        # 1. Génération de l'architecture (Tree view)
        f_out.write("### ARCHITECTURE DU PROJET ###\n\n")
        for chemin in sorted(racine.rglob('*')):
            # On ignore les dossiers cachés (comme .git ou .venv)
            if any(part.startswith('.') for part in chemin.parts):
                continue
                
            profondeur = len(chemin.relative_to(racine).parts) - 1
            indentation = '    ' * profondeur
            symbole = '|-- ' if chemin.is_file() else '[D] '
            f_out.write(f"{indentation}{symbole}{chemin.name}\n")
        
        f_out.write("\n" + "="*50 + "\n\n")

        # 2. Extraction du contenu des fichiers
        f_out.write("### CONTENU DES FICHIERS ###\n\n")
        for chemin in racine.rglob('*'):
            # Filtres : extension autorisée, pas de dossiers cachés, et on ne s'auto-lit pas
            if (chemin.suffix in extensions_cibles and 
                not any(part.startswith('.') for part in chemin.parts) and
                chemin.name != fichier_sortie):
                
                f_out.write(f"--- DÉBUT FICHIER : {chemin.relative_to(racine)} ---\n")
                f_out.write(f"--- POSITION : {chemin.absolute()} ---\n\n")
                
                try:
                    contenu = chemin.read_text(encoding='utf-8')
                    f_out.write(contenu)
                except Exception as e:
                    f_out.write(f"[ERREUR DE LECTURE : {e}]")
                
                f_out.write("\n\n--- FIN FICHIER ---\n\n")

if __name__ == "__main__":
    # Configuration
    NOM_DOSSIER = "."  # Le dossier actuel, ou mettez le chemin complet
    SORTIE = "code_complet.txt"
    
    print(f"Extraction en cours depuis {pathlib.Path(NOM_DOSSIER).absolute()}...")
    generer_conglomerat(NOM_DOSSIER, SORTIE)
    print(f"Terminé ! Tout a été copié dans : {SORTIE}")

--- FIN FICHIER ---

--- DÉBUT FICHIER : static\i18n.js ---
--- POSITION : C:\Users\Amédée\Documents\linia-mobile\static\i18n.js ---

const i18n = {
    currentLang: (function () {
        // Détermine la langue à partir de l’URL, puis fallback sur localStorage, puis fr
        try {
            const path = window.location.pathname || '/';
            const segments = path.split('/').filter(Boolean);
            const candidate = segments.length > 0 ? segments[0].toLowerCase() : null;
            const supported = [
                'fr', 'en', 'de', 'es', 'pt', 'nl', 'sq', 'ca', 'hr', 'bg', 'da', 'et', 'fi',
                'el', 'hu', 'hi', 'lv', 'lt', 'lb', 'mk', 'ro', 'pl', 'cs', 'sk', 'sl', 'sv',
                'tr', 'uk', 'ru', 'be'
            ];
            if (candidate && supported.includes(candidate)) {
                return candidate;
            }
        } catch (e) {
            console.warn('i18n: unable to infer lang from URL', e);
        }
        return localStorage.getItem('linia_lang') || 'fr';
    })(),
    translations: {
        fr: {
            "welcome": "Bienvenue sur",
            "search_placeholder": "D'où voulez vous partir ?",
            "btn_planner": "Créer un itinéraire",
            "btn_how": "Fonctionnement de l'application",
            "recent_searches": "Recherches récentes",
            "nav_home": "Accueil",
            "nav_itinerary": "Itinéraire",
            "nav_info": "Info",
            "footer_signature": "Страказа жывая",
            "loading": "Chargement...",
            "err_search": "Erreur de recherche.",
            "err_connection": "Impossible de contacter le serveur.",
            "no_stop_found": "Aucun arrêt trouvé.",
            "this_stop": "cet arrêt",
            "lines_from_stop_html": "Lignes au départ de :<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Aucune ligne ne dessert cet arrêt.",
            "no_search_result": "Aucun résultat pour cette recherche.",
            "unnamed_line": "Ligne sans nom",
            "no_stop_available": "Aucun arrêt disponible.",
            "trip_proposed_by": "Trajet proposé par {operatorName}",
            "unknown_operator": "un opérateur inconnu",
            "proposed_by": "Trajet proposé par",
            "unknown_op": "un opérateur inconnu",
            "itinerary_title": "Mon Itinéraire",
            "btn_undo": "Retirer la dernière étape",
            "btn_reset": "Tout effacer",
            "planner_empty": "Recherchez une ville pour commencer votre itinéraire",
            "btn_load": "Charger",
            "btn_save": "Sauvegarder",
            "btn_pdf": "Générer le PDF",
            "search_start": "Rechercher une ville de départ...",
            "search_step": "Ajouter une étape...",
            "connected_cities": "Villes connectées",
            "from": "Depuis",
            "filter_cities": "Filtrer les villes...",
            "already_last": "Cette ville est déjà la dernière étape.",
            "not_connected": "Cet arrêt n'est pas directement connecté à votre dernière étape.",
            "already_added": "Déjà ajoutée",
            "step_start": "Départ",
            "step_last": "Dernière étape",
            "step_generic": "Étape",
            "pdf_warning_dots": "Ajoutez au moins 2 villes pour générer un PDF.",
            "pdf_generating": "Génération du PDF...",
            "pdf_timeout": "La capture de la carte a pris trop de temps. Génération du PDF sans carte.",
            "pdf_canvas_err": "Erreur lors de la capture de la carte. PDF généré sans carte.",
            "pdf_success": "PDF généré avec succès !",
            "toast_removed": "Dernière étape retirée.",
            "toast_cleared": "Itinéraire effacé.",
            "toast_saved": "Itinéraire sauvegardé (JSON).",
            "toast_loaded": "Itinéraire chargé avec succès.",
            "cities_connected_count_one": "1 ville connectée",
            "cities_connected_count_other": "{count} villes connectées",
            "cities_connected_count": "{count} villes connectées",
            "about_title": "À propos",
            "about_header": "Fonctionnement de l'application",
            "about_intro": "Linia est un outil de visualisation de données de transport public pour les lignes de bus longue distance.",
            "about_networks": "Visualisation des réseaux",
            "about_networks_desc": "L'application agrège les données de deux opérateurs : Flixbus et BlaBlaCar Bus. La recherche permet d'afficher les lignes desservant un arrêt spécifique.",
            "about_planning": "Planification par étapes",
            "about_planning_desc": "Le planificateur permet de construire un itinéraire séquentiel. Lors de l'ajout d'une ville, une liste de destinations directement connectées est générée pour permettre la sélection de l'étape suivante.",
            "about_export": "Exportation des données",
            "about_export_desc": "Les itinéraires créés peuvent être exportés au format PDF. Ce document contient le rappel des étapes et une capture de la carte associée au trajet.",
            "data_sources": "Sources de données (GTFS)",
            "data_sources_desc": "Les données sont issues des flux GTFS officiels disponibles sur transport.data.gouv.fr. Linia effectue une unification de ces flux pour permettre une consultation centralisée.",
            "download_gtfs": "Télécharger le GTFS Unifié (.zip)",
            "return_home": "← Retour à l'accueil",
            "btn_close": "Fermer",
            "disclaimer_title": "Note d'information",
            "disclaimer_text": "Linia se base sur les données GTFS de Flixbus et de BlaBlaCar. Les données affichées peuvent contenir des erreurs ou être incomplètes. Le but de l'application est la visualisation et ne pourra jamais être aussi exacte que les applications officielles de Flixbus et BlaBlaCar ou de leurs partenaires.",
            "nav_legal": "Mentions Légales",
            "legal_title": "Mentions Légales",
            "legal_editor_title": "1. Éditeur du site",
            "legal_editor_content": "Le site Linia est édité à titre non professionnel. Conformément à l'article 6-III-2 de la loi n° 2004-575 du 21 juin 2004 (LCEN), l'éditeur a choisi de rester anonyme. Les coordonnées de l'éditeur ont été transmises à l'hébergeur.",
            "legal_hosting_title": "2. Hébergement",
            "legal_hosting_content": "Le site est hébergé par Render Services, Inc., 520 High St, Palo Alto, CA 94301, États-Unis (render.com).",
            "legal_intellectual_title": "3. Propriété intellectuelle et Sources",
            "legal_intellectual_content": "Le contenu propre au site (code, design) est protégé par le droit d'auteur. Les données de transport affichées proviennent de sources ouvertes (via transport.data.gouv.fr). Elles sont régies par la licence Open Database License (ODbL). L'utilisateur est tenu de respecter les termes de cette licence pour toute réutilisation de ces données.",
            "legal_responsibility_title": "4. Responsabilité",
            "legal_responsibility_content": "L'éditeur fournit les informations de transport \"en l'état\". Il ne garantit pas l'exactitude des horaires ni la disponibilité continue du service et ne peut être tenu responsable des conséquences liées à l'utilisation des informations présentes sur le site.",
            "legal_privacy_title": "5. Données personnelles et Cookies",
            "legal_privacy_content": "Linia ne collecte aucune donnée personnelle. Le stockage local (Local Storage) de votre navigateur est utilisé exclusivement pour mémoriser vos préférences (recherches récentes, langue) afin d'améliorer l'expérience utilisateur. Aucun cookie tiers ou traceur publicitaire n'est utilisé.",
            "faq_title": "FAQ",
            "faq_free_q": "Linia est-il gratuit ?",
            "faq_free_a": "Oui, l'outil est entièrement gratuit et sans publicité.",
            "faq_countries_q": "Quels sont les pays couverts ?",
            "faq_countries_a": "Linia couvre principalement l'Europe : France, Allemagne, Espagne, Italie, Benelux, et d'autres pays européens desservis par FlixBus et BlaBlaCar Bus.",
            "faq_update_q": "À quelle fréquence les données sont-elles mises à jour ?",
            "faq_update_a": "Les données GTFS sont mises à jour le premier jour de chaque mois.",
            "faq_report_q": "Comment signaler une erreur ou proposer une amélioration ?",
            "faq_report_a": "Vous pouvez ouvrir une issue sur le dépôt GitHub du projet ou contacter le développeur via contact@liniabus.eu"
        },
        en: {
            "welcome": "Welcome to",
            "search_placeholder": "Where do you want to start from?",
            "btn_planner": "Create an itinerary",
            "btn_how": "How it works",
            "recent_searches": "Recent searches",
            "nav_home": "Home",
            "nav_itinerary": "Itinerary",
            "nav_info": "Info",
            "footer_signature": "Страказа жывая",
            "loading": "Loading...",
            "err_search": "Search error.",
            "err_connection": "Unable to contact the server.",
            "no_stop_found": "No stops found.",
            "this_stop": "this stop",
            "lines_from_stop_html": "Lines departing from:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "No lines serve this stop.",
            "no_search_result": "No results for this search.",
            "unnamed_line": "Unnamed line",
            "no_stop_available": "No stops available.",
            "trip_proposed_by": "Trip provided by {operatorName}",
            "unknown_operator": "an unknown operator",
            "proposed_by": "Trip provided by",
            "unknown_op": "an unknown operator",
            "itinerary_title": "My Itinerary",
            "btn_undo": "Remove last step",
            "btn_reset": "Clear all",
            "planner_empty": "Search for a city to start your itinerary",
            "btn_load": "Load",
            "btn_save": "Save",
            "btn_pdf": "Generate PDF",
            "search_start": "Search for a departure city...",
            "search_step": "Add a step...",
            "connected_cities": "Connected cities",
            "from": "From",
            "filter_cities": "Filter cities...",
            "already_last": "This city is already the last step.",
            "not_connected": "This stop is not directly connected to your last step.",
            "already_added": "Already added",
            "step_start": "Start",
            "step_last": "Last step",
            "step_generic": "Step",
            "pdf_warning_dots": "Add at least 2 cities to generate a PDF.",
            "pdf_generating": "Generating PDF...",
            "pdf_timeout": "Map capture took too long. Generating PDF without map.",
            "pdf_canvas_err": "Error capturing map. PDF generated without map.",
            "pdf_success": "PDF generated successfully!",
            "toast_removed": "Last step removed.",
            "toast_cleared": "Itinerary cleared.",
            "toast_saved": "Itinerary saved (JSON).",
            "toast_loaded": "Itinerary loaded successfully.",
            "cities_connected_count_one": "1 connected city",
            "cities_connected_count_other": "{count} connected cities",
            "cities_connected_count": "{count} connected cities",
            "about_title": "About",
            "about_header": "How it works",
            "about_intro": "Linia is a public transport data visualization tool for long-distance bus lines.",
            "about_networks": "Network Visualization",
            "about_networks_desc": "The application aggregates data from two operators: Flixbus and BlaBlaCar Bus. Searching allows you to display lines serving a specific stop.",
            "about_planning": "Step-by-step Planning",
            "about_planning_desc": "The planner allows you to build a sequential itinerary. When adding a city, a list of directly connected destinations is generated to allow selecting the next step.",
            "about_export": "Data Export",
            "about_export_desc": "Created itineraries can be exported in PDF format. This document contains a summary of the steps and a map capture associated with the trip.",
            "data_sources": "Data Sources (GTFS)",
            "data_sources_desc": "The data comes from official GTFS feeds available on transport.data.gouv.fr. Linia performs a unification of these feeds to allow centralized consultation.",
            "download_gtfs": "Download Unified GTFS (.zip)",
            "return_home": "← Return to home",
            "btn_close": "Close",
            "disclaimer_title": "Information Note",
            "disclaimer_text": "Linia is based on GTFS data from Flixbus and BlaBlaCar. The data displayed may contain errors or be incomplete. The application is for visualization purposes only and will never be as accurate as the official Flixbus and BlaBlaCar apps or their partners.",
            "nav_legal": "Legal Mentions",
            "legal_title": "Legal Mentions",
            "legal_editor_title": "1. Site Editor",
            "legal_editor_content": "The Linia site is published in a non-professional capacity. In accordance with Article 6-III-2 of Law No. 2004-575 of June 21, 2004 (LCEN), the editor has chosen to remain anonymous. Identifying information has been transmitted to the host.",
            "legal_hosting_title": "2. Hosting",
            "legal_hosting_content": "The site is hosted by Render Services, Inc., 520 High St, Palo Alto, CA 94301, USA (render.com).",
            "legal_intellectual_title": "3. Intellectual Property and Sources",
            "legal_intellectual_content": "The site's own content (code, design) is protected by copyright. The displayed transport data comes from open sources (via transport.data.gouv.fr). They are governed by the Open Database License (ODbL). The user is required to respect the terms of this license for any reuse of this data.",
            "legal_responsibility_title": "4. Responsibility",
            "legal_responsibility_content": "The editor provides the transport information 'as is'. It does not guarantee the accuracy of schedules or the continuous availability of the service and cannot be held responsible for the consequences related to the use of the information present on the site.",
            "legal_privacy_title": "5. Personal Data and Cookies",
            "legal_privacy_content": "Linia does not collect any personal data. Your browser's local storage is used exclusively to remember your preferences (recent searches, language) in order to improve the user experience. No third-party cookies or advertising trackers are used.",
            "faq_title": "FAQ",
            "faq_free_q": "Is Linia free?",
            "faq_free_a": "Yes, the tool is completely free and ad-free.",
            "faq_countries_q": "Which countries are covered?",
            "faq_countries_a": "Linia mainly covers Europe: France, Germany, Spain, Italy, Benelux, and other European countries served by FlixBus and BlaBlaCar Bus.",
            "faq_update_q": "How often is the data updated?",
            "faq_update_a": "GTFS data is updated on the first day of each month.",
            "faq_report_q": "How can I report an error or suggest an improvement?",
            "faq_report_a": "You can open an issue on the project's GitHub repository or contact the developer via contact@liniabus.eu"
        },
        de: {
            "welcome": "Willkommen bei",
            "search_placeholder": "Wo möchten Sie starten?",
            "btn_planner": "Reiseplan erstellen",
            "btn_how": "So funktioniert's",
            "recent_searches": "Letzte Suchen",
            "nav_home": "Startseite",
            "nav_itinerary": "Reiseplan",
            "nav_info": "Info",
            "footer_signature": "Страказа жывая",
            "loading": "Laden...",
            "err_search": "Suchfehler.",
            "err_connection": "Server nicht erreichbar.",
            "no_stop_found": "Keine Haltestellen gefunden.",
            "this_stop": "diese Haltestelle",
            "lines_from_stop_html": "Abfahrten von:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Keine Linien bedienen diese Haltestelle.",
            "no_search_result": "Keine Ergebnisse für diese Suche.",
            "unnamed_line": "Unbenannte Linie",
            "no_stop_available": "Keine Haltestellen verfügbar.",
            "trip_proposed_by": "Reise angeboten von {operatorName}",
            "unknown_operator": "ein unbekannter Betreiber",
            "proposed_by": "Reise angeboten von",
            "unknown_op": "ein unbekannter Betreiber",
            "itinerary_title": "Mein Reiseplan",
            "btn_undo": "Letzten Schritt entfernen",
            "btn_reset": "Alles löschen",
            "planner_empty": "Suche eine Stadt, um deinen Reiseplan zu beginnen",
            "btn_load": "Laden",
            "btn_save": "Speichern",
            "btn_pdf": "PDF erstellen",
            "search_start": "Startstadt suchen...",
            "search_step": "Schritt hinzufügen...",
            "connected_cities": "Verbundene Städte",
            "from": "Von",
            "filter_cities": "Städte filtern...",
            "already_last": "Diese Stadt ist bereits der letzte Schritt.",
            "not_connected": "Diese Haltestelle ist nicht direkt mit deinem letzten Schritt verbunden.",
            "already_added": "Bereits hinzugefügt",
            "step_start": "Start",
            "step_last": "Letzter Schritt",
            "step_generic": "Schritt",
            "pdf_warning_dots": "Füge mindestens 2 Städte hinzu, um ein PDF zu erstellen.",
            "pdf_generating": "PDF wird erstellt...",
            "pdf_timeout": "Kartenerfassung dauerte zu lange. PDF ohne Karte wird erstellt.",
            "pdf_canvas_err": "Fehler beim Erfassen der Karte. PDF ohne Karte erstellt.",
            "pdf_success": "PDF erfolgreich erstellt!",
            "toast_removed": "Letzter Schritt entfernt.",
            "toast_cleared": "Reiseplan gelöscht.",
            "toast_saved": "Reiseplan gespeichert (JSON).",
            "toast_loaded": "Reiseplan erfolgreich geladen.",
            "cities_connected_count_one": "1 verbundene Stadt",
            "cities_connected_count_other": "{count} verbundene Städte",
            "cities_connected_count": "{count} verbundene Städte",
            "about_title": "Über",
            "about_header": "So funktioniert's",
            "about_intro": "Linia ist ein Tool zur Visualisierung von öffentlichen Verkehrsdaten für Fernbuslinien.",
            "about_networks": "Netzwerkvisualisierung",
            "about_networks_desc": "Die Anwendung aggregiert Daten von zwei Betreibern: Flixbus und BlaBlaCar Bus. Die Suche ermöglicht die Anzeige von Linien, die eine bestimmte Haltestelle bedienen.",
            "about_planning": "Schrittweise Planung",
            "about_planning_desc": "Der Planer ermöglicht die Erstellung eines sequentiellen Reiseplans. Beim Hinzufügen einer Stadt wird eine Liste direkt verbundener Ziele generiert, um die Auswahl des nächsten Schritts zu ermöglichen.",
            "about_export": "Datenexport",
            "about_export_desc": "Erstellte Reisepläne können im PDF-Format exportiert werden. Dieses Dokument enthält eine Zusammenfassung der Schritte und einen Kartenausschnitt der Reise.",
            "data_sources": "Datenquellen (GTFS)",
            "data_sources_desc": "Die Daten stammen aus offiziellen GTFS-Feeds, die auf transport.data.gouv.fr verfügbar sind. Linia führt eine Vereinheitlichung dieser Feeds durch, um eine zentrale Abfrage zu ermöglichen.",
            "download_gtfs": "Unified GTFS herunterladen (.zip)",
            "return_home": "← Zurück zur Startseite",
            "btn_close": "Schließen",
            "disclaimer_title": "Informationshinweis",
            "disclaimer_text": "Linia basiert auf GTFS-Daten von Flixbus und BlaBlaCar. Die angezeigten Daten können Fehler enthalten oder unvollständig sein. Ziel der Anwendung ist die Visualisierung und sie wird niemals so genau sein wie die offiziellen Anwendungen von Flixbus und BlaBlaCar oder deren Partnern.",
            "nav_legal": "Impressum",
            "legal_title": "Impressum",
            "legal_editor_title": "1. Herausgeber",
            "legal_editor_content": "Die Linia-Website wird in nicht-professioneller Eigenschaft herausgegeben. Gemäß Artikel 6-III-2 des französischen Gesetzes Nr. 2004-575 vom 21. Juni 2004 (LCEN) hat der Herausgeber beschlossen, anonym zu bleiben. Die Kontaktdaten des Herausgebers wurden dem Host übermittelt.",
            "legal_hosting_title": "2. Hosting",
            "legal_hosting_content": "Die Website wird von Render Services, Inc., 520 High St, Palo Alto, CA 94301, USA (render.com) gehostet.",
            "legal_intellectual_title": "3. Geistiges Eigentum und Quellen",
            "legal_intellectual_content": "Die eigenen Inhalte der Website (Code, Design) sind urheberrechtlich geschützt. Die angezeigten Transportdaten stammen aus offenen Quellen (über transport.data.gouv.fr). Sie unterliegen der Open Database License (ODbL). Der Nutzer ist verpflichtet, die Bedingungen dieser Lizenz für jede Weiterverwendung dieser Daten einzuhalten.",
            "legal_responsibility_title": "4. Verantwortung",
            "legal_responsibility_content": "Der Herausgeber stellt die Transportinformationen 'wie besehen' zur Verfügung. Er garantiert weder die Richtigkeit der Fahrpläne noch die ständige Verfügbarkeit des Dienstes und kann nicht für die Folgen verantwortlich gemacht werden, die sich aus der Nutzung der auf der Website vorhandenen Informationen ergeben.",
            "legal_privacy_title": "5. Personenbezogene Daten und Cookies",
            "legal_privacy_content": "Linia sammelt keine personenbezogenen Daten. Der lokale Speicher Ihres Browsers wird ausschließlich dazu verwendet, Ihre Präferenzen (letzte Suchen, Sprache) zu speichern, um das Nutzererlebnis zu verbessern. Es werden keine Cookies von Drittanbietern oder Werbe-Tracker verwendet.",
            "faq_title": "FAQ",
            "faq_free_q": "Ist Linia kostenlos?",
            "faq_free_a": "Ja, das Tool ist völlig kostenlos und werbefrei.",
            "faq_countries_q": "Welche Länder sind abgedeckt?",
            "faq_countries_a": "Linia deckt hauptsächlich Europa ab: Frankreich, Deutschland, Spanien, Italien, Benelux und andere europäische Länder, die von FlixBus und BlaBlaCar Bus bedient werden.",
            "faq_update_q": "Wie oft werden die Daten aktualisiert?",
            "faq_update_a": "Die GTFS-Daten werden am ersten Tag jedes Monats aktualisiert.",
            "faq_report_q": "Wie kann ich einen Fehler melden oder eine Verbesserung vorschlagen?",
            "faq_report_a": "Sie können ein Issue im GitHub-Repository des Projekts eröffnen oder den Entwickler über contact@liniabus.eu kontaktieren."
        },
        es: {
            "welcome": "Bienvenido a",
            "search_placeholder": "¿Desde dónde quieres partir?",
            "btn_planner": "Crear un itinerario",
            "btn_how": "Cómo funciona",
            "recent_searches": "Búsquedas recientes",
            "nav_home": "Inicio",
            "nav_itinerary": "Itinerario",
            "nav_info": "Información",
            "footer_signature": "Страказа жывая",
            "loading": "Cargando...",
            "err_search": "Error de búsqueda.",
            "err_connection": "No se puede contactar con el servidor.",
            "no_stop_found": "No se encontraron paradas.",
            "this_stop": "esta parada",
            "lines_from_stop_html": "Líneas que salen de:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Ninguna línea sirve a esta parada.",
            "no_search_result": "Sin resultados para esta búsqueda.",
            "unnamed_line": "Línea sin nombre",
            "no_stop_available": "No hay paradas disponibles.",
            "trip_proposed_by": "Viaje ofrecido por {operatorName}",
            "unknown_operator": "un operador desconocido",
            "proposed_by": "Viaje ofrecido por",
            "unknown_op": "un operador desconocido",
            "itinerary_title": "Mi Itinerario",
            "btn_undo": "Quitar último paso",
            "btn_reset": "Borrar todo",
            "planner_empty": "Busca una ciudad para comenzar tu itinerario",
            "btn_load": "Cargar",
            "btn_save": "Guardar",
            "btn_pdf": "Generar PDF",
            "search_start": "Buscar ciudad de salida...",
            "search_step": "Añadir un paso...",
            "connected_cities": "Ciudades conectadas",
            "from": "Desde",
            "filter_cities": "Filtrar ciudades...",
            "already_last": "Esta ciudad ya es el último paso.",
            "not_connected": "Esta parada no está directamente conectada con tu último paso.",
            "already_added": "Ya añadida",
            "step_start": "Inicio",
            "step_last": "Último paso",
            "step_generic": "Paso",
            "pdf_warning_dots": "Añade al menos 2 ciudades para generar un PDF.",
            "pdf_generating": "Generando PDF...",
            "pdf_timeout": "La captura del mapa tardó demasiado. Generando PDF sin mapa.",
            "pdf_canvas_err": "Error al capturar el mapa. PDF generado sin mapa.",
            "pdf_success": "¡PDF generado con éxito!",
            "toast_removed": "Último paso eliminado.",
            "toast_cleared": "Itinerario borrado.",
            "toast_saved": "Itinerario guardado (JSON).",
            "toast_loaded": "Itinerario cargado con éxito.",
            "cities_connected_count_one": "1 ciudad conectada",
            "cities_connected_count_other": "{count} ciudades conectadas",
            "cities_connected_count": "{count} ciudad{plural} conectada{plural}",
            "about_title": "Acerca de",
            "about_header": "Cómo funciona",
            "about_intro": "Linia es una herramienta de visualización de datos de transporte público para líneas de autobuses de larga distancia.",
            "about_networks": "Visualización de redes",
            "about_networks_desc": "La aplicación agrega datos de dos operadores: Flixbus y BlaBlaCar Bus. La búsqueda permite mostrar las líneas que sirven a una parada específica.",
            "about_planning": "Planificación por pasos",
            "about_planning_desc": "El planificador permite construir un itinerario secuencial. Al añadir una ciudad, se genera una lista de destinos directamente conectados para permitir la selección del siguiente paso.",
            "about_export": "Exportación de datos",
            "about_export_desc": "Los itinerarios creados se pueden exportar en formato PDF. Este documento contiene un resumen de los pasos y una captura del mapa asociado al viaje.",
            "data_sources": "Fuentes de datos (GTFS)",
            "data_sources_desc": "Los datos provienen de feeds GTFS oficiales disponibles en transport.data.gouv.fr. Linia realiza una unificación de estos feeds para permitir una consulta centralizada.",
            "download_gtfs": "Descargar GTFS Unificado (.zip)",
            "return_home": "← Volver al inicio",
            "btn_close": "Cerrar",
            "disclaimer_title": "Nota informativa",
            "disclaimer_text": "Linia se basa en los datos GTFS de Flixbus y BlaBlaCar. Los datos mostrados pueden contener errores o estar incompletos. El objetivo de la aplicación es la visualización y nunca podrá ser tan exacta como las aplicaciones oficiales de Flixbus y BlaBlaCar o sus socios.",
            "nav_legal": "Aviso Legal",
            "legal_title": "Aviso Legal",
            "legal_editor_title": "1. Editor del sitio",
            "legal_editor_content": "El sitio Linia se edita a título no profesional. De conformidad con el artículo 6-III-2 de la Ley n° 2004-575 del 21 de junio de 2004 (LCEN), el editor ha optado por permanecer en el anonimato. Los datos de contacto del editor han sido transmitidos al host.",
            "legal_hosting_title": "2. Alojamiento",
            "legal_hosting_content": "El sitio está alojado por Render Services, Inc., 520 High St, Palo Alto, CA 94301, EE. UU. (render.com).",
            "legal_intellectual_title": "3. Propiedad Intelectual y Fuentes",
            "legal_intellectual_content": "El contenido propio del sitio (código, diseño) está protegido por derechos de autor. Los datos de transporte mostrados provienen de fuentes abiertas (a través de transport.data.gouv.fr). Se rigen por la licencia Open Database License (ODbL). El usuario está obligado a respetar los términos de esta licencia para cualquier reutilización de estos datos.",
            "legal_responsibility_title": "4. Responsabilidad",
            "legal_responsibility_content": "El editor proporciona la información de transporte 'tal cual'. No garantiza la exactitud de los horarios ni la disponibilidad continua del servicio y no puede ser considerado responsable de las consecuencias relacionadas con el uso de la información presente en el sitio.",
            "legal_privacy_title": "5. Datos Personales y Cookies",
            "legal_privacy_content": "Linia no recopila ningún dato personal. El almacenamiento local (Local Storage) de su navegador se utiliza exclusivamente para recordar sus preferencias (búsquedas recientes, idioma) con el fin de mejorar la experiencia del usuario. No se utilizan cookies de terceros ni rastreadores publicitarios.",
            "faq_title": "FAQ",
            "faq_free_q": "¿Linia es gratuito?",
            "faq_free_a": "Sí, la herramienta es completamente gratuita y sin publicidad.",
            "faq_countries_q": "¿Qué países están cubiertos?",
            "faq_countries_a": "Linia cubre principalmente Europa: Francia, Alemania, España, Italia, Benelux y otros países europeos servidos por FlixBus y BlaBlaCar Bus.",
            "faq_update_q": "¿Con qué frecuencia se actualizan los datos?",
            "faq_update_a": "Los datos GTFS se actualizan el primer día de cada mes.",
            "faq_report_q": "¿Cómo puedo informar de un error o sugerir una mejora?",
            "faq_report_a": "Puede abrir una issue en el repositorio de GitHub del proyecto o contactar con el desarrollador a través de contact@liniabus.eu"
        },
        pt: {
            "welcome": "Bem-vindo a",
            "search_placeholder": "De onde você quer partir?",
            "btn_planner": "Criar um itinerário",
            "btn_how": "Como funciona",
            "recent_searches": "Pesquisas recentes",
            "nav_home": "Início",
            "nav_itinerary": "Itinerário",
            "nav_info": "Informação",
            "footer_signature": "Страказа жывая",
            "loading": "Carregando...",
            "err_search": "Erro na pesquisa.",
            "err_connection": "Não foi possível contactar o servidor.",
            "no_stop_found": "Nenhuma parada encontrada.",
            "this_stop": "esta parada",
            "lines_from_stop_html": "Linhas com partida de:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Nenhuma linha atende a esta parada.",
            "no_search_result": "Nenhum resultado para esta pesquisa.",
            "unnamed_line": "Linha sem nome",
            "no_stop_available": "Nenhuma parada disponível.",
            "trip_proposed_by": "Viagem proposta por {operatorName}",
            "unknown_operator": "um operador desconhecido",
            "proposed_by": "Viagem proposta por",
            "unknown_op": "um operador desconhecido",
            "itinerary_title": "Meu Itinerário",
            "btn_undo": "Remover último passo",
            "btn_reset": "Limpar tudo",
            "planner_empty": "Pesquise uma cidade para começar seu itinerário",
            "btn_load": "Carregar",
            "btn_save": "Salvar",
            "btn_pdf": "Gerar PDF",
            "search_start": "Pesquisar cidade de partida...",
            "search_step": "Adicionar um passo...",
            "connected_cities": "Cidades conectadas",
            "from": "De",
            "filter_cities": "Filtrar cidades...",
            "already_last": "Esta cidade já é o último passo.",
            "not_connected": "Esta parada não está diretamente conectada ao seu último passo.",
            "already_added": "Já adicionada",
            "step_start": "Partida",
            "step_last": "Último passo",
            "step_generic": "Passo",
            "pdf_warning_dots": "Adicione pelo menos 2 cidades para gerar um PDF.",
            "pdf_generating": "Gerando PDF...",
            "pdf_timeout": "A captura do mapa demorou demais. Gerando PDF sem mapa.",
            "pdf_canvas_err": "Erro ao capturar o mapa. PDF gerado sem mapa.",
            "pdf_success": "PDF gerado com sucesso!",
            "toast_removed": "Último passo removido.",
            "toast_cleared": "Itinerário limpo.",
            "toast_saved": "Itinerário salvo (JSON).",
            "toast_loaded": "Itinerário carregado com sucesso.",
            "cities_connected_count_one": "1 cidade conectada",
            "cities_connected_count_other": "{count} cidades conectadas",
            "cities_connected_count": "{count} cidade{plural} conectada{plural}",
            "about_title": "Sobre",
            "about_header": "Como funciona",
            "about_intro": "Linia é uma ferramenta de visualização de dados de transporte público para linhas de ônibus de longa distância.",
            "about_networks": "Visualização de redes",
            "about_networks_desc": "A aplicação agrega dados de dois operadores: Flixbus e BlaBlaCar Bus. A pesquisa permite exibir as linhas que atendem a uma parada específica.",
            "about_planning": "Planejamento por etapas",
            "about_planning_desc": "O planejador permite construir um itinerário sequencial. Ao adicionar uma cidade, uma lista de destinos diretamente conectados é gerada para permitir a seleção do próximo passo.",
            "about_export": "Exportação de dados",
            "about_export_desc": "Os itinerários criados podem ser exportados em formato PDF. Este documento contém um resumo dos passos e uma captura do mapa associado à viagem.",
            "data_sources": "Fontes de dados (GTFS)",
            "data_sources_desc": "Os dados provêm de feeds GTFS oficiais disponíveis em transport.data.gouv.fr. Linia realiza uma unificação desses feeds para permitir consulta centralizada.",
            "download_gtfs": "Baixar GTFS Unificado (.zip)",
            "return_home": "← Voltar ao início",
            "btn_close": "Fechar",
            "disclaimer_title": "Nota informativa",
            "disclaimer_text": "Linia baseia-se nos dados GTFS de Flixbus e BlaBlaCar. Os dados exibidos podem conter erros ou estar incompletos. O objetivo da aplicação é a visualização e nunca poderá ser tão exata como as aplicações oficiais de Flixbus e BlaBlaCar ou seus parceiros.",
            "nav_legal": "Aviso Legal",
            "legal_title": "Aviso Legal",
            "legal_editor_title": "1. Editor do site",
            "legal_editor_content": "O site Linia é editado a título não profissional. De acordo com o artigo 6-III-2 da Lei n.º 2004-575 de 21 de junho de 2004 (LCEN), o editor optou por permanecer anônimo. Os detalhes de contato do editor foram transmitidos ao host.",
            "legal_hosting_title": "2. Alojamento",
            "legal_hosting_content": "O site é alojado por Render Services, Inc., 520 High St, Palo Alto, CA 94301, EUA (render.com).",
            "legal_intellectual_title": "3. Propriedade Intelectual e Fontes",
            "legal_intellectual_content": "O conteúdo próprio do site (código, design) é protegido por direitos de autor. Os dados de transporte exibidos provêm de fontes abertas (via transport.data.gouv.fr). São regidos pela licença Open Database License (ODbL). O utilizador é obrigado a respeitar os termos desta licença para qualquer reutilização destes dados.",
            "legal_responsibility_title": "4. Responsabilidade",
            "legal_responsibility_content": "O editor fornece as informações de transporte 'como estão'. Não garante a precisão dos horários nem a disponibilidade contínua do serviço e não pode ser responsabilizado pelas consequências relacionadas com o uso das informações presentes no site.",
            "legal_privacy_title": "5. Dados Pessoais e Cookies",
            "legal_privacy_content": "Linia não recolhe quaisquer dados pessoais. O armazenamento local (Local Storage) do seu navegador é utilizado exclusivamente para memorizar as suas preferências (pesquisas recentes, idioma) a fim de melhorar a experiência do utilizador. Não são utilizados cookies de terceiros ou rastreadores publicitários.",
            "faq_title": "FAQ",
            "faq_free_q": "O Linia é gratuito?",
            "faq_free_a": "Sim, a ferramenta é totalmente gratuita e sem publicidade.",
            "faq_countries_q": "Quais países são cobertos?",
            "faq_countries_a": "O Linia cobre principalmente a Europa: França, Alemanha, Espanha, Itália, Benelux e outros países europeus servidos pela FlixBus e BlaBlaCar Bus.",
            "faq_update_q": "Com que frequência os dados são atualizados?",
            "faq_update_a": "Os dados GTFS são atualizados no primeiro dia de cada mês.",
            "faq_report_q": "Como posso reportar um erro ou sugerir uma melhoria?",
            "faq_report_a": "Pode abrir uma issue no repositório GitHub do projeto ou contactar o programador através de contact@liniabus.eu"
        },
        nl: {
            "welcome": "Welkom bij",
            "search_placeholder": "Waar wil je vertrekken?",
            "btn_planner": "Route plannen",
            "btn_how": "Hoe het werkt",
            "recent_searches": "Recente zoekopdrachten",
            "nav_home": "Home",
            "nav_itinerary": "Route",
            "nav_info": "Info",
            "footer_signature": "Страказа жывая",
            "loading": "Laden...",
            "err_search": "Zoekfout.",
            "err_connection": "Kan de server niet bereiken.",
            "no_stop_found": "Geen haltes gevonden.",
            "this_stop": "deze halte",
            "lines_from_stop_html": "Lijnen vertrekkend van:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Geen lijnen bedienen deze halte.",
            "no_search_result": "Geen resultaten voor deze zoekopdracht.",
            "unnamed_line": "Naamloze lijn",
            "no_stop_available": "Geen haltes beschikbaar.",
            "trip_proposed_by": "Reis aangeboden door {operatorName}",
            "unknown_operator": "een onbekende operator",
            "proposed_by": "Reis aangeboden door",
            "unknown_op": "een onbekende operator",
            "itinerary_title": "Mijn Route",
            "btn_undo": "Laatste stap verwijderen",
            "btn_reset": "Alles wissen",
            "planner_empty": "Zoek een stad om je route te beginnen",
            "btn_load": "Laden",
            "btn_save": "Opslaan",
            "btn_pdf": "PDF genereren",
            "search_start": "Zoek een vertrekstad...",
            "search_step": "Voeg een stap toe...",
            "connected_cities": "Verbonden steden",
            "from": "Van",
            "filter_cities": "Steden filteren...",
            "already_last": "Deze stad is al de laatste stap.",
            "not_connected": "Deze halte is niet direct verbonden met je laatste stap.",
            "already_added": "Al toegevoegd",
            "step_start": "Start",
            "step_last": "Laatste stap",
            "step_generic": "Stap",
            "pdf_warning_dots": "Voeg ten minste 2 steden toe om een PDF te genereren.",
            "pdf_generating": "PDF genereren...",
            "pdf_timeout": "Kaart vastleggen duurde te lang. PDF zonder kaart genereren.",
            "pdf_canvas_err": "Fout bij vastleggen kaart. PDF gegenereerd zonder kaart.",
            "pdf_success": "PDF succesvol gegenereerd!",
            "toast_removed": "Laatste stap verwijderd.",
            "toast_cleared": "Route gewist.",
            "toast_saved": "Route opgeslagen (JSON).",
            "toast_loaded": "Route succesvol geladen.",
            "cities_connected_count_one": "1 verbonden stad",
            "cities_connected_count_other": "{count} verbonden steden",
            "cities_connected_count": "{count} verbonden stad{plural}",
            "about_title": "Over",
            "about_header": "Hoe het werkt",
            "about_intro": "Linia is een tool voor het visualiseren van openbaar vervoergegevens voor langeafstandsbuslijnen.",
            "about_networks": "Netwerkvisualisatie",
            "about_networks_desc": "De applicatie aggregeert gegevens van twee operators: Flixbus en BlaBlaCar Bus. Zoeken toont de lijnen die een specifieke halte bedienen.",
            "about_planning": "Stapsgewijze planning",
            "about_planning_desc": "De planner maakt het mogelijk een sequentiële route op te bouwen. Bij het toevoegen van een stad wordt een lijst met direct verbonden bestemmingen gegenereerd om de volgende stap te selecteren.",
            "about_export": "Gegevens exporteren",
            "about_export_desc": "Gemaakte routes kunnen worden geëxporteerd als PDF. Dit document bevat een overzicht van de stappen en een kaartafbeelding van de reis.",
            "data_sources": "Gegevensbronnen (GTFS)",
            "data_sources_desc": "De gegevens zijn afkomstig van officiële GTFS-feeds beschikbaar op transport.data.gouv.fr. Linia unificeert deze feeds voor gecentraliseerde raadpleging.",
            "download_gtfs": "Download Unified GTFS (.zip)",
            "return_home": "← Terug naar home",
            "btn_close": "Sluiten",
            "disclaimer_title": "Informatieve opmerking",
            "disclaimer_text": "Linia is gebaseerd op de GTFS-gegevens van Flixbus en BlaBlaCar. De weergegeven gegevens kunnen fouten bevatten of onvolledig zijn. Het doel van de applicatie is visualisatie en deze zal nooit zo nauwkeurig zijn als de officiële applicaties van Flixbus en BlaBlaCar of hun partners.",
            "nav_legal": "Juridische Informatie",
            "legal_title": "Juridische Informatie",
            "legal_editor_title": "1. Websitebeheerder",
            "legal_editor_content": "De Linia-site wordt op niet-professionele basis beheerd. In overeenstemming met artikel 6-III-2 van de Franse wet nr. 2004-575 van 21 juni 2004 (LCEN), heeft de beheerder ervoor gekozen anoniem te blijven. De contactgegevens van de beheerder zijn doorgegeven aan de host.",
            "legal_hosting_title": "2. Hosting",
            "legal_hosting_content": "De site wordt gehost door Render Services, Inc., 520 High St, Palo Alto, CA 94301, VS (render.com).",
            "legal_intellectual_title": "3. Intellectueel Eigendom en Bronnen",
            "legal_intellectual_content": "De eigen inhoud van de site (code, ontwerp) is beschermd door auteursrecht. De getoonde transportgegevens zijn afkomstig uit open bronnen (via transport.data.gouv.fr). Ze vallen onder de Open Database License (ODbL). De gebruiker is verplicht de voorwaarden van deze licentie te respecteren bij elk hergebruik van deze gegevens.",
            "legal_responsibility_title": "4. Verantwoordelijkheid",
            "legal_responsibility_content": "De beheerder verstrekt de transportinformatie 'zoals deze is'. Hij garandeert niet de juistheid van de dienstregelingen of de continue beschikbaarheid van de dienst en kan niet verantwoordelijk worden gehouden voor de gevolgen van het gebruik van de informatie op de site.",
            "legal_privacy_title": "5. Persoonsgegevens en Cookies",
            "legal_privacy_content": "Linia verzamelt geen persoonlijke gegevens. De lokale opslag (Local Storage) van uw browser wordt uitsluitend gebruikt om uw voorkeuren (recente zoekopdrachten, taal) te onthouden om de gebruikerservaring te verbeteren. Er worden geen cookies van derden of advertentietrackers gebruikt.",
            "faq_title": "FAQ",
            "faq_free_q": "Is Linia gratis?",
            "faq_free_a": "Ja, de tool is volledig gratis en reclamevrij.",
            "faq_countries_q": "Welke landen worden gedekt?",
            "faq_countries_a": "Linia dekt voornamelijk Europa: Frankrijk, Duitsland, Spanje, Italië, Benelux en andere Europese landen die door FlixBus en BlaBlaCar Bus worden bediend.",
            "faq_update_q": "Hoe vaak worden de gegevens bijgewerkt?",
            "faq_update_a": "De GTFS-gegevens worden op de eerste dag van elke maand bijgewerkt.",
            "faq_report_q": "Hoe kan ik een fout melden of een verbetering voorstellen?",
            "faq_report_a": "U kunt een issue openen in de GitHub-repository van het project of contact opnemen met de ontwikkelaar via contact@liniabus.eu"
        },
        sq: {
            "welcome": "Mirësevini në",
            "search_placeholder": "Nga ku doni të niseni?",
            "btn_planner": "Krijo një itinerar",
            "btn_how": "Si funksionon",
            "recent_searches": "Kërkimet e fundit",
            "nav_home": "Faqja kryesore",
            "nav_itinerary": "Itinerari",
            "nav_info": "Info",
            "footer_signature": "Страказа жывая",
            "loading": "Duke u ngarkuar...",
            "err_search": "Gabim në kërkim.",
            "err_connection": "Nuk mund të kontaktohet serveri.",
            "no_stop_found": "Nuk u gjet asnjë ndalesë.",
            "this_stop": "këtë ndalesë",
            "lines_from_stop_html": "Linjat që nisen nga:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Asnjë linjë nuk shërben në këtë ndalesë.",
            "no_search_result": "Asnjë rezultat për këtë kërkim.",
            "unnamed_line": "Linjë pa emër",
            "no_stop_available": "Asnjë ndalesë e disponueshme.",
            "trip_proposed_by": "Udhëtim i ofruar nga {operatorName}",
            "unknown_operator": "një operator i panjohur",
            "proposed_by": "Udhëtim i ofruar nga",
            "unknown_op": "një operator i panjohur",
            "itinerary_title": "Itinerari Im",
            "btn_undo": "Hiq hapin e fundit",
            "btn_reset": "Pastro të gjitha",
            "planner_empty": "Kërkoni një qytet për të filluar itinerarin tuaj",
            "btn_load": "Ngarko",
            "btn_save": "Ruaj",
            "btn_pdf": "Gjenero PDF",
            "search_start": "Kërko një qytet nisjeje...",
            "search_step": "Shto një hap...",
            "connected_cities": "Qytete të lidhura",
            "from": "Nga",
            "filter_cities": "Filtro qytetet...",
            "already_last": "Ky qytet është tashmë hapi i fundit.",
            "not_connected": "Kjo ndalesë nuk është e lidhur drejtpërdrejt me hapin tuaj të fundit.",
            "already_added": "Tashmë e shtuar",
            "step_start": "Nisje",
            "step_last": "Hapi i fundit",
            "step_generic": "Hapi",
            "pdf_warning_dots": "Shtoni të paktën 2 qytete për të gjeneruar një PDF.",
            "pdf_generating": "Duke gjeneruar PDF...",
            "pdf_timeout": "Kapja e hartës zgjati shumë. Duke gjeneruar PDF pa hartë.",
            "pdf_canvas_err": "Gabim gjatë kapjes së hartës. PDF u gjenerua pa hartë.",
            "pdf_success": "PDF u gjenerua me sukses!",
            "toast_removed": "Hapi i fundit u hoq.",
            "toast_cleared": "Itinerari u pastrua.",
            "toast_saved": "Itinerari u ruajt (JSON).",
            "toast_loaded": "Itinerari u ngarkua me sukses.",
            "cities_connected_count_one": "1 qytet i lidhur",
            "cities_connected_count_other": "{count} qytete të lidhura",
            "cities_connected_count": "{count} qytet{plural} i lidhur{plural}",
            "about_title": "Rreth",
            "about_header": "Si funksionon",
            "about_intro": "Linia është një mjet vizualizimi i të dhënave të transportit publik për linjat e autobusëve në distanca të gjata.",
            "about_networks": "Vizualizimi i rrjeteve",
            "about_networks_desc": "Aplikacioni grumbullon të dhëna nga dy operatorë: Flixbus dhe BlaBlaCar Bus. Kërkimi ju lejon të shfaqni linjat që shërbejnë në një ndalesë të caktuar.",
            "about_planning": "Planifikimi hap pas hapi",
            "about_planning_desc": "Planifikuesi ju lejon të ndërtoni një itinerar sekuencial. Kur shtoni një qytet, gjenerohet një listë e destinacioneve të lidhura drejtpërdrejt për të lejuar zgjedhjen e hapit tjetër.",
            "about_export": "Eksportimi i të dhënave",
            "about_export_desc": "Itineraret e krijuara mund të eksportohen në format PDF. Ky dokument përmban një përmbledhje të hapave dhe një pamje të hartës së lidhur me udhëtimin.",
            "data_sources": "Burimet e të dhënave (GTFS)",
            "data_sources_desc": "Të dhënat vijnë nga burimet zyrtare GTFS të disponueshme në transport.data.gouv.fr. Linia bën unifikimin e këtyre burimeve për të lejuar konsultim të centralizuar.",
            "download_gtfs": "Shkarko GTFS të Unifikuar (.zip)",
            "return_home": "← Kthehu në faqen kryesore",
            "btn_close": "Mbyll",
            "disclaimer_title": "Shënim informativ",
            "disclaimer_text": "Linia bazohet në të dhënat GTFS nga Flixbus dhe BlaBlaCar. Të dhënat e shfaqura mund të përmbajnë gabime ose të jenë të paplotësuara. Qëllimi i aplikacionit është vizualizimi dhe nuk do të jetë kurrë aq i saktë as aplikacionet zyrtare të Flixbus dhe BlaBlaCar ose partnerëve të tyre.",
            "nav_legal": "Mencionet Ligjore",
            "legal_title": "Mencionet Ligjore",
            "legal_editor_title": "1. Botuesi i faqes",
            "legal_editor_content": "Faqja Linia është botuar në cilësi joprofesionale. Në përputhje me dispozitat e nenit 6-III-2 të Ligjit francez nr. 2004-575 të 21 qershorit 2004 (LCEN), botuesi ka zgjedhur të mbetet anonim. Informacioni i identifikimit personal i është transmetuar hostit.",
            "legal_hosting_title": "2. Hosting",
            "legal_hosting_content": "Faqja hostohet nga Render Services, Inc., 520 High St, Palo Alto, CA 94301, USA (render.com).",
            "legal_intellectual_title": "3. Pronësia Intelektuale dhe Burimet",
            "legal_intellectual_content": "Përmbajtja e vetë faqes (kodi, dizajni) mbrohet nga e drejta e autorit. Të dhënat e transportit të shfaqura vijnë nga burime të hapura (përmes transport.data.gouv.fr). Ato rregullohen nga Open Database License (ODbL). Përdoruesi kërkohet të respektojë kushtet e kësaj licence për çdo riperdorim të këtyre të dhënave.",
            "legal_responsibility_title": "4. Përgjegjësia",
            "legal_responsibility_content": "Botuesi ofron informacionin e transportit 'siç është'. Ai nuk garanton saktësinë e orareve apo disponueshmërinë e vazhdueshme të shërbimit dhe nuk mund të mbahet përgjegjës për pasojat lidhur me përdorimin e informacionit në faqe.",
            "legal_privacy_title": "5. Të dhënat personale dhe Cookies",
            "legal_privacy_content": "Linia nuk mbledh asnjë të dhënë personale. Ruajtja lokale e shfletuesit tuaj përdoret ekskluzivisht për të mbajtur mend preferencat tuaja (kërkimet e fundit, gjuha) në mënyrë që të përmirësohet përvoja e përdoruesit. Nuk përdoren cookie të palëve të treta apo gjurmues reklamash.",
            "faq_title": "FAQ",
            "faq_free_q": "A është Linia falas?",
            "faq_free_a": "Po, mjeti është plotësisht falas dhe pa reklama.",
            "faq_countries_q": "Cilat vende janë të mbuluara?",
            "faq_countries_a": "Linia mbulon kryesisht Evropën: Francë, Gjermani, Spanjë, Itali, Beneluks dhe vende të tjera evropiane të shërbyera nga FlixBus dhe BlaBlaCar Bus.",
            "faq_update_q": "Sa shpesh përditësohen të dhënat?",
            "faq_update_a": "Të dhënat GTFS përditësohen të ditën e parë të çdo muaji.",
            "faq_report_q": "Si mund të raportoj një gabim ose të propozoj një përmirësim?",
            "faq_report_a": "Mund të hapni një issue në depon e projektit në GitHub ose të kontaktoni zhvilluesin përmes contact@liniabus.eu"
        },
        ca: {
            "welcome": "Benvinguts a",
            "search_placeholder": "Des d'on vols sortir?",
            "btn_planner": "Crear un itinerari",
            "btn_how": "Com funciona",
            "recent_searches": "Cerques recents",
            "nav_home": "Inici",
            "nav_itinerary": "Itinerari",
            "nav_info": "Info",
            "footer_signature": "Страказа жывая",
            "loading": "Carregant...",
            "err_search": "Error de cerca.",
            "err_connection": "No es pot contactar amb el servidor.",
            "no_stop_found": "No s'han trobat parades.",
            "this_stop": "aquesta parada",
            "lines_from_stop_html": "Línies que surten de:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Cap línia serveix a aquesta parada.",
            "no_search_result": "Sense resultats per a aquesta cerca.",
            "unnamed_line": "Línia sense nom",
            "no_stop_available": "Cap parada disponible.",
            "trip_proposed_by": "Viatge ofert per {operatorName}",
            "unknown_operator": "un operador desconegut",
            "proposed_by": "Viatge ofert per",
            "unknown_op": "un operador desconegut",
            "itinerary_title": "El Meu Itinerari",
            "btn_undo": "Treure l'últim pas",
            "btn_reset": "Esborrar tot",
            "planner_empty": "Cerca una ciutat per començar el teu itinerari",
            "btn_load": "Carregar",
            "btn_save": "Desar",
            "btn_pdf": "Generar PDF",
            "search_start": "Cerca una ciutat de sortida...",
            "search_step": "Afegeix un pas...",
            "connected_cities": "Ciutats connectades",
            "from": "Des de",
            "filter_cities": "Filtrar ciutats...",
            "already_last": "Aquesta ciutat ja és l'últim pas.",
            "not_connected": "Aquesta parada no està directament connectada amb el teu últim pas.",
            "already_added": "Ja afegida",
            "step_start": "Sortida",
            "step_last": "Últim pas",
            "step_generic": "Pas",
            "pdf_warning_dots": "Afegeix almenys 2 ciutats per generar un PDF.",
            "pdf_generating": "Generant PDF...",
            "pdf_timeout": "La captura del mapa ha trigat massa. Generant PDF sense mapa.",
            "pdf_canvas_err": "Error en capturar el mapa. PDF generat sense mapa.",
            "pdf_success": "PDF generat amb èxit!",
            "toast_removed": "Últim pas eliminat.",
            "toast_cleared": "Itinerari esborrat.",
            "toast_saved": "Itinerari desat (JSON).",
            "toast_loaded": "Itinerari carregat amb èxit.",
            "cities_connected_count_one": "1 ciutat connectada",
            "cities_connected_count_other": "{count} ciutats connectades",
            "cities_connected_count": "{count} ciutat{plural} connectada{plural}",
            "about_title": "Sobre",
            "about_header": "Com funciona",
            "about_intro": "Linia és una eina de visualització de dades de transport públic per a línies d'autobusos de llarga distància.",
            "about_networks": "Visualització de xarxes",
            "about_networks_desc": "L'aplicació agrega dades de dos operadors: Flixbus i BlaBlaCar Bus. La cerca permet mostrar les línies que serveixen a una parada específica.",
            "about_planning": "Planificació per passos",
            "about_planning_desc": "El planificador permet construir un itinerari seqüencial. En afegir una ciutat, es genera una llista de destinacions directament connectades per permetre la selecció del següent pas.",
            "about_export": "Exportació de dades",
            "about_export_desc": "Els itineraris creats es poden exportar en format PDF. Aquest document conté un resum dels passos i una captura del mapa associat al viatge.",
            "data_sources": "Fonts de dades (GTFS)",
            "data_sources_desc": "Les dades provenen de fonts GTFS oficials disponibles a transport.data.gouv.fr. Linia realitza una unificació d'aquestes fonts per permetre una consulta centralitzada.",
            "download_gtfs": "Descarregar GTFS Unificat (.zip)",
            "return_home": "← Tornar a l'inici",
            "btn_close": "Tancar",
            "disclaimer_title": "Nota informativa",
            "disclaimer_text": "Linia es basa en les dades GTFS de Flixbus i BlaBlaCar. Les dades mostrades poden contenir errors o estar incompletes. L'objectiu de l'aplicació és la visualització i mai podrà ser tan exacta com les aplicacions oficials de Flixbus i BlaBlaCar o els seus socis.",
            "nav_legal": "Avís Legal",
            "legal_title": "Avís Legal",
            "legal_editor_title": "1. Editor del lloc",
            "legal_editor_content": "D'acord amb les disposicions de l'article 6-III-2 de la Llei francesa n. 2004-575 de 21 de juny de 2004 (LCEN), l'editor d'aquest lloc ha optat per romandre en l'anonimat. La informació d'identificació personal ha estat transmesa a l'host.",
            "legal_editor_sub": "Aquest lloc és editat a títol no professional.",
            "legal_hosting_title": "2. Allotjament",
            "legal_hosting_intro": "El lloc Linia està allotjat per:",
            "legal_hosting_site": "Lloc web:",
            "legal_hosting_content": "Render Services, Inc., 520 High St, Palo Alto, CA 94301, EUA (render.com)",
            "legal_intellectual_title": "3. Propietat Intel·lectual i Fonts",
            "legal_intellectual_content": "El contingut propi del lloc (codi, disseny) està protegit per drets d'autor. Les dades de transport mostrades provenen de fonts obertes (via transport.data.gouv.fr). Es regeixen per la llicència Open Database License (ODbL). L'usuari ha de respectar els termes d'aquesta llicència per a qualsevol reutilització d'aquestes dades.",
            "legal_responsibility_title": "4. Responsabilitat",
            "legal_responsibility_content": "L'editor proporciona la informació de transport 'tal com és'. No garanteix l'exactitud dels horaris ni la disponibilitat contínua del servei i no pot ser responsable de les conseqüències relacionades amb l'ús de la informació present al lloc.",
            "legal_privacy_title": "5. Dades Personals i Cookies",
            "legal_privacy_content": "Linia no recull cap dada personal. L'emmagatzematge local (Local Storage) del vostre navegador s'utilitza exclusivament per recordar les vostres preferències (cerques recents, idioma) per millorar l'experiència d'usuari. No s'utilitzen galetes de tercers ni rastrejadors publicitaris.",
            "faq_title": "FAQ",
            "faq_free_q": "És Linia gratuït?",
            "faq_free_a": "Sí, l'eina és completament gratuïta i sense publicitat.",
            "faq_countries_q": "Quins països estan coberts?",
            "faq_countries_a": "Linia cobreix principalment Europa: França, Alemanya, Espanya, Itàlia, Benelux i altres països europeus servits per FlixBus i BlaBlaCar Bus.",
            "faq_update_q": "Amb quina freqüència s'actualitzen les dades?",
            "faq_update_a": "Les dades GTFS s'actualitzen el primer dia de cada mes.",
            "faq_report_q": "Com puc informar d'un error o suggerir una millora?",
            "faq_report_a": "Podeu obrir una issue al repositori GitHub del projecte o contactar amb el desenvolupador mitjançant contact@liniabus.eu"
        },
        hr: {
            "welcome": "Dobrodošli u",
            "search_placeholder": "Odakle želite krenuti?",
            "btn_planner": "Stvori plan puta",
            "btn_how": "Kako radi",
            "recent_searches": "Nedavna pretraživanja",
            "nav_home": "Početna",
            "nav_itinerary": "Plan puta",
            "nav_info": "Informacije",
            "footer_signature": "Страказа жывая",
            "loading": "Učitavanje...",
            "err_search": "Greška pri pretraživanju.",
            "err_connection": "Nemoguće kontaktirati poslužitelj.",
            "no_stop_found": "Nije pronađeno nijedno stajalište.",
            "this_stop": "ovo stajalište",
            "lines_from_stop_html": "Linije koje polaze iz:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Nijedna linija ne opslužuje ovo stajalište.",
            "no_search_result": "Nema rezultata za ovo pretraživanje.",
            "unnamed_line": "Linija bez imena",
            "no_stop_available": "Nema dostupnih stajališta.",
            "trip_proposed_by": "Putovanje nudi {operatorName}",
            "unknown_operator": "nepoznati operater",
            "proposed_by": "Putovanje nudi",
            "unknown_op": "nepoznati operater",
            "itinerary_title": "Moj plan puta",
            "btn_undo": "Ukloni zadnji korak",
            "btn_reset": "Izbriši sve",
            "planner_empty": "Pretražite grad da započnete svoj plan puta",
            "btn_load": "Učitaj",
            "btn_save": "Spremi",
            "btn_pdf": "Generiraj PDF",
            "search_start": "Pretraži grad polaska...",
            "search_step": "Dodaj korak...",
            "connected_cities": "Povezani gradovi",
            "from": "Od",
            "filter_cities": "Filtriraj gradove...",
            "already_last": "Ovaj grad je već zadnji korak.",
            "not_connected": "Ovo stajalište nije izravno povezano s vašim zadnjim korakom.",
            "already_added": "Već dodano",
            "step_start": "Polazak",
            "step_last": "Zadnji korak",
            "step_generic": "Korak",
            "pdf_warning_dots": "Dodajte najmanje 2 grada za generiranje PDF-a.",
            "pdf_generating": "Generiranje PDF-a...",
            "pdf_timeout": "Snimanje karte je trajalo predugo. Generiranje PDF-a bez karte.",
            "pdf_canvas_err": "Greška pri snimanju karte. PDF generiran bez karte.",
            "pdf_success": "PDF uspješno generiran!",
            "toast_removed": "Zadnji korak uklonjen.",
            "toast_cleared": "Plan puta izbrisan.",
            "toast_saved": "Plan puta spremljen (JSON).",
            "toast_loaded": "Plan puta uspješno učitano.",
            "cities_connected_count_one": "1 povezani grad",
            "cities_connected_count_other": "{count} povezanih gradova",
            "cities_connected_count": "{count} povezan{plural} grad{plural}",
            "about_title": "O aplikaciji",
            "about_header": "Kako radi",
            "about_intro": "Linia je alat za vizualizaciju podataka javnog prijevoza za linije međugradskih autobusa.",
            "about_networks": "Vizualizacija mreža",
            "about_networks_desc": "Aplikacija objedinjuje podatke dva operatera: Flixbus i BlaBlaCar Bus. Pretraživanje omogućuje prikaz linija koje opslužuju određeno stajalište.",
            "about_planning": "Planiranje korak po korak",
            "about_planning_desc": "Planer omogućuje izgradnju sekvencijalnog plana puta. Prilikom dodavanja grada generira se popis izravno povezanih odredišta za odabir sljedećeg koraka.",
            "about_export": "Izvoz podataka",
            "about_export_desc": "Stvoreni planovi puta mogu se izvesti u PDF format. Ovaj dokument sadrži sažetak koraka i snimku karte povezane s putovanjem.",
            "data_sources": "Izvori podataka (GTFS)",
            "data_sources_desc": "Podaci dolaze iz službenih GTFS feedova dostupnih na transport.data.gouv.fr. Linia provodi objedinjavanje tih feedova za centralizirano pretraživanje.",
            "download_gtfs": "Preuzmi objedinjeni GTFS (.zip)",
            "return_home": "← Povratak na početnu",
            "btn_close": "Zatvori",
            "disclaimer_title": "Informativna napomena",
            "disclaimer_text": "Linia se temelji na GTFS podacima Flixbusa i BlaBlaCara. Prikazani podaci mogu sadržavati pogreške ili biti nepotpuni. Cilj aplikacije je vizualizacija i nikada neće moći biti tako točna kao službene aplikacije Flixbusa i BlaBlaCara ili njihovih partnera.",
            "nav_legal": "Pravne Napomene",
            "legal_title": "Pravne Napomene",
            "legal_editor_title": "1. Urednik stranice",
            "legal_editor_content": "U skladu s odredbama članka 6-III-2 francuskog Zakona br. 2004-575 od 21. lipnja 2004. (LCEN), urednik ove stranice odlučio je ostati anoniman. Podaci o osobnom identitetu preneseni su hostu.",
            "legal_editor_sub": "Ova stranica se uređuje u neprofesionalnom svojstvu.",
            "legal_hosting_title": "2. Hosting",
            "legal_hosting_intro": "Stranicu Linia hostira:",
            "legal_hosting_site": "Web stranica:",
            "legal_hosting_content": "Render Services, Inc., 520 High St, Palo Alto, CA 94301, SAD (render.com)",
            "legal_intellectual_title": "3. Intelektualno Vlasništvo i Izvori",
            "legal_intellectual_content": "Vlastiti sadržaj stranice (kod, dizajn) zaštićen je autorskim pravima. Prikazani podaci o prijevozu potječu iz otvorenih izvora (putem transport.data.gouv.fr). Oni su uređeni licencom Open Database License (ODbL). Korisnik je dužan poštivati uvjete ove licence za svaku ponovnu uporabu tih podataka.",
            "legal_responsibility_title": "4. Odgovornost",
            "legal_responsibility_content": "Urednik pruža informacije o prijevozu 'kakve jesu'. Ne jamči točnost redova vožnje niti kontinuiranu dostupnost usluge i ne može se smatrati odgovornim za posljedice povezane s korištenjem informacija na stranici.",
            "legal_privacy_title": "5. Osobni podaci i kolačići",
            "legal_privacy_content": "Linia ne prikuplja nikakve osobne podatke. Lokalna pohrana vašeg preglednika koristi se isključivo za pamćenje vaših preferencija (nedavna pretraživanja, jezik) radi poboljšanja korisničkog iskustva. Ne koriste se kolačići trećih strana niti reklamni tragači.",
            "faq_title": "FAQ",
            "faq_free_q": "Je li Linia besplatan?",
            "faq_free_a": "Da, alat je potpuno besplatan i bez oglasa.",
            "faq_countries_q": "Koje su zemlje pokrivene?",
            "faq_countries_a": "Linia pokriva uglavnom Europu: Francusku, Njemačku, Španjolsku, Italiju, Beneluks i druge europske zemlje koje opslužuju FlixBus i BlaBlaCar Bus.",
            "faq_update_q": "Koliko se često podaci ažuriraju?",
            "faq_update_a": "GTFS podaci ažuriraju se prvog dana svakog mjeseca.",
            "faq_report_q": "Kako mogu prijaviti pogrešku ili predložiti poboljšanje?",
            "faq_report_a": "Možete otvoriti issue u GitHub repozitoriju projekta ili kontaktirati developera putem contact@liniabus.eu"
        },
        bg: {
            "welcome": "Добре дошли в",
            "search_placeholder": "Откъде искате да тръгнете?",
            "btn_planner": "Създай маршрут",
            "btn_how": "Как работи",
            "recent_searches": "Скорошни търсения",
            "nav_home": "Начало",
            "nav_itinerary": "Маршрут",
            "nav_info": "Инфо",
            "footer_signature": "Страказа жывая",
            "loading": "Зареждане...",
            "err_search": "Грешка при търсене.",
            "err_connection": "Не може да се свърже със сървъра.",
            "no_stop_found": "Няма намерени спирки.",
            "this_stop": "тази спирка",
            "lines_from_stop_html": "Линии, тръгващи от:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Никоя линия не обслужва тази спирка.",
            "no_search_result": "Няма резултати за това търсене.",
            "unnamed_line": "Линия без име",
            "no_stop_available": "Няма налични спирки.",
            "trip_proposed_by": "Пътуване, предложено от {operatorName}",
            "unknown_operator": "непознат оператор",
            "proposed_by": "Пътуване, предложено от",
            "unknown_op": "непознат оператор",
            "itinerary_title": "Моят маршрут",
            "btn_undo": "Премахни последната стъпка",
            "btn_reset": "Изчисти всичко",
            "planner_empty": "Потърсете град, за да започнете своя маршрут",
            "btn_load": "Зареди",
            "btn_save": "Запази",
            "btn_pdf": "Генерирай PDF",
            "search_start": "Търсене на начален град...",
            "search_step": "Добави стъпка...",
            "connected_cities": "Свързани градове",
            "from": "От",
            "filter_cities": "Филтрирай градове...",
            "already_last": "Този град вече е последната стъпка.",
            "not_connected": "Тази спирка не е директно свързана с последната ви стъпка.",
            "already_added": "Вече добавено",
            "step_start": "Начало",
            "step_last": "Последна стъпка",
            "step_generic": "Стъпка",
            "pdf_warning_dots": "Добавете поне 2 града, за да генерирате PDF.",
            "pdf_generating": "Генериране на PDF...",
            "pdf_timeout": "Заснемането на картата отне твърде много време. Генериране на PDF без карта.",
            "pdf_canvas_err": "Грешка при заснемане на картата. PDF генериран без карта.",
            "pdf_success": "PDF генериран успешно!",
            "toast_removed": "Последната стъпка е премахната.",
            "toast_cleared": "Маршрутът е изчистен.",
            "toast_saved": "Маршрутът е запазен (JSON).",
            "toast_loaded": "Маршрутът е зареден успешно.",
            "cities_connected_count_one": "1 свързан град",
            "cities_connected_count_other": "{count} свързани града",
            "cities_connected_count": "{count} свързан{plural} град{plural}",
            "about_title": "Относно",
            "about_header": "Как работи",
            "about_intro": "Linia е инструмент за визуализация на данни за обществения транспорт за линии на дълги разстояния.",
            "about_networks": "Визуализация на мрежи",
            "about_networks_desc": "Приложението събира данни от два оператора: Flixbus и BlaBlaCar Bus. Търсенето позволява показване на линиите, обслужващи конкретна спирка.",
            "about_planning": "Планиране стъпка по стъпка",
            "about_planning_desc": "Планировчикът позволява изграждането на последователен маршрут. При добавяне на град се генерира списък с директно свързани дестинации за избор на следващата стъпка.",
            "about_export": "Експорт на данни",
            "about_export_desc": "Създадените маршрути могат да се експортират в PDF формат. Този документ съдържа обобщение на стъпките и снимка на картата, свързана с пътуването.",
            "data_sources": "Източници на данни (GTFS)",
            "data_sources_desc": "Данните идват от официални GTFS потоци, налични на transport.data.gouv.fr. Linia извършва обединение на тези потоци за централизирано консултиране.",
            "download_gtfs": "Изтеглете Unified GTFS (.zip)",
            "return_home": "← Обратно към началото",
            "btn_close": "Затвори",
            "disclaimer_title": "Информационна бележка",
            "disclaimer_text": "Linia се основава на GTFS данни от Flixbus и BlaBlaCar. Показаните данни могат да съдържат грешки или да бъдат непълни. Целта на приложението е визуализация и то никога няма да бъде толкова точно, колкото официалните приложения на Flixbus и BlaBlaCar или техните партньори.",
            "nav_legal": "Правни бележки",
            "legal_title": "Правни бележки",
            "legal_editor_title": "1. Редактор на сайта",
            "legal_editor_content": "Сайтът Linia се редактира в непрофесионално качество. В съответствие с член 6-III-2 от Закон № 2004-575 от 21 юни 2004 г. (LCEN), редакторът е избрал да остане анонимен. Данните за контакт на редактора са предадени на хоста.",
            "legal_hosting_title": "2. Хостинг",
            "legal_hosting_content": "Сайтът се хоства от Render Services, Inc., 520 High St, Palo Alto, CA 94301, САЩ (render.com).",
            "legal_intellectual_title": "3. Интелектуална собственост и източници",
            "legal_intellectual_content": "Собственото съдържание на сайта (код, дизайн) е защитено с авторско право. Показваните транспортни данни идват от отворени източници (чрез transport.data.gouv.fr). Те се уреждат от Open Database License (ODbL). Потребителят е длъжен да спазва условията на този лиценз за всяко повторно използване на тези данни.",
            "legal_responsibility_title": "4. Отговорност",
            "legal_responsibility_content": "Редакторът предоставя транспортната информация 'както е'. Той не гарантира точността на разписанията нито непрекъснатата наличност на услугата и не може да носи отговорност за последствия, свързани с използването на информацията на сайта.",
            "legal_privacy_title": "5. Лични данни и бисквитки",
            "legal_privacy_content": "Linia не събира никакви лични данни. Локалното хранилище (Local Storage) на вашия браузър се използва единствено за запомняне на вашите предпочитания (скорошни търсения, език) с цел подобряване на потребителското изживяване. Не се използват бисквитки на трети страни или рекламни тракери.",
            "faq_title": "FAQ",
            "faq_free_q": "Безплатен ли е Linia?",
            "faq_free_a": "Да, инструментът е напълно безплатен и без реклами.",
            "faq_countries_q": "Кои държави са покрити?",
            "faq_countries_a": "Linia покрива предимно Европа: Франция, Германия, Испания, Италия, Бенелюкс и други европейски държави, обслужвани от FlixBus и BlaBlaCar Bus.",
            "faq_update_q": "Колко често се актуализират данните?",
            "faq_update_a": "GTFS данните се актуализират на първия ден на всеки месец.",
            "faq_report_q": "Как мога да докладвам грешка или да предложа подобрение?",
            "faq_report_a": "Можете да отворите issue в GitHub хранилището на проекта или да се свържете с разработчика чрез contact@liniabus.eu"
        },
        da: {
            "welcome": "Velkommen til",
            "search_placeholder": "Hvor vil du starte fra?",
            "btn_planner": "Opret en rute",
            "btn_how": "Sådan fungerer det",
            "recent_searches": "Seneste søgninger",
            "nav_home": "Hjem",
            "nav_itinerary": "Rute",
            "nav_info": "Info",
            "footer_signature": "Страказа жывая",
            "loading": "Indlæser...",
            "err_search": "Søgefejl.",
            "err_connection": "Kan ikke kontakte serveren.",
            "no_stop_found": "Ingen stop fundet.",
            "this_stop": "dette stop",
            "lines_from_stop_html": "Linjer der afgår fra:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Ingen linjer betjener dette stop.",
            "no_search_result": "Ingen resultater for denne søgning.",
            "unnamed_line": "Unavngiven linje",
            "no_stop_available": "Ingen stop tilgængelige.",
            "trip_proposed_by": "Rejse tilbudt af {operatorName}",
            "unknown_operator": "en ukendt operatør",
            "proposed_by": "Rejse tilbudt af",
            "unknown_op": "en ukendt operatør",
            "itinerary_title": "Min rute",
            "btn_undo": "Fjern sidste trin",
            "btn_reset": "Ryd alt",
            "planner_empty": "Søg efter en by for at starte din rute",
            "btn_load": "Indlæs",
            "btn_save": "Gem",
            "btn_pdf": "Generer PDF",
            "search_start": "Søg efter en afgangsby...",
            "search_step": "Tilføj et trin...",
            "connected_cities": "Forbundne byer",
            "from": "Fra",
            "filter_cities": "Filtrer byer...",
            "already_last": "Denne by er allerede det sidste trin.",
            "not_connected": "Dette stop er ikke direkte forbundet med dit sidste trin.",
            "already_added": "Allerede tilføjet",
            "step_start": "Start",
            "step_last": "Sidste trin",
            "step_generic": "Trin",
            "pdf_warning_dots": "Tilføj mindst 2 byer for at generere en PDF.",
            "pdf_generating": "Genererer PDF...",
            "pdf_timeout": "Kortoptagelse tog for lang tid. Genererer PDF uden kort.",
            "pdf_canvas_err": "Fejl ved optagelse af kort. PDF genereret uden kort.",
            "pdf_success": "PDF genereret med succes!",
            "toast_removed": "Sidste trin fjernet.",
            "toast_cleared": "Rute ryddet.",
            "toast_saved": "Rute gemt (JSON).",
            "toast_loaded": "Rute indlæst med succes.",
            "cities_connected_count_one": "1 forbundet by",
            "cities_connected_count_other": "{count} forbundne byer",
            "cities_connected_count": "{count} forbundet by{plural}",
            "about_title": "Om",
            "about_header": "Sådan fungerer det",
            "about_intro": "Linia er et værktøj til visualisering af offentlig transportdata for langdistancebuslinjer.",
            "about_networks": "Netværksvisualisering",
            "about_networks_desc": "Applikationen samler data fra to operatører: Flixbus og BlaBlaCar Bus. Søgning giver dig mulighed for at vise linjer, der betjener et specifikt stop.",
            "about_planning": "Trin-for-trin planlægning",
            "about_planning_desc": "Planlæggeren giver dig mulighed for at opbygge en sekventiel rute. Når du tilføjer en by, genereres en liste over direkte forbundne destinationer for at vælge næste trin.",
            "about_export": "Dataeksport",
            "about_export_desc": "Oprettede ruter kan eksporteres i PDF-format. Dette dokument indeholder en oversigt over trinene og et kortbillede af rejsen.",
            "data_sources": "Datakilder (GTFS)",
            "data_sources_desc": "Dataene kommer fra officielle GTFS-feeds tilgængelige på transport.data.gouv.fr. Linia foretager en samling af disse feeds for at muliggøre centraliseret konsultation.",
            "download_gtfs": "Download Unified GTFS (.zip)",
            "return_home": "← Tilbage til start",
            "btn_close": "Luk",
            "disclaimer_title": "Informationsnote",
            "disclaimer_text": "Linia er baseret på GTFS-data fra Flixbus og BlaBlaCar. De viste data kan indeholde fejl eller være ufuldstændige. Formålet med applikationen er visualisering og vil aldrig være så nøjagtig som de officielle applikationer fra Flixbus og BlaBlaCar eller deres partnere.",
            "nav_legal": "Juridisk Information",
            "legal_title": "Juridisk Information",
            "legal_editor_title": "1. Redaktør",
            "legal_editor_content": "Linia-webstedet redigeres i en ikke-professionel egenskab. I overensstemmelse med bestemmelserne i artikel 6-III-2 i fransk lov nr. 2004-575 af 21. juni 2004 (LCEN) har redaktøren valgt at forblive anonym. Identifikationsoplysninger er blevet overført til hosten.",
            "legal_hosting_title": "2. Hosting",
            "legal_hosting_content": "Webstedet hostes af Render Services, Inc., 520 High St, Palo Alto, CA 94301, USA (render.com).",
            "legal_intellectual_title": "3. Intellektuel Ejendom og Kilder",
            "legal_intellectual_content": "Webstedets eget indhold (kode, design) er beskyttet af ophavsret. De viste transportdata kommer fra åbne kilder (via transport.data.gouv.fr). De er omfattet af Open Database License (ODbL). Brugeren er forpligtet til at overholde betingelserne i denne licens for enhver videreanvendelse af disse data.",
            "legal_responsibility_title": "4. Ansvar",
            "legal_responsibility_content": "Redaktøren leverer transportoplysningerne 'som de er'. Han garanterer hverken nøjagtigheden af tidsplanerne eller den kontinuerlige tilgængelighed af tjenesten og kan ikke holdes ansvarlig for konsekvenserne i forbindelse med brugen af oplysningerne på webstedet.",
            "legal_privacy_title": "5. Personlige Data og Cookies",
            "legal_privacy_content": "Linia indsamler ingen personlige data. Din browsers lokale lager (Local Storage) bruges udelukkende til at huske dine præferencer (seneste søgninger, sprog) for at forbedre brugeroplevelsen. Der bruges ingen tredjepartscookies eller annoncesporere.",
            "faq_title": "FAQ",
            "faq_free_q": "Er Linia gratis?",
            "faq_free_a": "Ja, værktøjet er helt gratis og reklamefrit.",
            "faq_countries_q": "Hvilke lande er dækket?",
            "faq_countries_a": "Linia dækker primært Europa: Frankrig, Tyskland, Spanien, Italien, Benelux og andre europæiske lande betjent af FlixBus og BlaBlaCar Bus.",
            "faq_update_q": "Hvor ofte opdateres dataene?",
            "faq_update_a": "GTFS-data opdateres den første dag i hver måned.",
            "faq_report_q": "Hvordan kan jeg rapportere en fejl eller foreslå en forbedring?",
            "faq_report_a": "Du kan åbne et issue i projektets GitHub-arkiv eller kontakte udvikleren via contact@liniabus.eu"
        },
        et: {
            "welcome": "Tere tulemast",
            "search_placeholder": "Kust soovite alustada?",
            "btn_planner": "Loo marsruut",
            "btn_how": "Kuidas see töötab",
            "recent_searches": "Hiljutised otsingud",
            "nav_home": "Avaleht",
            "nav_itinerary": "Marsruut",
            "nav_info": "Teave",
            "footer_signature": "Страказа жывая",
            "loading": "Laadimine...",
            "err_search": "Otsingu viga.",
            "err_connection": "Serveriga ei saa ühendust.",
            "no_stop_found": "Peatusi ei leitud.",
            "this_stop": "see peatus",
            "lines_from_stop_html": "Liinid, mis väljuvad:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Ükski liin ei teeninda seda peatust.",
            "no_search_result": "Selle otsingu jaoks tulemusi pole.",
            "unnamed_line": "Nimetu liin",
            "no_stop_available": "Peatusi pole saadaval.",
            "trip_proposed_by": "Reisi pakub {operatorName}",
            "unknown_operator": "tundmatu operaator",
            "proposed_by": "Reisi pakub",
            "unknown_op": "tundmatu operaator",
            "itinerary_title": "Minu marsruut",
            "btn_undo": "Eemalda viimane samm",
            "btn_reset": "Tühjenda kõik",
            "planner_empty": "Otsige linna, et alustada oma marsruuti",
            "btn_load": "Laadi",
            "btn_save": "Salvesta",
            "btn_pdf": "Loo PDF",
            "search_start": "Otsi lähtelinna...",
            "search_step": "Lisa samm...",
            "connected_cities": "Ühendatud linnad",
            "from": "Alates",
            "filter_cities": "Filtreeri linnu...",
            "already_last": "See linn on juba viimane samm.",
            "not_connected": "See peatus pole otseselt ühendatud teie viimase sammuga.",
            "already_added": "Juba lisatud",
            "step_start": "Start",
            "step_last": "Viimane samm",
            "step_generic": "Samm",
            "pdf_warning_dots": "PDF-i loomiseks lisage vähemalt 2 linna.",
            "pdf_generating": "PDF-i loomine...",
            "pdf_timeout": "Kaardi jäädvustamine võttis liiga kaua aega. PDF genereeritakse ilma kaardita.",
            "pdf_canvas_err": "Viga kaardi jäädvustamisel. PDF genereeritud ilma kaardita.",
            "pdf_success": "PDF edukalt loodud!",
            "toast_removed": "Viimane samm eemaldatud.",
            "toast_cleared": "Marsruut tühjendatud.",
            "toast_saved": "Marsruut salvestatud (JSON).",
            "toast_loaded": "Marsruut edukalt laaditud.",
            "cities_connected_count_one": "1 ühendatud linn",
            "cities_connected_count_other": "{count} ühendatud linna",
            "cities_connected_count": "{count} ühendatud linn{plural}",
            "about_title": "Teave",
            "about_header": "Kuidas see töötab",
            "about_intro": "Linia on ühistranspordi andmete visualiseerimise tööriist pikkade vahemaade bussiliinide jaoks.",
            "about_networks": "Võrgustike visualiseerimine",
            "about_networks_desc": "Rakendus koondab andmeid kahelt operaatorilt: Flixbus ja BlaBlaCar Bus. Otsing võimaldab kuvada liine, mis teenindavad konkreetset peatust.",
            "about_planning": "Samm-sammult planeerimine",
            "about_planning_desc": "Planeerija võimaldab koostada järjestikuse marsruudi. Linna lisamisel luuakse otseselt ühendatud sihtkohtade loend järgmise sammu valimiseks.",
            "about_export": "Andmete eksport",
            "about_export_desc": "Loodud marsruute saab eksportida PDF-vormingus. See dokument sisaldab sammude kokkuvõtet ja reisiga seotud kaardi jäädvustust.",
            "data_sources": "Andmeallikad (GTFS)",
            "data_sources_desc": "Andmed pärinevad ametlikest GTFS-voogudest, mis on saadaval aadressil transport.data.gouv.fr. Linia ühendab need voogud, et võimaldada tsentraliseeritud konsultatsiooni.",
            "download_gtfs": "Laadige alla ühtne GTFS (.zip)",
            "return_home": "← Tagasi avalehele",
            "btn_close": "Sulge",
            "disclaimer_title": "Infomärkus",
            "disclaimer_text": "Linia põhineb Flixbusi ja BlaBlaCari GTFS-andmetel. Kuvatud andmed võivad sisaldada vigu või olla mittetäielikud. Rakenduse eesmärk on visualiseerimine ja see ei ole kunagi nii täpne kui Flixbusi ja BlaBlaCari või nende partnerite ametlikud rakendused.",
            "nav_legal": "Õiguslik teave",
            "legal_title": "Õiguslik teave",
            "legal_editor_title": "1. Väljaandja",
            "legal_editor_content": "Linia veebisaiti avaldatakse mitteprofessionaalses vormis. Vastavalt Prantsuse seaduse nr 2004-575 (LCEN) artikli 6-III-2 sätetele on toimetaja otsustanud jääda anonüümseks. Isikuandmed on edastatud majutusteenuse osutajale.",
            "legal_hosting_title": "2. Majutus",
            "legal_hosting_content": "Veebisaiti majutab Render Services, Inc., 520 High St, Palo Alto, CA 94301, USA (render.com).",
            "legal_intellectual_title": "3. Intellektuaalomand ja allikad",
            "legal_intellectual_content": "Saidie sisu (kood, disain) on kaitstud autoriõigusega. Kuvatavad transpordiandmed pärinevad avatud allikatest (transport.data.gouv.fr). Neid reguleerib Open Database License (ODbL). Kasutaja on kohustatud järgima selle litsentsi tingimusi nende andmete edasisel kasutamisel.",
            "legal_responsibility_title": "4. Vastutus",
            "legal_responsibility_content": "Toimetaja esitab transporditeabe 'nagu see on'. Ta ei garanteeri sõiduplaanide täpsust ega teenuse pidevat kättesaadavust ega vastuta saidil oleva teabe kasutamisega seotud tagajärgede eest.",
            "legal_privacy_title": "5. Isikuandmed ja küpsised",
            "legal_privacy_content": "Linia ei kogu isikuandmeid. Teie brauseri kohalikku salvestusruumi kasutatakse ainult teie eelistuste (hiljutised otsingud, keel) meeldejätmiseks kasutajakogemuse parandamiseks. Kolmandate osapoolte küpsiseid ega reklaamijälgijaid ei kasutata.",
            "faq_title": "KKK",
            "faq_free_q": "Kas Linia on tasuta?",
            "faq_free_a": "Jah, tööriist on täiesti tasuta ja reklaamivaba.",
            "faq_countries_q": "Millised riigid on kaetud?",
            "faq_countries_a": "Linia katab peamiselt Euroopat: Prantsusmaa, Saksamaa, Hispaania, Itaalia, Benelux ja teised Euroopa riigid, mida teenindavad FlixBus ja BlaBlaCar Bus.",
            "faq_update_q": "Kui sageli andmeid uuendatakse?",
            "faq_update_a": "GTFS andmeid uuendatakse igaku esimesel päeval.",
            "faq_report_q": "Kuidas saan teatada veast või esitada parandusettepanekut?",
            "faq_report_a": "Võite avada projekti GitHubi hoidlas issue või võtta arendajaga ühendust aadressil contact@liniabus.eu"
        },
        fi: {
            "welcome": "Tervetuloa",
            "search_placeholder": "Mistä haluat lähteä?",
            "btn_planner": "Luo reitti",
            "btn_how": "Kuinka se toimii",
            "recent_searches": "Viimeisimmät haut",
            "nav_home": "Koti",
            "nav_itinerary": "Reitti",
            "nav_info": "Tiedot",
            "footer_signature": "Страказа жывая",
            "loading": "Ladataan...",
            "err_search": "Hakuvirhe.",
            "err_connection": "Palvelimeen ei saada yhteyttä.",
            "no_stop_found": "Pysäkkejä ei löytynyt.",
            "this_stop": "tämä pysäkki",
            "lines_from_stop_html": "Lähtevät linjat:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Mikään linja ei palvele tätä pysäkkiä.",
            "no_search_result": "Ei tuloksia tälle haulle.",
            "unnamed_line": "Nimetön linja",
            "no_stop_available": "Ei pysäkkejä saatavilla.",
            "trip_proposed_by": "Matkan tarjoaa {operatorName}",
            "unknown_operator": "tuntematon operaattori",
            "proposed_by": "Matkan tarjoaa",
            "unknown_op": "tuntematon operaattori",
            "itinerary_title": "Minun reittini",
            "btn_undo": "Poista viimeinen vaihe",
            "btn_reset": "Tyhjennä kaikki",
            "planner_empty": "Etsi kaupunki aloittaaksesi reitin",
            "btn_load": "Lataa",
            "btn_save": "Tallenna",
            "btn_pdf": "Luo PDF",
            "search_start": "Hae lähtökaupunkia...",
            "search_step": "Lisää vaihe...",
            "connected_cities": "Yhdistetyt kaupungit",
            "from": "Mistä",
            "filter_cities": "Suodata kaupunkeja...",
            "already_last": "Tämä kaupunki on jo viimeinen vaihe.",
            "not_connected": "Tämä pysäkki ei ole suoraan yhteydessä viimeiseen vaiheeseesi.",
            "already_added": "Jo lisätty",
            "step_start": "Lähtö",
            "step_last": "Viimeinen vaihe",
            "step_generic": "Vaihe",
            "pdf_warning_dots": "Lisää vähintään 2 kaupunkia PDF:n luomiseksi.",
            "pdf_generating": "Luodaan PDF...",
            "pdf_timeout": "Kartan sieppaus kesti liian kauan. Luodaan PDF ilman karttaa.",
            "pdf_canvas_err": "Virhe kartan sieppauksessa. PDF luotu ilman karttaa.",
            "pdf_success": "PDF luotu onnistuneesti!",
            "toast_removed": "Viimeinen vaihe poistettu.",
            "toast_cleared": "Reitti tyhjennetty.",
            "toast_saved": "Reitti tallennettu (JSON).",
            "toast_loaded": "Reitti ladattu onnistuneesti.",
            "cities_connected_count_one": "1 yhdistetty kaupunki",
            "cities_connected_count_other": "{count} yhdistettyä kaupunkia",
            "cities_connected_count": "{count} yhdistetty kaupunki{plural}",
            "about_title": "Tietoja",
            "about_header": "Kuinka se toimii",
            "about_intro": "Linia on joukkoliikennedatan visualisointityökalu pitkän matkan linja-autolinjoille.",
            "about_networks": "Verkostojen visualisointi",
            "about_networks_desc": "Sovellus kokoaa tietoja kahdelta operaattorilta: Flixbus ja BlaBlaCar Bus. Haku mahdollistaa tiettyä pysäkkiä palvelevien linjojen näyttämisen.",
            "about_planning": "Vaiheittainen suunnittelu",
            "about_planning_desc": "Suunnittelijan avulla voit rakentaa peräkkäisen reitin. Kun lisäät kaupungin, luodaan luettelo suoraan yhdistetyistä kohteista seuraavan vaiheen valitsemiseksi.",
            "about_export": "Tietojen vienti",
            "about_export_desc": "Luodut reitit voidaan viedä PDF-muodossa. Tämä asiakirja sisältää yhteenvedon vaiheista ja kartan sieppauksen matkasta.",
            "data_sources": "Tietolähteet (GTFS)",
            "data_sources_desc": "Tiedot ovat peräisin virallisista GTFS-syötteistä, jotka ovat saatavilla osoitteessa transport.data.gouv.fr. Linia yhdistää nämä syötteet keskustetun konsultoinnin mahdollistamiseksi.",
            "download_gtfs": "Lataa yhdistetty GTFS (.zip)",
            "return_home": "← Palaa kotiin",
            "btn_close": "Sulje",
            "disclaimer_title": "Huomautus",
            "disclaimer_text": "Linia perustuu Flixbusin ja BlaBlaCarin GTFS-tietoihin. Näytetyissä tiedoissa voi olla virheitä tai ne voivat olla puutteellisia. Sovelluksen tarkoitus on visualisointi, eikä se ole koskaan yhtä tarkka kuin Flixbusin ja BlaBlaCarin tai niiden kumppaneiden viralliset sovellukset.",
            "nav_legal": "Oikeudelliset tiedot",
            "legal_title": "Oikeudelliset tiedot",
            "legal_editor_title": "1. Sivuston julkaisija",
            "legal_editor_content": "Ranskan lain nro 2004-575, annettu 21. kesäkuuta 2004 (LCEN), 6-III-2 artiklan säännösten mukaisesti tämän sivuston julkaisija on päättänyt pysyä nimettömänä. Henkilötiedot on toimitettu isännöintipalvelun tarjoajalle.",
            "legal_hosting_title": "2. Isännöinti",
            "legal_hosting_content": "Sivustoa isännöi Render Services, Inc., 520 High St, Palo Alto, CA 94301, USA (render.com).",
            "legal_intellectual_title": "3. Immateriaalioikeudet ja lähteet",
            "legal_intellectual_content": "Sivuston oma sisältö (koodi, muotoilu) on tekijänoikeuden suojaama. Näytetyt liikennetiedot ovat peräisin avoimista lähteistä (transport.data.gouv.fr). Niitä koskee Open Database License (ODbL). Käyttäjä on velvollinen noudattamaan tämän lisenssin ehtoja tietojen uudelleenkäytössä.",
            "legal_responsibility_title": "4. Vastuu",
            "legal_responsibility_content": "Julkaisija tarjoaa liikennetiedot 'sellaisina kuin ne ovat'. Se ei takaa aikataulujen oikeellisuutta tai palvelun jatkuvaa saatavuutta eikä ole vastuussa sivustolla olevien tietojen käytöstä aiheutuvista seurauksista.",
            "legal_privacy_title": "5. Henkilötiedot ja evästeet",
            "legal_privacy_content": "Linia ei kerää henkilötietoja. Selaimesi paikallista tallennustilaa käytetään yksinomaan mieltymystesi (viimeisimmät haut, kieli) muistamiseen käyttökokemuksen parantamiseksi. Kolmannen osapuolen evästeitä tai mainosseurantoja ei käytetä.",
            "faq_title": "UKK",
            "faq_free_q": "Onko Linia ilmainen?",
            "faq_free_a": "Kyllä, työkalu on täysin ilmainen ja mainokseton.",
            "faq_countries_q": "Mitkä maat ovat kattavuuden piirissä?",
            "faq_countries_a": "Linia kattaa pääasiassa Euroopan: Ranska, Saksa, Espanja, Italia, Benelux ja muut Euroopan maat, joita FlixBus ja BlaBlaCar Bus palvelevat.",
            "faq_update_q": "Kuinka usein tietoja päivitetään?",
            "faq_update_a": "GTFS-tiedot päivitetään kuukauden ensimmäisenä päivänä.",
            "faq_report_q": "Miten voin ilmoittaa virheestä tai ehdottaa parannusta?",
            "faq_report_a": "Voit avata issuuen projektin GitHub-tietovarastossa tai ottaa yhteyttä kehittäjään osoitteella contact@liniabus.eu"
        },
        el: {
            "welcome": "Καλώς ήρθατε στο",
            "search_placeholder": "Από πού θέλετε να ξεκινήσετε;",
            "btn_planner": "Δημιουργία διαδρομής",
            "btn_how": "Πώς λειτουργεί",
            "recent_searches": "Πρόσφατες αναζητήσεις",
            "nav_home": "Αρχική",
            "nav_itinerary": "Διαδρομή",
            "nav_info": "Πληροφορίες",
            "footer_signature": "Страказа жывая",
            "loading": "Φόρτωση...",
            "err_search": "Σφάλμα αναζήτησης.",
            "err_connection": "Αδυναμία επικοινωνίας με τον διακομιστή.",
            "no_stop_found": "Δεν βρέθηκαν στάσεις.",
            "this_stop": "αυτή η στάση",
            "lines_from_stop_html": "Γραμμές που αναχωρούν από:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Καμία γραμμή δεν εξυπηρετεί αυτή τη στάση.",
            "no_search_result": "Κανένα αποτέλεσμα για αυτήν την αναζήτηση.",
            "unnamed_line": "Γραμμή χωρίς όνομα",
            "no_stop_available": "Δεν υπάρχουν διαθέσιμες στάσεις.",
            "trip_proposed_by": "Διαδρομή που προσφέρεται από {operatorName}",
            "unknown_operator": "άγνωστος πάροχος",
            "proposed_by": "Διαδρομή που προσφέρεται από",
            "unknown_op": "άγνωστος πάροχος",
            "itinerary_title": "Η Διαδρομή μου",
            "btn_undo": "Αφαίρεση τελευταίου βήματος",
            "btn_reset": "Διαγραφή όλων",
            "planner_empty": "Αναζητήστε μια πόλη για να ξεκινήσετε τη διαδρομή σας",
            "btn_load": "Φόρτωση",
            "btn_save": "Αποθήκευση",
            "btn_pdf": "Δημιουργία PDF",
            "search_start": "Αναζήτηση πόλης αναχώρησης...",
            "search_step": "Προσθήκη βήματος...",
            "connected_cities": "Συνδεδεμένες πόλεις",
            "from": "Από",
            "filter_cities": "Φιλτράρισμα πόλεων...",
            "already_last": "Αυτή η πόλη είναι ήδη το τελευταίο βήμα.",
            "not_connected": "Αυτή η στάση δεν συνδέεται άμεσα με το τελευταίο σας βήμα.",
            "already_added": "Ήδη προστέθηκε",
            "step_start": "Αναχώρηση",
            "step_last": "Τελευταίο βήμα",
            "step_generic": "Βήμα",
            "pdf_warning_dots": "Προσθέστε τουλάχιστον 2 πόλεις για να δημιουργήσετε PDF.",
            "pdf_generating": "Δημιουργία PDF...",
            "pdf_timeout": "Η λήψη του χάρτη πήρε πολύ χρόνο. Δημιουργία PDF χωρίς χάρτη.",
            "pdf_canvas_err": "Σφάλμα κατά τη λήψη του χάρτη. Το PDF δημιουργήθηκε χωρίς χάρτη.",
            "pdf_success": "Το PDF δημιουργήθηκε με επιτυχία!",
            "toast_removed": "Το τελευταίο βήμα αφαιρέθηκε.",
            "toast_cleared": "Η διαδρομή διαγράφηκε.",
            "toast_saved": "Η διαδρομή αποθηκεύτηκε (JSON).",
            "toast_loaded": "Η διαδρομή φορτώθηκε με επιτυχία.",
            "cities_connected_count_one": "1 συνδεδεμένη πόλη",
            "cities_connected_count_other": "{count} συνδεδεμένες πόλεις",
            "cities_connected_count": "{count} συνδεδεμένη{plural} πόλη{plural}",
            "about_title": "Σχετικά",
            "about_header": "Πώς λειτουργεί",
            "about_intro": "Το Linia είναι ένα εργαλείο οπτικοποίησης δεδομένων δημόσιων μεταφορών για λεωφορειακές γραμμές μεγάλων αποστάσεων.",
            "about_networks": "Οπτικοποίηση δικτύων",
            "about_networks_desc": "Η εφαρμογή συγκεντρώνει δεδομένα από δύο παρόχους: Flixbus και BlaBlaCar Bus. Η αναζήτηση σάς επιτρέπει να εμφανίζετε γραμμές που εξυπηρετούν μια συγκεκριμένη στάση.",
            "about_planning": "Σχεδιασμός βήμα προς βήμα",
            "about_planning_desc": "Ο σχεδιαστής σάς επιτρέπει να δημιουργήσετε μια διαδοχική διαδρομή. Κατά την προσθήκη μιας πόλης, δημιουργείται μια λίστα άμεσα συνδεδεμένων προορισμών για την επιλογή του επόμενου βήματος.",
            "about_export": "Εξαγωγή δεδομένων",
            "about_export_desc": "Οι δημιουργημένες διαδρομές μπορούν να εξαχθούν σε μορφή PDF. Αυτό το έγγραφο περιέχει μια περίληψη των βημάτων και μια λήψη του χάρτη που σχετίζεται με το ταξίδι.",
            "data_sources": "Πηγές δεδομένων (GTFS)",
            "data_sources_desc": "Τα δεδομένα προέρχονται από επίσημες ροές GTFS που είναι διαθέσιμες στο transport.data.gouv.fr. Το Linia πραγματοποιεί ενοποίηση αυτών των ροών για κεντρική διαβούλευση.",
            "download_gtfs": "Λήψη Ενοποιημένου GTFS (.zip)",
            "return_home": "← Επιστροφή στην αρχική",
            "btn_close": "Κλείσιμο",
            "disclaimer_title": "Σημείωση ενημέρωσης",
            "disclaimer_text": "Το Linia βασίζεται σε δεδομένα GTFS από τη Flixbus και τη BlaBlaCar. Τα δεδομένα που εμφανίζονται μπορεί να περιέχουν σφάλματα ή να είναι ελλιπή. Σκοπός της εφαρμογής είναι η οπτικοποίηση και δεν θα είναι ποτέ τόσο ακριβής όσο οι επίσημες εφαρμογές της Flixbus και της BlaBlaCar ή των συνεργατών τους.",
            "nav_legal": "Νομικές Πληροφορίες",
            "legal_title": "Νομικές Πληροφορίες",
            "legal_editor_title": "1. Εκδότης του ιστότοπου",
            "legal_editor_content": "Σύμφωνα με τις διατάξεις του άρθρου 6-III-2 του γαλλικού νόμου αρ. 2004-575 της 21ης Ιουνίου 2004 (LCEN), ο εκδότης αυτού του ιστότοπου επέλεξε να παραμείνει ανώνυμος. Τα προσωπικά στοιχεία ταυτοποίησης έχουν διαβιβαστεί στον πάροχο φιλοξενίας.",
            "legal_hosting_title": "2. Φιλοξενία",
            "legal_hosting_content": "Ο ιστότοπος φιλοξενείται από Render Services, Inc., 520 High St, Palo Alto, CA 94301, ΗΠΑ (render.com).",
            "legal_intellectual_title": "3. Πνευματική Ιδιοκτησία και Πηγές",
            "legal_intellectual_content": "Το περιεχόμενο του ιστότοπου (κώδικας, σχεδιασμός) προστατεύεται από πνευματικά δικαιώματα. Τα δεδομένα μεταφορών προέρχονται από ανοιχτές πηγές (transport.data.gouv.fr). Διέπονται από την Open Database License (ODbL). Ο χρήστης υποχρεούται να σέβεται τους όρους αυτής της άδειας για οποιαδήποτε επαναχρησιμοποίηση αυτών των δεδομένων.",
            "legal_responsibility_title": "4. Ευθύνη",
            "legal_responsibility_content": "Ο εκδότης παρέχει τις πληροφορίες μεταφοράς 'ως έχουν'. Δεν εγγυάται την ακρίβεια των δρομολογίων ή τη συνεχή διαθεσιμότητα της υπηρεσίας και δεν φέρει ευθύνη για τις συνέπειες που σχετίζονται με τη χρήση των πληροφοριών στον ιστότοπο.",
            "legal_privacy_title": "5. Προσωπικά Δεδομένα και Cookies",
            "legal_privacy_content": "Το Linia δεν συλλέγει προσωπικά δεδομένα. Ο τοπικός αποθηκευτικός χώρος του προγράμματος περιήγησής σας χρησιμοποιείται αποκλειστικά για την απομνημόνευση των προτιμήσεών σας (πρόσφατες αναζητήσεις, γλώσσα) για τη βελτίωση της εμπειρίας χρήστη. Δεν χρησιμοποιούνται cookies τρίτων ή διαφημιστικοί ιχνηλάτες.",
            "faq_title": "ΣΥΧΝΕΣ ΕΡΩΤΗΣΕΙΣ",
            "faq_free_q": "Είναι το Linia δωρεάν;",
            "faq_free_a": "Ναι, το εργαλείο είναι εντελώς δωρεάν και χωρίς διαφημίσεις.",
            "faq_countries_q": "Ποιες χώρες καλύπτονται;",
            "faq_countries_a": "Το Linia καλύπτει κυρίως την Ευρώπη: Γαλλία, Γερμανία, Ισπανία, Ιταλία, Μπενελούξ και άλλες ευρωπαϊκές χώρες που εξυπηρετούνται από FlixBus και BlaBlaCar Bus.",
            "faq_update_q": "Πόσο συχνά ενημερώνονται τα δεδομένα;",
            "faq_update_a": "Τα δεδομένα GTFS ενημερώνονται την πρώτη ημέρα κάθε μήνα.",
            "faq_report_q": "Πώς μπορώ να αναφέρω ένα σφάλμα ή να προτείνω μια βελτίωση;",
            "faq_report_a": "Μπορείτε να ανοίξετε ένα issue στο GitHub repository του έργου ή να επικοινωνήσετε με τον προγραμματιστή μέσω contact@liniabus.eu"
        },
        hu: {
            "welcome": "Üdvözöljük a",
            "search_placeholder": "Honnan szeretne indulni?",
            "btn_planner": "Útvonal tervezése",
            "btn_how": "Hogyan működik",
            "recent_searches": "Legutóbbi keresések",
            "nav_home": "Kezdőlap",
            "nav_itinerary": "Útvonal",
            "nav_info": "Infó",
            "footer_signature": "Страказа жывая",
            "loading": "Betöltés...",
            "err_search": "Keresési hiba.",
            "err_connection": "Nem sikerült kapcsolódni a szerverhez.",
            "no_stop_found": "Nem található megálló.",
            "this_stop": "ez a megálló",
            "lines_from_stop_html": "Induló járatok innen:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Egyetlen járat sem szolgálja ki ezt a megállót.",
            "no_search_result": "Nincs találat erre a keresésre.",
            "unnamed_line": "Névtelen járat",
            "no_stop_available": "Nincs elérhető megálló.",
            "trip_proposed_by": "Utazás ajánlotta: {operatorName}",
            "unknown_operator": "ismeretlen szolgáltató",
            "proposed_by": "Utazás ajánlotta",
            "unknown_op": "ismeretlen szolgáltató",
            "itinerary_title": "Az én útvonalam",
            "btn_undo": "Utolsó lépés eltávolítása",
            "btn_reset": "Mindent töröl",
            "planner_empty": "Keressen egy várost az útvonal elkezdéséhez",
            "btn_load": "Betöltés",
            "btn_save": "Mentés",
            "btn_pdf": "PDF generálása",
            "search_start": "Indulási város keresése...",
            "search_step": "Lépés hozzáadása...",
            "connected_cities": "Kapcsolódó városok",
            "from": "Innen",
            "filter_cities": "Városok szűrése...",
            "already_last": "Ez a város már az utolsó lépés.",
            "not_connected": "Ez a megálló nem kapcsolódik közvetlenül az utolsó lépéséhez.",
            "already_added": "Már hozzáadva",
            "step_start": "Indulás",
            "step_last": "Utolsó lépés",
            "step_generic": "Lépés",
            "pdf_warning_dots": "Adjon hozzá legalább 2 várost a PDF generálásához.",
            "pdf_generating": "PDF generálása...",
            "pdf_timeout": "A térkép rögzítése túl sokáig tartott. PDF generálása térkép nélkül.",
            "pdf_canvas_err": "Hiba a térkép rögzítésekor. PDF generálva térkép nélkül.",
            "pdf_success": "PDF sikeresen generálva!",
            "toast_removed": "Utolsó lépés eltávolítva.",
            "toast_cleared": "Útvonal törölve.",
            "toast_saved": "Útvonal mentve (JSON).",
            "toast_loaded": "Útvonal sikeresen betöltve.",
            "cities_connected_count_one": "1 kapcsolódó város",
            "cities_connected_count_other": "{count} kapcsolódó város",
            "cities_connected_count": "{count} kapcsolódó város{plural}",
            "about_title": "Névjegy",
            "about_header": "Hogyan működik",
            "about_intro": "A Linia egy tömegközlekedési adatvizualizációs eszköz távolsági buszjáratokhoz.",
            "about_networks": "Hálózatok vizualizációja",
            "about_networks_desc": "Az alkalmazás két szolgáltató adatait összesíti: Flixbus és BlaBlaCar Bus. A keresés lehetővé teszi egy adott megállót kiszolgáló járatok megjelenítését.",
            "about_planning": "Lépésről lépésre tervezés",
            "about_planning_desc": "A tervezővel szekvenciális útvonalat építhet. Város hozzáadásakor egy listát generál a közvetlenül kapcsolódó célállomásokról a következő lépés kiválasztásához.",
            "about_export": "Adatok exportálása",
            "about_export_desc": "A létrehozott útvonalak PDF formátumban exportálhatók. Ez a dokumentum tartalmazza a lépések összefoglalóját és az utazáshoz kapcsolódó térképfelvételt.",
            "data_sources": "Adatforrások (GTFS)",
            "data_sources_desc": "Az adatok hivatalos GTFS-adatfolyamokból származnak, amelyek a transport.data.gouv.fr oldalon érhetők el. A Linia egyesíti ezeket az adatfolyamokat a központosított lekérdezés érdekében.",
            "download_gtfs": "Egyesített GTFS letöltése (.zip)",
            "return_home": "← Vissza a kezdőlapra",
            "btn_close": "Bezár",
            "disclaimer_title": "Tájékoztató megjegyzés",
            "disclaimer_text": "A Linia a Flixbus és a BlaBlaCar GTFS-adatain alapul. A megjelenített adatok hibákat tartalmazhatnak vagy hiányosak lehetnek. Az alkalmazás célja a vizualizáció, és soha nem lesz olyan pontos, mint a Flixbus és a BlaBlaCar vagy partnereik hivatalos alkalmazásai.",
            "nav_legal": "Jogi nyilatkozat",
            "legal_title": "Jogi nyilatkozat",
            "legal_editor_title": "1. Weboldal szerkesztője",
            "legal_editor_content": "A 2004. június 21-i 2004-575 sz. francia törvény (LCEN) 6-III-2. cikkének rendelkezéseivel összhangban az oldal szerkesztője az anonimitás mellett döntött. A személyazonosító adatokat továbbították a tárhelyszolgáltatónak.",
            "legal_hosting_title": "2. Tárhely",
            "legal_hosting_content": "A Linia webhelyet a Render Services, Inc., 520 High St, Palo Alto, CA 94301, USA (render.com) üzemelteti.",
            "legal_intellectual_title": "3. Szellemi tulajdon és források",
            "legal_intellectual_content": "A webhely saját tartalma (kód, dizájn) szerzői jogi védelem alatt áll. A megjelenített szállítási adatok nyílt forrásokból (transport.data.gouv.fr) származnak. Ezekre az Open Database License (ODbL) vonatkozik. A felhasználó köteles betartani a licenc feltételeit az adatok bármilyen további felhasználása során.",
            "legal_responsibility_title": "4. Felelősség",
            "legal_responsibility_content": "A szerkesztő a szállítási információkat 'olyan formában' nyújtja, ahogy vannak. Nem garantálja a menetrendek pontosságát vagy a szolgáltatás folyamatos rendelkezésre állását, és nem vonható felelősségre a webhelyen található információk használatából eredő következményekért.",
            "legal_privacy_title": "5. Személyes adatok és sütik",
            "legal_privacy_content": "A Linia nem gyűjt személyes adatokat. A böngésző helyi tárolóját kizárólag az Ön preferenciáinak (legutóbbi keresések, nyelv) megjegyzésére használjuk a felhasználói élmény javítása érdekében. Harmadik féltől származó sütiket vagy hirdetéskövetőket nem használunk.",
            "faq_title": "GYIK",
            "faq_free_q": "Ingyenes a Linia?",
            "faq_free_a": "Igen, az eszköz teljesen ingyenes és reklámmentes.",
            "faq_countries_q": "Mely országok vannak lefedve?",
            "faq_countries_a": "A Linia főként Európát fedi le: Franciaország, Németország, Spanyolország, Olaszország, Benelux és más európai országok, amelyeket a FlixBus és a BlaBlaCar Bus kiszolgál.",
            "faq_update_q": "Milyen gyakran frissítik az adatokat?",
            "faq_update_a": "A GTFS adatokat minden hónap első napján frissítik.",
            "faq_report_q": "Hogyan jelenthetek hibát vagy tehetek javaslatot?",
            "faq_report_a": "Nyithat egy issue-t a projekt GitHub tárhelyén, vagy kapcsolatba léphet a fejlesztővel a contact@liniabus.eu címen"
        },
        hi: {
            "welcome": "स्वागत है",
            "search_placeholder": "आप कहाँ से शुरू करना चाहते हैं?",
            "btn_planner": "यात्रा कार्यक्रम बनाएँ",
            "btn_how": "यह कैसे काम करता है",
            "recent_searches": "हाल की खोजें",
            "nav_home": "होम",
            "nav_itinerary": "यात्रा कार्यक्रम",
            "nav_info": "जानकारी",
            "footer_signature": "Страказа жывая",
            "loading": "लोड हो रहा है...",
            "err_search": "खोज में त्रुटि।",
            "err_connection": "सर्वर से संपर्क नहीं किया जा सका।",
            "no_stop_found": "कोई स्टॉप नहीं मिला।",
            "this_stop": "यह स्टॉप",
            "lines_from_stop_html": "से प्रस्थान करने वाली लाइनें:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "कोई भी लाइन इस स्टॉप की सेवा नहीं देती है।",
            "no_search_result": "इस खोज के लिए कोई परिणाम नहीं।",
            "unnamed_line": "बिना नाम की लाइन",
            "no_stop_available": "कोई स्टॉप उपलब्ध नहीं है।",
            "trip_proposed_by": "{operatorName} द्वारा प्रस्तावित यात्रा",
            "unknown_operator": "एक अज्ञात ऑपरेटर",
            "proposed_by": "द्वारा प्रस्तावित यात्रा",
            "unknown_op": "एक अज्ञात ऑपरेटर",
            "itinerary_title": "मेरा यात्रा कार्यक्रम",
            "btn_undo": "अंतिम चरण हटाएँ",
            "btn_reset": "सभी साफ़ करें",
            "planner_empty": "अपना यात्रा कार्यक्रम शुरू करने के लिए कोई शहर खोजें",
            "btn_load": "लोड करें",
            "btn_save": "सहेजें",
            "btn_pdf": "PDF बनाएँ",
            "search_start": "प्रस्थान शहर खोजें...",
            "search_step": "एक चरण जोड़ें...",
            "connected_cities": "जुड़े हुए शहर",
            "from": "से",
            "filter_cities": "शहरों को फ़िल्टर करें...",
            "already_last": "यह शहर पहले से ही अंतिम चरण है।",
            "not_connected": "यह स्टॉप आपके अंतिम चरण से सीधे नहीं जुड़ा है।",
            "already_added": "पहले से ही जोड़ा गया",
            "step_start": "प्रस्थान",
            "step_last": "अंतिम चरण",
            "step_generic": "चरण",
            "pdf_warning_dots": "PDF बनाने के लिए कम से कम 2 शहर जोड़ें।",
            "pdf_generating": "PDF बनाया जा रहा है...",
            "pdf_timeout": "मानचित्र कैप्चर में बहुत समय लगा। बिना मानचित्र के PDF बनाया जा रहा है।",
            "pdf_canvas_err": "मानचित्र कैप्चर करने में त्रुटि। PDF बिना मानचित्र के बनाया गया।",
            "pdf_success": "PDF सफलतापूर्वक बनाया गया!",
            "toast_removed": "अंतिम चरण हटा दिया गया।",
            "toast_cleared": "यात्रा कार्यक्रम साफ़ कर दिया गया।",
            "toast_saved": "यात्रा कार्यक्रम सहेजा गया (JSON)।",
            "toast_loaded": "यात्रा कार्यक्रम सफलतापूर्वक लोड हुआ।",
            "cities_connected_count_one": "1 जुड़ा हुआ शहर",
            "cities_connected_count_other": "{count} जुड़े हुए शहर",
            "cities_connected_count": "{count} जुड़ा हुआ शहर{plural}",
            "about_title": "परिचय",
            "about_header": "यह कैसे काम करता है",
            "about_intro": "Linia लंबी दूरी की बस लाइनों के लिए सार्वजनिक परिवहन डेटा विज़ुअलाइज़ेशन टूल है।",
            "about_networks": "नेटवर्क विज़ुअलाइज़ेशन",
            "about_networks_desc": "एप्लिकेशन दो ऑपरेटरों से डेटा एकत्रित करता है: Flixbus और BlaBlaCar Bus। खोज आपको किसी विशिष्ट स्टॉप की सेवा देने वाली लाइनें प्रदर्शित करने की अनुमति देती है।",
            "about_planning": "चरण-दर-चरण योजना",
            "about_planning_desc": "योजनाकार आपको अनुक्रमिक यात्रा कार्यक्रम बनाने की अनुमति देता है। किसी शहर को जोड़ते समय, अगले चरण का चयन करने के लिए सीधे जुड़े गंतव्यों की एक सूची तैयार की जाती है।",
            "about_export": "डेटा निर्यात",
            "about_export_desc": "बनाए गए यात्रा कार्यक्रम PDF प्रारूप में निर्यात किए जा सकते हैं। इस दस्तावेज़ में चरणों का सारांश और यात्रा से जुड़ा मानचित्र कैप्चर शामिल है।",
            "data_sources": "डेटा स्रोत (GTFS)",
            "data_sources_desc": "डेटा आधिकारिक GTFS फ़ीड से आता है जो transport.data.gouv.fr पर उपलब्ध है। Linia केंद्रीकृत परामर्श की अनुमति देने के लिए इन फ़ीड का एकीकरण करता है।",
            "download_gtfs": "एकीकृत GTFS डाउनलोड करें (.zip)",
            "return_home": "← होम पर वापस जाएँ",
            "btn_close": "बंद करें",
            "disclaimer_title": "सूचना नोट",
            "disclaimer_text": "Linia Flixbus और BlaBlaCar के GTFS डेटा पर आधारित है। प्रदर्शित डेटा में त्रुटियां हो सकती हैं या वह अपूर्ण हो सकता है। एप्लिकेशन का उद्देश्य विज़ुअलाइज़ेशन है और यह कभी भी Flixbus और BlaBlaCar या उनके भागीदारों के आधिकारिक अनुप्रयोगों जितना सटीक नहीं होगा।",
            "nav_legal": "कानूनी नोटिस",
            "legal_title": "कानूनी नोटिस",
            "legal_editor_title": "1. साइट संपादक",
            "legal_editor_content": "डिजिटल अर्थव्यवस्था में विश्वास के लिए 21 जून 2004 के कानून संख्या 2004-575 (LCEN) के अनुच्छेद 6-III-2 के प्रावधानों के अनुसार, इस साइट के संपादक ने गुमनाम रहने का विकल्प चुना है। व्यक्तिगत पहचान की जानकारी होस्ट को प्रेषित कर दी गई है।",
            "legal_hosting_title": "2. होस्टिंग",
            "legal_hosting_content": "साइट Render Services, Inc., 520 High St, Palo Alto, CA 94301, USA (render.com) द्वारा होस्ट की गई है।",
            "legal_intellectual_title": "3. बौद्धिक संपदा और स्रोत",
            "legal_intellectual_content": "साइट की अपनी सामग्री (कोड, डिज़ाइन) कॉपीराइट द्वारा संरक्षित है। प्रदर्शित परिवहन डेटा खुले स्रोतों (transport.data.gouv.fr) से आता है। वे Open Database License (ODbL) द्वारा शासित हैं। उपयोगकर्ता को इस डेटा के किसी भी पुन: उपयोग के लिए इस लाइसेंस की शर्तों का पालन करना आवश्यक है।",
            "legal_responsibility_title": "4. जिम्मेदारी",
            "legal_responsibility_content": "संपादक परिवहन जानकारी 'यथास्थिति' प्रदान करता है। यह अनुसूचियों की सटीकता या सेवा की निरंतर उपलब्धता की गारंटी नहीं देता है और साइट पर मौजूद जानकारी के उपयोग से संबंधित परिणामों के लिए जिम्मेदार नहीं ठहराया जा सकता है।",
            "legal_privacy_title": "5. व्यक्तिगत डेटा और कुकीज़",
            "legal_privacy_content": "Linia कोई व्यक्तिगत डेटा एकत्र नहीं करता है। आपके ब्राउज़र का स्थानीय संग्रहण विशेष रूप से आपकी प्राथमिकताओं (हाल की खोजें, भाषा) को याद रखने के लिए उपयोग किया जाता है ताकि उपयोगकर्ता अनुभव में सुधार हो सके। किसी तृतीय-पक्ष कुकीज़ या विज्ञापन ट्रैकर्स का उपयोग नहीं किया जाता है।",
            "faq_title": "FAQ",
            "faq_free_q": "क्या Linia मुफ्त है?",
            "faq_free_a": "हाँ, यह उपकरण पूरी तरह से मुफ्त और विज्ञापन-मुक्त है।",
            "faq_countries_q": "कौन से देश शामिल हैं?",
            "faq_countries_a": "Linia मुख्य रूप से यूरोप को कवर करता है: फ्रांस, जर्मनी, स्पेन, इटली, बेनेलक्स, और अन्य यूरोपीय देश जो FlixBus और BlaBlaCar Bus द्वारा सेवित हैं।",
            "faq_update_q": "डेटा कितनी बार अपडेट किया जाता है?",
            "faq_update_a": "GTFS डेटा हर महीने के पहले दिन अपडेट किया जाता है।",
            "faq_report_q": "मैं त्रुटि की रिपोर्ट कैसे करूं या सुधार का सुझाव कैसे दूं?",
            "faq_report_a": "आप प्रोजेक्ट के GitHub रिपॉजिटरी में एक issue खोल सकते हैं या contact@liniabus.eu पर डेवलपर से संपर्क कर सकते हैं।"
        },
        lv: {
            "welcome": "Laipni lūdzam",
            "search_placeholder": "No kurienes vēlaties sākt?",
            "btn_planner": "Izveidot maršrutu",
            "btn_how": "Kā tas darbojas",
            "recent_searches": "Pēdējie meklējumi",
            "nav_home": "Sākums",
            "nav_itinerary": "Maršruts",
            "nav_info": "Informācija",
            "footer_signature": "Страказа жывая",
            "loading": "Ielādē...",
            "err_search": "Meklēšanas kļūda.",
            "err_connection": "Nevar sazināties ar serveri.",
            "no_stop_found": "Nav atrasta neviena pietura.",
            "this_stop": "šī pietura",
            "lines_from_stop_html": "Līnijas, kas atiet no:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Neviena līnija neapkalpo šo pieturu.",
            "no_search_result": "Nav rezultātu šim meklējumam.",
            "unnamed_line": "Līnija bez nosaukuma",
            "no_stop_available": "Nav pieejamu pieturu.",
            "trip_proposed_by": "Braucienu piedāvā {operatorName}",
            "unknown_operator": "nezināms operators",
            "proposed_by": "Braucienu piedāvā",
            "unknown_op": "nezināms operators",
            "itinerary_title": "Mans maršruts",
            "btn_undo": "Noņemt pēdējo soli",
            "btn_reset": "Notīrīt visu",
            "planner_empty": "Meklējiet pilsētu, lai sāktu savu maršrutu",
            "btn_load": "Ielādēt",
            "btn_save": "Saglabāt",
            "btn_pdf": "Ģenerēt PDF",
            "search_start": "Meklēt izlidošanas pilsētu...",
            "search_step": "Pievienot soli...",
            "connected_cities": "Savienotās pilsētas",
            "from": "No",
            "filter_cities": "Filtrēt pilsētas...",
            "already_last": "Šī pilsēta jau ir pēdējais solis.",
            "not_connected": "Šī pietura nav tieši savienota ar jūsu pēdējo soli.",
            "already_added": "Jau pievienots",
            "step_start": "Sākums",
            "step_last": "Pēdējais solis",
            "step_generic": "Solis",
            "pdf_warning_dots": "Pievienojiet vismaz 2 pilsētas, lai ģenerētu PDF.",
            "pdf_generating": "Ģenerē PDF...",
            "pdf_timeout": "Kartes uzņemšana aizņēma pārāk ilgu laiku. PDF tiek ģenerēts bez kartes.",
            "pdf_canvas_err": "Kļūda, uzņemot karti. PDF ģenerēts bez kartes.",
            "pdf_success": "PDF veiksmīgi ģenerēts!",
            "toast_removed": "Pēdējais solis noņemts.",
            "toast_cleared": "Maršruts notīrīts.",
            "toast_saved": "Maršruts saglabāts (JSON).",
            "toast_loaded": "Maršruts veiksmīgi ielādēts.",
            "cities_connected_count_one": "1 savienota pilsēta",
            "cities_connected_count_other": "{count} savienotas pilsētas",
            "cities_connected_count": "{count} savienota{plural} pilsēta{plural}",
            "about_title": "Par",
            "about_header": "Kā tas darbojas",
            "about_intro": "Linia ir sabiedriskā transporta datu vizualizācijas rīks tālsatiksmes autobusu līnijām.",
            "about_networks": "Tīklu vizualizācija",
            "about_networks_desc": "Lietotne apkopo datus no diviem operatoriem: Flixbus un BlaBlaCar Bus. Meklēšana ļauj parādīt līnijas, kas apkalpo konkrētu pieturu.",
            "about_planning": "Plānošana pa soļiem",
            "about_planning_desc": "Plānotājs ļauj izveidot secīgu maršrutu. Pievienojot pilsētu, tiek ģenerēts tieši savienoto galamērķu saraksts, lai atlasītu nākamo soli.",
            "about_export": "Datu eksports",
            "about_export_desc": "Izveidotos maršrutus var eksportēt PDF formātā. Šis dokuments satur soļu kopsavilkumu un ar braucienu saistītās kartes attēlu.",
            "data_sources": "Datu avoti (GTFS)",
            "data_sources_desc": "Dati nāk no oficiālajām GTFS plūsmām, kas pieejamas transport.data.gouv.fr. Linia veic šo plūsmu apvienošanu, lai nodrošinātu centralizētu konsultāciju.",
            "download_gtfs": "Lejupielādēt vienoto GTFS (.zip)",
            "return_home": "← Atgriezties sākumā",
            "btn_close": "Aizvērt",
            "disclaimer_title": "Informatīva piezīme",
            "disclaimer_text": "Linia pamatā ir GTFS dati no Flixbus un BlaBlaCar. Parādītie dati var saturēt kļūdas vai būt nepilnīgi. Lietojumprogrammas mērķis ir vizualizācija, un tā nekad nebūs tik precīza kā oficiālās Flixbus un BlaBlaCar lietotnes vai to partneri.",
            "nav_legal": "Juridiskā informācija",
            "legal_title": "Juridiskā informācija",
            "legal_editor_title": "1. Vietnes redaktors",
            "legal_editor_content": "Saskaņā ar 2004. gada 21. jūnija Francijas Likuma Nr. 2004-575 par uzticēšanos digitālajai ekonomikai (LCEN) 6. panta III daļas 2. punkta noteikumiem šīs vietnes redaktors ir izvēlējies palikt anonīms. Personu identificējošā informācija ir nodota mitinātājam.",
            "legal_hosting_title": "2. Mitināšana",
            "legal_hosting_content": "Vietni mitina Render Services, Inc., 520 High St, Palo Alto, CA 94301, ASV (render.com).",
            "legal_intellectual_title": "3. Intelektuālais īpašums un avoti",
            "legal_intellectual_content": "Vietnes paša saturs (kods, dizains) ir aizsargāts ar autortiesībām. Parādītie transporta dati nāk no atvērtiem avotiem (izmantojot transport.data.gouv.fr). Uz tiem attiecas Open Database License (ODbL). Lietotājam ir pienākums ievērot šīs licences nosacījumus jebkurai šo datu atkārtotai izmantošanai.",
            "legal_responsibility_title": "4. Atbildība",
            "legal_responsibility_content": "Redaktors sniedz transporta informāciju 'tādu, kāda tā ir'. Viņš negarantē grafiku precizitāti vai pakalpojuma nepārtrauktu pieejamību un nevar tikt saukts pie atbildības par sekām, kas saistītas ar vietnē esošās informācijas izmantošanu.",
            "legal_privacy_title": "5. Personas dati un sīkfaili",
            "legal_privacy_content": "Linia nevāc nekādus personas datus. Jūsu pārlūkprogrammas vietējā krātuve tiek izmantota tikai jūsu preferenču (pēdējie meklējumi, valoda) atcerēšanai, lai uzlabotu lietotāja pieredzi. Netiek izmantoti trešo pušu sīkfaili vai reklāmas izsekotāji.",
            "faq_title": "BUJ",
            "faq_free_q": "Vai Linia ir bezmaksas?",
            "faq_free_a": "Jā, rīks ir pilnīgi bezmaksas un bez reklāmām.",
            "faq_countries_q": "Kuras valstis ir segtas?",
            "faq_countries_a": "Linia galvenokārt sedz Eiropu: Francija, Vācija, Spānija, Itālija, Benilukss un citas Eiropas valstis, ko apkalpo FlixBus un BlaBlaCar Bus.",
            "faq_update_q": "Cik bieži dati tiek atjaunināti?",
            "faq_update_a": "GTFS dati tiek atjaunināti katra mēneša pirmajā dienā.",
            "faq_report_q": "Kā es varu ziņot par kļūdu vai ierosināt uzlabojumu?",
            "faq_report_a": "Jūs varat atvērt issue projekta GitHub repozitorijā vai sazināties ar izstrādātāju, izmantojot contact@liniabus.eu"
        },
        lt: {
            "welcome": "Sveiki atvykę į",
            "search_placeholder": "Iš kur norite išvykti?",
            "btn_planner": "Sukurti maršrutą",
            "btn_how": "Kaip tai veikia",
            "recent_searches": "Naujausios paieškos",
            "nav_home": "Pagrindinis",
            "nav_itinerary": "Maršrutas",
            "nav_info": "Informacija",
            "footer_signature": "Страказа жывая",
            "loading": "Įkeliama...",
            "err_search": "Paieškos klaida.",
            "err_connection": "Nepavyksta susisiekti su serveriu.",
            "no_stop_found": "Nerasta jokių stotelių.",
            "this_stop": "ši stotelė",
            "lines_from_stop_html": "Linijos, išvykstančios iš:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Jokia linija neaptarnauja šios stotelės.",
            "no_search_result": "Nėra rezultatų pagal šią paiešką.",
            "unnamed_line": "Linija be pavadinimo",
            "no_stop_available": "Nėra galimų stotelių.",
            "trip_proposed_by": "Kelionę siūlo {operatorName}",
            "unknown_operator": "nežinomas operatorius",
            "proposed_by": "Kelionę siūlo",
            "unknown_op": "nežinomas operatorius",
            "itinerary_title": "Mano maršrutas",
            "btn_undo": "Pašalinti paskutinį žingsnį",
            "btn_reset": "Išvalyti viską",
            "planner_empty": "Ieškokite miesto, kad pradėtumėte savo maršrutą",
            "btn_load": "Įkelti",
            "btn_save": "Išsaugoti",
            "btn_pdf": "Generuoti PDF",
            "search_start": "Ieškoti išvykimo miesto...",
            "search_step": "Pridėti žingsnį...",
            "connected_cities": "Sujungti miestai",
            "from": "Nuo",
            "filter_cities": "Filtruoti miestus...",
            "already_last": "Šis miestas jau yra paskutinis žingsnis.",
            "not_connected": "Ši stotelė nėra tiesiogiai sujungta su jūsų paskutiniu žingsniu.",
            "already_added": "Jau pridėta",
            "step_start": "Išvykimas",
            "step_last": "Paskutinis žingsnis",
            "step_generic": "Žingsnis",
            "pdf_warning_dots": "Pridėkite bent 2 miestus, kad sugeneruotumėte PDF.",
            "pdf_generating": "Generuojamas PDF...",
            "pdf_timeout": "Žemėlapio fiksavimas užtruko per ilgai. PDF generuojamas be žemėlapio.",
            "pdf_canvas_err": "Klaida fiksuojant žemėlapį. PDF sugeneruotas be žemėlapio.",
            "pdf_success": "PDF sėkmingai sugeneruotas!",
            "toast_removed": "Paskutinis žingsnis pašalintas.",
            "toast_cleared": "Maršrutas išvalytas.",
            "toast_saved": "Maršrutas išsaugotas (JSON).",
            "toast_loaded": "Maršrutas sėkmingai įkeltas.",
            "cities_connected_count_one": "1 sujungtas miestas",
            "cities_connected_count_other": "{count} sujungti miestai",
            "cities_connected_count": "{count} sujungtas{plural} miestas{plural}",
            "about_title": "Apie",
            "about_header": "Kaip tai veikia",
            "about_intro": "Linia yra viešojo transporto duomenų vizualizavimo įrankis tolimojo susisiekimo autobusų linijoms.",
            "about_networks": "Tinklų vizualizacija",
            "about_networks_desc": "Programa sujungia duomenis iš dviejų operatorių: Flixbus ir BlaBlaCar Bus. Paieška leidžia rodyti linijas, aptarnaujančias konkrečią stotelę.",
            "about_planning": "Planavimas žingsnis po žingsnio",
            "about_planning_desc": "Planuoklis leidžia sukurti nuoseklų maršrutą. Pridedant miestą, sugeneruojamas tiesiogiai sujungtų krypčių sąrašas, kad būtų galima pasirinkti kitą žingsnį.",
            "about_export": "Duomenų eksportas",
            "about_export_desc": "Sukurti maršrutai gali būti eksportuojami PDF formatu. Šiame dokumente pateikiama žingsnių santrauka ir su kelione susijusio žemėlapio fiksacija.",
            "data_sources": "Duomenų šaltiniai (GTFS)",
            "data_sources_desc": "Duomenys gaunami iš oficialių GTFS srautų, pasiekiamų transport.data.gouv.fr. Linia atlieka šių srautų suvienodinimą, kad būtų galima centralizuotai konsultuotis.",
            "download_gtfs": "Atsisiųsti suvienodintą GTFS (.zip)",
            "return_home": "← Grįžti į pradžią",
            "btn_close": "Uždaryti",
            "disclaimer_title": "Informacinis pranešimas",
            "disclaimer_text": "„Linia“ remiasi GTFS duomenimis iš „Flixbus“ ir „BlaBlaCar“. Rodomi duomenys gali būti klaidingi arba neišsamūs. Programos tikslas yra vizualizacija ir ji niekada nebus tokia tiksli kaip oficialios „Flixbus“ ir „BlaBlaCar“ programėlės ar jų partnerių.",
            "nav_legal": "Teisinė informacija",
            "legal_title": "Teisinė informacija",
            "legal_editor_title": "1. Svetainės redaktorius",
            "legal_editor_content": "Vadovaujantis 2004 m. birželio 21 d. Prancūzijos įstatymo Nr. 2004-575 (LCEN) 6-III-2 straipsnio nuostatomis, šios svetainės redaktorius pasirinko likti anonimiškas. Asmens identifikavimo informacija buvo perduota teikėjui.",
            "legal_hosting_title": "2. Svetainės talpinimas",
            "legal_hosting_content": "Svetainę talpina Render Services, Inc., 520 High St, Palo Alto, CA 94301, JAV (render.com).",
            "legal_intellectual_title": "3. Intelektinė nuosavybė ir šaltiniai",
            "legal_intellectual_content": "Svetainės turinys (kodas, dizainas) yra saugomas autorių teisių. Rodomi transporto duomenys gaunami iš atvirų šaltinių (per transport.data.gouv.fr). Jiems taikoma Open Database License (ODbL). Naudotojas privalo laikytis šios licencijos sąlygų bet kokiam šių duomenų pakartotiniam naudojimui.",
            "legal_responsibility_title": "4. Atsakomybė",
            "legal_responsibility_content": "Leidėjas teikia transporto informaciją 'tokia, kokia ji yra'. Jis negarantuoja tvarkaraščių tikslumo ar nuolatinio paslaugos prieinamumo ir negali būti laikomas atsakingu už pasekmes, susijusias su svetainėje pateiktos informacijos naudojimu.",
            "legal_privacy_title": "5. Asmens duomenys ir slapukai",
            "legal_privacy_content": "„Linia„ nerenka jokių asmens duomenų. Jūsų naršyklės vietinė saugykla naudojama tik jūsų pageidavimams (paskutinės paieškos, kalba) įsiminti, siekiant pagerinti naudotojo patirtį. Nenaudojami trečiųjų šalių slapukai ar reklamos stebėjimo priemonės.",
            "faq_title": "DUK",
            "faq_free_q": "Ar Linia yra nemokama?",
            "faq_free_a": "Taip, įrankis visiškai nemokamas ir be reklamų.",
            "faq_countries_q": "Kurios šalys yra aprėptos?",
            "faq_countries_a": "Linia daugiausia aprėpia Europą: Prancūziją, Vokietiją, Ispaniją, Italiją, Beneliukso šalis ir kitas Europos šalis, aptarnaujamas FlixBus ir BlaBlaCar Bus.",
            "faq_update_q": "Kaip dažnai atnaujinami duomenys?",
            "faq_update_a": "GTFS duomenys atnaujinami kiekvieno mėnesio pirmąją dieną.",
            "faq_report_q": "Kaip galiu pranešti apie klaidą arba pasiūlyti patobulinimą?",
            "faq_report_a": "Galite atidaryti issue projekto GitHub saugykloje arba susisiekti su kūrėju el. paštu contact@liniabus.eu"
        },
        lb: {
            "welcome": "Wëllkomm op",
            "search_placeholder": "Vun wou wëlls de fortfueren?",
            "btn_planner": "Eng Rees erstellen",
            "btn_how": "Wéi et funktionnéiert",
            "recent_searches": "Lescht Sichen",
            "nav_home": "Doheem",
            "nav_itinerary": "Reesplang",
            "nav_info": "Info",
            "footer_signature": "Страказа жывая",
            "loading": "Lueden...",
            "err_search": "Sichfeeler.",
            "err_connection": "Kann de Server net erreechen.",
            "no_stop_found": "Keng Haltestell fonnt.",
            "this_stop": "dës Haltestell",
            "lines_from_stop_html": "Linnen déi fortfueren vun:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Keng Linn bedéngt dës Haltestell.",
            "no_search_result": "Keng Resultater fir dës Sich.",
            "unnamed_line": "Linn ouni Numm",
            "no_stop_available": "Keng Haltestell verfügbar.",
            "trip_proposed_by": "Rees ugebuede vun {operatorName}",
            "unknown_operator": "onbekannten Bedreiwer",
            "proposed_by": "Rees ugebuede vun",
            "unknown_op": "onbekannten Bedreiwer",
            "itinerary_title": "Mäi Reesplang",
            "btn_undo": "Läscht leschte Schrëtt",
            "btn_reset": "Alles läschen",
            "planner_empty": "Sich no enger Stad fir Är Rees ze starten",
            "btn_load": "Lueden",
            "btn_save": "Späicheren",
            "btn_pdf": "PDF generéieren",
            "search_start": "Startstad sichen...",
            "search_step": "Schrëtt derbäisetzen...",
            "connected_cities": "Verbonne Stied",
            "from": "Vun",
            "filter_cities": "Stied filteren...",
            "already_last": "Dës Stad ass schonn de leschte Schrëtt.",
            "not_connected": "Dës Haltestell ass net direkt mat Ärem leschte Schrëtt verbonnen.",
            "already_added": "Scho bäigesat",
            "step_start": "Start",
            "step_last": "Leschte Schrëtt",
            "step_generic": "Schrëtt",
            "pdf_warning_dots": "Setzt op d'mannst 2 Stied derbäi fir e PDF ze generéieren.",
            "pdf_generating": "PDF gëtt generéiert...",
            "pdf_timeout": "Kaart Capture huet ze laang gedauert. PDF gëtt ouni Kaart generéiert.",
            "pdf_canvas_err": "Feeler beim Capture vun der Kaart. PDF generéiert ouni Kaart.",
            "pdf_success": "PDF erfollegräich generéiert!",
            "toast_removed": "Leschte Schrëtt ewechgeholl.",
            "toast_cleared": "Reesplang geläscht.",
            "toast_saved": "Reesplang gespäichert (JSON).",
            "toast_loaded": "Reesplang erfollegräich gelueden.",
            "cities_connected_count_one": "1 verbonnen Stad",
            "cities_connected_count_other": "{count} verbonne Stied",
            "cities_connected_count": "{count} verbonnen{plural} Stad{plural}",
            "about_title": "Iwwer",
            "about_header": "Wéi et funktionnéiert",
            "about_intro": "Linia ass en Tool fir Visualiséierung vun ëffentlechen Transpordaten fir laangstreckebuslinnen.",
            "about_networks": "Netzwierkvisualiséierung",
            "about_networks_desc": "D'Applikatioun aggregéiert Daten vun zwee Bedreiwer: Flixbus a BlaBlaCar Bus. D'Sich erlaabt d'Linnen unzeweisen, déi eng spezifesch Haltestell bedéngen.",
            "about_planning": "Schrëtt-fir-Schrëtt Planung",
            "about_planning_desc": "De Planer erlaabt Iech e sequenziellen Reesplang opzebauen. Wann Dir eng Stad bäisetzt, gëtt eng Lëscht vu direkt verbonnenen Destinatioune generéiert fir de nächste Schrëtt auszewielen.",
            "about_export": "Daten exportéieren",
            "about_export_desc": "Erstellte Reespläng kënnen am PDF-Format exportéiert ginn. Dëst Dokument enthält eng Resumé vun de Schrëtt an e Capture vun der Kaart vun der Rees.",
            "data_sources": "Datenquellen (GTFS)",
            "data_sources_desc": "D'Daten stamen aus offiziellen GTFS-Feeds, déi op transport.data.gouv.fr verfügbar sinn. Linia mécht eng Vereenheetlechung vun dëse Feeds fir zentraliséiert Konsultatioun.",
            "download_gtfs": "Eenzelen GTFS eroflueden (.zip)",
            "return_home": "← Zréck op d'Start",
            "btn_close": "Zoumaachen",
            "disclaimer_title": "Informatiounsnote",
            "disclaimer_text": "Linia baséiert op GTFS Daten vu Flixbus a BlaBlaCar. D'Donnéeën déi ugewise ginn kënne Feeler enthalen oder onvollstänneg sinn. Den Zweck vun der Applikatioun ass d'Visualiséierung an se wäert ni sou genau sinn wéi déi offiziell Applikatioune vu Flixbus a BlaBlaCar oder hire Partner.",
            "nav_legal": "Impressum",
            "legal_title": "Impressum",
            "legal_editor_title": "1. Editeur",
            "legal_editor_content": "Am Aklang mat de Bestëmmunge vum Artikel 6-III-2 vum franséische Gesetz Nr. 2004-575 vum 21. Juni 2004 (LCEN), huet den Editeur vun dësem Site gewielt anonymer ze bleiwen. Perséinlech Identifikatiounsinformatioune goufen un den Host iwwermëttelt.",
            "legal_hosting_title": "2. Hosting",
            "legal_hosting_content": "De Linia Site gëtt gehost vun Render Services, Inc., 520 High St, Palo Alto, CA 94301, USA (render.com).",
            "legal_intellectual_title": "3. Intellektuell Eegentum a Quellen",
            "legal_intellectual_content": "Den eegene Site Inhalt (Code, Design) ass duerch Urheberrecht geschützt. Déi ugewisen Transportdate kommen aus oppene Quelle (iwwer transport.data.gouv.fr). Si ënnerleien der Open Database License (ODbL). De Benotzer muss d'Konditioune vun dëser Lizenz respektéiere fir all weider Benotzung vun dësen Daten.",
            "legal_responsibility_title": "4. Verantwortung",
            "legal_responsibility_content": "Den Editeur stellt d'Transportinformatioun 'wéi se ass' zur Verfügung. Hie garantéiert net d'Genauegkeet vun den Zäitpläng oder déi kontinuéierlech Disponibilitéit vum Service a kann net verantwortlech gemaach ginn fir d'Konsequenzen am Zesummenhang mat der Notzung vun den Informatiounen um Site.",
            "legal_privacy_title": "5. Perséinlech Daten a Cookien",
            "legal_privacy_content": "Linia sammelt keng perséinlech Daten. De lokale Späicher vun Ärem Browser gëtt nëmme benotzt fir Är Preferenzen (lescht Sichen, Sprooch) ze erënneren fir d'Benotzererfarung ze verbesseren. Keng Drëtt-Partei Cookien oder Reklamm-Tracker ginn benotzt.",
            "faq_title": "FAQ",
            "faq_free_q": "Ass Linia gratis?",
            "faq_free_a": "Jo, d'Tool ass komplett gratis an ouni Reklammen.",
            "faq_countries_q": "Wéi Länner sinn ofgedeckt?",
            "faq_countries_a": "Linia deckt haaptsächlech Europa of: Frankräich, Däitschland, Spuenien, Italien, Benelux an aner europäesch Länner déi vu FlixBus a BlaBlaCar Bus bedéngt ginn.",
            "faq_update_q": "Wéi dacks ginn d'Daten aktualiséiert?",
            "faq_update_a": "GTFS-Daten ginn deen éischten Dag vun all Mount aktualiséiert.",
            "faq_report_q": "Wéi kann ech e Feeler mellen oder eng Verbesserung virschloen?",
            "faq_report_a": "Dir kann en Issue am GitHub-Repository vum Projet opmaachen oder den Entwéckler iwwer contact@liniabus.eu kontaktéieren."
        },
        mk: {
            "welcome": "Добредојдовте во",
            "search_placeholder": "Од каде сакате да тргнете?",
            "btn_planner": "Креирај план за патување",
            "btn_how": "Како работи",
            "recent_searches": "Неодамнешни пребарувања",
            "nav_home": "Почетна",
            "nav_itinerary": "План за патување",
            "nav_info": "Информации",
            "footer_signature": "Страказа жывая",
            "loading": "Вчитување...",
            "err_search": "Грешка при пребарување.",
            "err_connection": "Не може да се контактира серверот.",
            "no_stop_found": "Не се пронајдени постојки.",
            "this_stop": "оваа постојка",
            "lines_from_stop_html": "Линии кои тргнуваат од:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Ниту една линија не ја опслужува оваа постојка.",
            "no_search_result": "Нема резултати за ова пребарување.",
            "unnamed_line": "Линија без име",
            "no_stop_available": "Нема достапни постојки.",
            "trip_proposed_by": "Патување предложено од {operatorName}",
            "unknown_operator": "непознат оператор",
            "proposed_by": "Патување предложено од",
            "unknown_op": "непознат оператор",
            "itinerary_title": "Мојот план за патување",
            "btn_undo": "Отстрани го последниот чекор",
            "btn_reset": "Исчисти сè",
            "planner_empty": "Пребарајте град за да го започнете вашиот план",
            "btn_load": "Вчитај",
            "btn_save": "Зачувај",
            "btn_pdf": "Генерирај PDF",
            "search_start": "Пребарај град на поаѓање...",
            "search_step": "Додади чекор...",
            "connected_cities": "Поврзани градови",
            "from": "Од",
            "filter_cities": "Филтрирај градови...",
            "already_last": "Овој град е веќе последниот чекор.",
            "not_connected": "Оваа постојка не е директно поврзана со вашиот последен чекор.",
            "already_added": "Веќе додадено",
            "step_start": "Поаѓање",
            "step_last": "Последен чекор",
            "step_generic": "Чекор",
            "pdf_warning_dots": "Додадете најмалку 2 града за да генерирате PDF.",
            "pdf_generating": "Генерирање PDF...",
            "pdf_timeout": "Снимањето на картата траеше премногу долго. Генерирање PDF без карта.",
            "pdf_canvas_err": "Грешка при снимање на картата. PDF генериран без карта.",
            "pdf_success": "PDF-то е успешно генерирано!",
            "toast_removed": "Последниот чекор е отстранет.",
            "toast_cleared": "Планот за патување е исчистен.",
            "toast_saved": "Планот за патување е зачуван (JSON).",
            "toast_loaded": "Планот за патување е успешно вчитан.",
            "cities_connected_count_one": "1 поврзан град",
            "cities_connected_count_other": "{count} поврзани градови",
            "cities_connected_count": "{count} поврзан{plural} град{plural}",
            "about_title": "За",
            "about_header": "Како работи",
            "about_intro": "Linia е алатка за визуелизација на податоци за јавниот превоз за линии на автобуси на долги релации.",
            "about_networks": "Визуелизација на мрежи",
            "about_networks_desc": "Апликацијата агрегира податоци од два оператори: Flixbus и BlaBlaCar Bus. Пребарувањето овозможува прикажување на линиите што опслужуваат одредена постојка.",
            "about_planning": "Планирање чекор по чекор",
            "about_planning_desc": "Планеризот овозможува изградба на секвенцијален план за патување. При додавање на град, се генерира список на директно поврзани дестинации за избор на следниот чекор.",
            "about_export": "Извоз на податоци",
            "about_export_desc": "Создадените планови за патување може да се извезат во PDF формат. Овој документ содржи преглед на чекорите и слика од картата поврзана со патувањето.",
            "data_sources": "Извори на податоци (GTFS)",
            "data_sources_desc": "Податоците доаѓаат од официјални GTFS извори достапни на transport.data.gouv.fr. Linia врши обединување на овие извори за централизирано консултирање.",
            "download_gtfs": "Преземете унифициран GTFS (.zip)",
            "return_home": "← Врати се на почетната",
            "btn_close": "Затвори",
            "disclaimer_title": "Информативна бележка",
            "disclaimer_text": "Linia се заснова на GTFS податоци од Flixbus и BlaBlaCar. Прикажаните податоци може да содржат грешки или да бидат нецелосни. Целта на апликацијата е визуелизација и никогаш нема да биде толку точна како официјалните апликации на Flixbus и BlaBlaCar или нивните партнери.",
            "nav_legal": "Правна поука",
            "legal_title": "Правна поука",
            "legal_editor_title": "1. Издавач на страницата",
            "legal_editor_content": "Во согласност со одредбите од членот 6-III-2 од францускиот закон бр. 2004-575 од 21 јуни 2004 година (LCEN), издавачот на оваа страница избра да остане анонимен. Личните податоци за идентификација се пренесени до хостот.",
            "legal_hosting_title": "2. Хостинг",
            "legal_hosting_content": "Страницата Linia е хостирана од Render Services, Inc., 520 High St, Palo Alto, CA 94301, САД (render.com).",
            "legal_intellectual_title": "3. Интелектуална сопственост и извори",
            "legal_intellectual_content": "Сопствената содржина на страницата (код, дизајн) е заштитена со авторски права. Прикажаните транспортни податоци доаѓаат од отворени извори (преку transport.data.gouv.fr). Тие се регулирани со Open Database License (ODbL). Корисникот е должен да ги почитува условите на оваа лиценца за секоја повторна употреба на овие податоци.",
            "legal_responsibility_title": "4. Одговорност",
            "legal_responsibility_content": "Издавачот ги обезбедува информациите за транспорт 'такви какви што се'. Тој не гарантира точност на распоредот ниту континуирана достапност на услугата и не може да се смета за одговорен за последиците поврзани со користењето на информациите на страницата.",
            "legal_privacy_title": "5. Лични податоци и колачиња",
            "legal_privacy_content": "Linia не собира никакви лични податоци. Локалното складирање на вашиот прелистувач се користи исклучиво за памтење на вашите преференции (неодамнешни пребарувања, јазик) со цел да се подобри корисничкото искуство. Не се користат колачиња од трети страни или рекламни тракери.",
            "faq_title": "ЧПП",
            "faq_free_q": "Дали Linia е бесплатна?",
            "faq_free_a": "Да, алатката е целосно бесплатна и без реклами.",
            "faq_countries_q": "Кои земји се покриени?",
            "faq_countries_a": "Linia покрива главно Европа: Франција, Германија, Шпанија, Италија, Бенелукс и други европски земји опслужени од FlixBus и BlaBlaCar Bus.",
            "faq_update_q": "Колку често се ажурираат податоците?",
            "faq_update_a": "GTFS податоците се ажурираат на првиот ден од секој месец.",
            "faq_report_q": "Како можам да пријавам грешка или да предложам подобрување?",
            "faq_report_a": "Можете да отворите issue во GitHub складиштето на проектот или да го контактирате развивачот преку contact@liniabus.eu"
        },
        ro: {
            "welcome": "Bun venit la",
            "search_placeholder": "De unde doriți să plecați?",
            "btn_planner": "Creează un itinerar",
            "btn_how": "Cum funcționează",
            "recent_searches": "Căutări recente",
            "nav_home": "Acasă",
            "nav_itinerary": "Itinerar",
            "nav_info": "Info",
            "footer_signature": "Страказа жывая",
            "loading": "Se încarcă...",
            "err_search": "Eroare de căutare.",
            "err_connection": "Nu se poate contacta serverul.",
            "no_stop_found": "Nu s-au găsit stații.",
            "this_stop": "această stație",
            "lines_from_stop_html": "Linii care pleacă din:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Nicio linie nu deservește această stație.",
            "no_search_result": "Niciun rezultat pentru această căutare.",
            "unnamed_line": "Linie fără nume",
            "no_stop_available": "Nicio stație disponibilă.",
            "trip_proposed_by": "Călătorie oferită de {operatorName}",
            "unknown_operator": "un operator necunoscut",
            "proposed_by": "Călătorie oferită de",
            "unknown_op": "un operator necunoscut",
            "itinerary_title": "Itinerarul meu",
            "btn_undo": "Elimină ultimul pas",
            "btn_reset": "Șterge tot",
            "planner_empty": "Căutați un oraș pentru a începe itinerariul",
            "btn_load": "Încarcă",
            "btn_save": "Salvează",
            "btn_pdf": "Generează PDF",
            "search_start": "Căutați un oraș de plecare...",
            "search_step": "Adăugați un pas...",
            "connected_cities": "Orașe conectate",
            "from": "De la",
            "filter_cities": "Filtrați orașele...",
            "already_last": "Acest oraș este deja ultimul pas.",
            "not_connected": "Această stație nu este conectată direct la ultimul dvs. pas.",
            "already_added": "Deja adăugat",
            "step_start": "Plecare",
            "step_last": "Ultimul pas",
            "step_generic": "Pas",
            "pdf_warning_dots": "Adăugați cel puțin 2 orașe pentru a genera un PDF.",
            "pdf_generating": "Se generează PDF...",
            "pdf_timeout": "Captura hărții a durat prea mult. Se generează PDF fără hartă.",
            "pdf_canvas_err": "Eroare la capturarea hărții. PDF generat fără hartă.",
            "pdf_success": "PDF generat cu succes!",
            "toast_removed": "Ultimul pas eliminat.",
            "toast_cleared": "Itinerar șters.",
            "toast_saved": "Itinerar salvat (JSON).",
            "toast_loaded": "Itinerar încărcat cu succes.",
            "cities_connected_count_one": "1 oraș conectat",
            "cities_connected_count_other": "{count} orașe conectate",
            "cities_connected_count": "{count} oraș{plural} conectat{plural}",
            "about_title": "Despre",
            "about_header": "Cum funcționează",
            "about_intro": "Linia este un instrument de vizualizare a datelor de transport public pentru liniile de autobuz pe distanțe lungi.",
            "about_networks": "Vizualizarea rețelelor",
            "about_networks_desc": "Aplicația agregă date de la doi operatori: Flixbus și BlaBlaCar Bus. Căutarea vă permite să afișați liniile care deservesc o anumită stație.",
            "about_planning": "Planificare pas cu pas",
            "about_planning_desc": "Planificatorul vă permite să construiți un itinerar secvențial. La adăugarea unui oraș, se generează o listă de destinații direct conectate pentru a selecta următorul pas.",
            "about_export": "Export de date",
            "about_export_desc": "Itinerarele create pot fi exportate în format PDF. Acest document conține un rezumat al pașilor și o captură a hărții asociate călătoriei.",
            "data_sources": "Surse de date (GTFS)",
            "data_sources_desc": "Datele provin din fluxurile oficiale GTFS disponibile pe transport.data.gouv.fr. Linia realizează o unificare a acestor fluxuri pentru a permite consultarea centralizată.",
            "download_gtfs": "Descărcați GTFS Unificat (.zip)",
            "return_home": "← Înapoi la acasă",
            "btn_close": "Închide",
            "disclaimer_title": "Notă informativă",
            "disclaimer_text": "Linia se bazează pe datele GTFS de la Flixbus și BlaBlaCar. Datele afișate pot conține erori sau pot fi incomplete. Scopul aplicației este vizualizarea și nu va fi niciodată la fel de exactă ca aplicațiile oficiale ale Flixbus și BlaBlaCar sau ale partenerilor acestora.",
            "nav_legal": "Mențiuni Legale",
            "legal_title": "Mențiuni Legale",
            "legal_editor_title": "1. Editorul site-ului",
            "legal_editor_content": "În conformitate cu prevederile articolului 6-III-2 din Legea franceză nr. 2004-575 din 21 iunie 2004 (LCEN), editorul acestui site a ales să rămână anonim. Informațiile de identificare personală au fost transmise către furnizorul de găzduire.",
            "legal_hosting_title": "2. Găzduire",
            "legal_hosting_content": "Site-ul este găzduit de Render Services, Inc., 520 High St, Palo Alto, CA 94301, SUA (render.com).",
            "legal_intellectual_title": "3. Proprietate Intelectuală și Surse",
            "legal_intellectual_content": "Conținutul propriu al site-ului (cod, design) este protejat de drepturile de autor. Datele de transport afișate provin din surse deschise (prin transport.data.gouv.fr). Acestea sunt guvernate de Open Database License (ODbL). Utilizatorul este obligat să respecte termenii acestei licențe pentru orice reutilizare a acestor date.",
            "legal_responsibility_title": "4. Responsabilitate",
            "legal_responsibility_content": "Editorul furnizează informațiile de transport 'ca atare'. Nu garantează exactitatea orarelor sau disponibilitatea continuă a serviciului și nu poate fi considerat responsabil pentru consecințele legate de utilizarea informațiilor prezente pe site.",
            "legal_privacy_title": "5. Date Personale și Cookie-uri",
            "legal_privacy_content": "Linia nu colectează date personale. Stocarea locală a browserului dvs. este utilizată exclusiv pentru a memora preferințele dvs. (căutări recente, limbă) pentru a îmbunătăți experiența utilizatorului. Nu se utilizează cookie-uri terțe sau trackere publicitare.",
            "faq_title": "Întrebări frecvente",
            "faq_free_q": "Linia este gratuit?",
            "faq_free_a": "Da, instrumentul este complet gratuit și fără reclame.",
            "faq_countries_q": "Ce țări sunt acoperite?",
            "faq_countries_a": "Linia acoperă în principal Europa: Franța, Germania, Spania, Italia, Benelux și alte țări europene deservite de FlixBus și BlaBlaCar Bus.",
            "faq_update_q": "Cât de des sunt actualizate datele?",
            "faq_update_a": "Datele GTFS sunt actualizate în prima zi a fiecărei luni.",
            "faq_report_q": "Cum pot raporta o eroare sau sugera o îmbunătățire?",
            "faq_report_a": "Puteți deschide un issue în depozitul GitHub al proiectului sau puteți contacta dezvoltatorul prin contact@liniabus.eu"
        },
        pl: {
            "welcome": "Witaj w",
            "search_placeholder": "Skąd chcesz wyruszyć?",
            "btn_planner": "Utwórz plan podróży",
            "btn_how": "Jak to działa",
            "recent_searches": "Ostatnie wyszukiwania",
            "nav_home": "Strona główna",
            "nav_itinerary": "Plan podróży",
            "nav_info": "Informacje",
            "footer_signature": "Страказа жывая",
            "loading": "Ładowanie...",
            "err_search": "Błąd wyszukiwania.",
            "err_connection": "Nie można skontaktować się z serwerem.",
            "no_stop_found": "Nie znaleziono przystanków.",
            "this_stop": "ten przystanek",
            "lines_from_stop_html": "Linie odjeżdżające z:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Żadna linia nie obsługuje tego przystanku.",
            "no_search_result": "Brak wyników dla tego wyszukiwania.",
            "unnamed_line": "Linia bez nazwy",
            "no_stop_available": "Brak dostępnych przystanków.",
            "trip_proposed_by": "Podróż oferowana przez {operatorName}",
            "unknown_operator": "nieznany operator",
            "proposed_by": "Podróż oferowana przez",
            "unknown_op": "nieznany operator",
            "itinerary_title": "Mój plan podróży",
            "btn_undo": "Usuń ostatni krok",
            "btn_reset": "Wyczyść wszystko",
            "planner_empty": "Wyszukaj miasto, aby rozpocząć plan podróży",
            "btn_load": "Wczytaj",
            "btn_save": "Zapisz",
            "btn_pdf": "Generuj PDF",
            "search_start": "Szukaj miasta początkowego...",
            "search_step": "Dodaj krok...",
            "connected_cities": "Połączone miasta",
            "from": "Z",
            "filter_cities": "Filtruj miasta...",
            "already_last": "To miasto jest już ostatnim krokiem.",
            "not_connected": "Ten przystanek nie jest bezpośrednio połączony z twoim ostatnim krokiem.",
            "already_added": "Już dodano",
            "step_start": "Początek",
            "step_last": "Ostatni krok",
            "step_generic": "Krok",
            "pdf_warning_dots": "Dodaj co najmniej 2 miasta, aby wygenerować PDF.",
            "pdf_generating": "Generowanie PDF...",
            "pdf_timeout": "Przechwytywanie mapy trwało zbyt długo. Generowanie PDF bez mapy.",
            "pdf_canvas_err": "Błąd podczas przechwytywania mapy. PDF wygenerowany bez mapy.",
            "pdf_success": "PDF wygenerowany pomyślnie!",
            "toast_removed": "Ostatni krok usunięty.",
            "toast_cleared": "Plan podróży wyczyszczony.",
            "toast_saved": "Plan podróży zapisany (JSON).",
            "toast_loaded": "Plan podróży wczytany pomyślnie.",
            "cities_connected_count_one": "1 połączone miasto",
            "cities_connected_count_other": "{count} połączone miasta",
            "cities_connected_count": "{count} połączone{plural} miasto{plural}",
            "about_title": "O aplikacji",
            "about_header": "Jak to działa",
            "about_intro": "Linia to narzędzie do wizualizacji danych transportu publicznego dla dalekobieżnych linii autobusowych.",
            "about_networks": "Wizualizacja sieci",
            "about_networks_desc": "Aplikacja agreguje dane od dwóch operatorów: Flixbus i BlaBlaCar Bus. Wyszukiwanie umożliwia wyświetlenie linii obsługujących konkretny przystanek.",
            "about_planning": "Planowanie krok po kroku",
            "about_planning_desc": "Planer umożliwia budowanie sekwencyjnego planu podróży. Po dodaniu miasta generowana jest lista bezpośrednio połączonych destynacji, aby umożliwić wybór następnego kroku.",
            "about_export": "Eksport danych",
            "about_export_desc": "Utworzone plany podróży można eksportować do formatu PDF. Dokument ten zawiera podsumowanie kroków i zrzut mapy związanej z podróżą.",
            "data_sources": "Źródła danych (GTFS)",
            "data_sources_desc": "Dane pochodzą z oficjalnych strumieni GTFS dostępnych na transport.data.gouv.fr. Linia dokonuje unifikacji tych strumieni, aby umożliwić scentralizowane konsultacje.",
            "download_gtfs": "Pobierz zunifikowany GTFS (.zip)",
            "return_home": "← Powrót do strony głównej",
            "btn_close": "Zamknij",
            "disclaimer_title": "Informacja",
            "disclaimer_text": "Linia opiera się na danych GTFS od Flixbus i BlaBlaCar. Wyświetlane dane mogą zawierać błędy lub być niekompletne. Celem aplikacji jest wizualizacja i nigdy nie będzie ona tak dokładna jak oficjalne aplikacje Flixbus i BlaBlaCar lub ich partnerów.",
            "nav_legal": "Informacje prawne",
            "legal_title": "Informacje prawne",
            "legal_editor_title": "1. Wydawca serwisu",
            "legal_editor_content": "Zgodnie z przepisami art. 6-III-2 francuskiej ustawy nr 2004-575 z dnia 21 czerwca 2004 r. (LCEN), wydawca niniejszej witryny zdecydował się zachować anonimowość. Dane osobowe zostały przekazane hostowi.",
            "legal_hosting_title": "2. Hosting",
            "legal_hosting_content": "Serwis jest hostowany przez Render Services, Inc., 520 High St, Palo Alto, CA 94301, USA (render.com).",
            "legal_intellectual_title": "3. Własność intelektualna i źródła",
            "legal_intellectual_content": "Własna treść strony (kod, projekt) jest chroniona prawem autorskim. Wyświetlane dane transportowe pochodzą z otwartych źródeł (za pośrednictwem transport.data.gouv.fr). Podlegają one licencji Open Database License (ODbL). Użytkownik jest zobowiązany do przestrzegania warunków tej licencji w przypadku dalszego wykorzystywania tych danych.",
            "legal_responsibility_title": "4. Odpowiedzialność",
            "legal_responsibility_content": "Wydawca udostępnia informacje o transporcie 'takie, jakie są'. Nie gwarantuje dokładności rozkładów jazdy ani ciągłej dostępności usługi i nie ponosi odpowiedzialności za konsekwencje związane z wykorzystaniem informacji zamieszczonych na stronie.",
            "legal_privacy_title": "5. Dane osobowe i pliki cookie",
            "legal_privacy_content": "Linia nie gromadzi żadnych danych osobowych. Lokalna pamięć przeglądarki jest wykorzystywana wyłącznie do zapamiętywania preferencji (ostatnie wyszukiwania, język) w celu poprawy komfortu użytkowania. Nie są używane pliki cookie stron trzecich ani trackery reklamowe.",
            "faq_title": "FAQ",
            "faq_free_q": "Czy Linia jest bezpłatna?",
            "faq_free_a": "Tak, narzędzie jest całkowicie bezpłatne i bez reklam.",
            "faq_countries_q": "Które kraje są objęte?",
            "faq_countries_a": "Linia obejmuje głównie Europę: Francję, Niemcy, Hiszpanię, Włochy, Beneluks i inne kraje europejskie obsługiwane przez FlixBus i BlaBlaCar Bus.",
            "faq_update_q": "Jak często aktualizowane są dane?",
            "faq_update_a": "Dane GTFS są aktualizowane pierwszego dnia każdego miesiąca.",
            "faq_report_q": "Jak mogę zgłosić błąd lub zasugerować ulepszenie?",
            "faq_report_a": "Możesz otworzyć issue w repozytorium GitHub projektu lub skontaktować się z deweloperem przez contact@liniabus.eu"
        },
        cs: {
            "welcome": "Vítejte v",
            "search_placeholder": "Odkud chcete vyrazit?",
            "btn_planner": "Vytvořit itinerář",
            "btn_how": "Jak to funguje",
            "recent_searches": "Nedávná vyhledávání",
            "nav_home": "Domů",
            "nav_itinerary": "Itinerář",
            "nav_info": "Info",
            "footer_signature": "Страказа жывая",
            "loading": "Načítání...",
            "err_search": "Chyba vyhledávání.",
            "err_connection": "Nelze kontaktovat server.",
            "no_stop_found": "Nenalezeny žádné zastávky.",
            "this_stop": "tato zastávka",
            "lines_from_stop_html": "Linky odjíždějící z:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Žádná linka neobsluhuje tuto zastávku.",
            "no_search_result": "Žádné výsledky pro toto vyhledávání.",
            "unnamed_line": "Linka bez názvu",
            "no_stop_available": "Žádné dostupné zastávky.",
            "trip_proposed_by": "Cesta nabízená {operatorName}",
            "unknown_operator": "neznámý operátor",
            "proposed_by": "Cesta nabízená",
            "unknown_op": "neznámý operátor",
            "itinerary_title": "Můj itinerář",
            "btn_undo": "Odstranit poslední krok",
            "btn_reset": "Vymazat vše",
            "planner_empty": "Vyhledejte město pro zahájení itineráře",
            "btn_load": "Načíst",
            "btn_save": "Uložit",
            "btn_pdf": "Generovat PDF",
            "search_start": "Hledat město odjezdu...",
            "search_step": "Přidat krok...",
            "connected_cities": "Propojená města",
            "from": "Z",
            "filter_cities": "Filtrovat města...",
            "already_last": "Toto město je již posledním krokem.",
            "not_connected": "Tato zastávka není přímo spojena s vaším posledním krokem.",
            "already_added": "Již přidáno",
            "step_start": "Odjezd",
            "step_last": "Poslední krok",
            "step_generic": "Krok",
            "pdf_warning_dots": "Přidejte alespoň 2 města pro generování PDF.",
            "pdf_generating": "Generování PDF...",
            "pdf_timeout": "Zachycení mapy trvalo příliš dlouho. Generování PDF bez mapy.",
            "pdf_canvas_err": "Chyba při zachycení mapy. PDF vygenerováno bez mapy.",
            "pdf_success": "PDF úspěšně vygenerováno!",
            "toast_removed": "Poslední krok odstraněn.",
            "toast_cleared": "Itinerář vymazán.",
            "toast_saved": "Itinerář uložen (JSON).",
            "toast_loaded": "Itinerář úspěšně načten.",
            "cities_connected_count_one": "1 spojené město",
            "cities_connected_count_other": "{count} spojených měst",
            "cities_connected_count": "{count} spojené{plural} město{plural}",
            "about_title": "O aplikaci",
            "about_header": "Jak to funguje",
            "about_intro": "Linia je nástroj pro vizualizaci dat veřejné dopravy pro dálkové autobusové linky.",
            "about_networks": "Vizualizace sítí",
            "about_networks_desc": "Aplikace agreguje data od dvou operátorů: Flixbus a BlaBlaCar Bus. Vyhledávání umožňuje zobrazit linky obsluhující konkrétní zastávku.",
            "about_planning": "Plánování krok za krokem",
            "about_planning_desc": "Plánovač umožňuje sestavit sekvenční itinerář. Při přidání města se vygeneruje seznam přímo propojených destinací pro výběr dalšího kroku.",
            "about_export": "Export dat",
            "about_export_desc": "Vytvořené itineráře lze exportovat do formátu PDF. Tento dokument obsahuje přehled kroků a snímek mapy spojené s cestou.",
            "data_sources": "Zdroje dat (GTFS)",
            "data_sources_desc": "Data pocházejí z oficiálních GTFS zdrojů dostupných na transport.data.gouv.fr. Linia provádí sjednocení těchto zdrojů pro centralizované konzultace.",
            "download_gtfs": "Stáhnout sjednocený GTFS (.zip)",
            "return_home": "← Zpět na domovskou stránku",
            "btn_close": "Zavřít",
            "disclaimer_title": "Informační poznámka",
            "disclaimer_text": "Linia je založena na datech GTFS od společností Flixbus a BlaBlaCar. Zobrazená data mohou obsahovat chyby nebo být neúplná. Účelem aplikace je vizualizace a nikdy nebude tak přesná jako oficiální aplikace Flixbus a BlaBlaCar nebo jejich partnerů.",
            "nav_legal": "Právní informace",
            "legal_title": "Právní informace",
            "legal_editor_title": "1. Vydavatel webu",
            "legal_editor_content": "V souladu s ustanoveními článku 6-III-2 francouzského zákona č. 2004-575 ze dne 21. června 2004 (LCEN) se vydavatel tohoto webu rozhodl zůstat v anonymitě. Osobní identifikační údaje byly předány poskytovateli hostingu.",
            "legal_hosting_title": "2. Hosting",
            "legal_hosting_content": "Web je hostován společností Render Services, Inc., 520 High St, Palo Alto, CA 94301, USA (render.com).",
            "legal_intellectual_title": "3. Duševní vlastnictví a zdroje",
            "legal_intellectual_content": "Vlastní obsah webu (kód, design) je chráněn autorským právem. Zobrazená dopravní data pocházejí z otevřených zdrojů (prostřednictvím transport.data.gouv.fr). Řídí se licencí Open Database License (ODbL). Uživatel je povinen respektovat podmínky této licence při jakémkoli dalším použití těchto dat.",
            "legal_responsibility_title": "4. Odpovědnost",
            "legal_responsibility_content": "Vydavatel poskytuje dopravní informace 'tak, jak jsou'. Nezaručuje přesnost jízdních řádů ani nepřetržitou dostupnost služby a nelze jej činit odpovědným za důsledky související s používáním informací na webu.",
            "legal_privacy_title": "5. Osobní údaje a cookies",
            "legal_privacy_content": "Linia neshromažďuje žádné osobní údaje. Místní úložiště vašeho prohlížeče se používá výhradně k zapamatování vašich preferencí (nedávná vyhledávání, jazyk) za účelem zlepšení uživatelského zážitku. Nepoužívají se cookies třetích stran ani reklamní trackery.",
            "faq_title": "FAQ",
            "faq_free_q": "Je Linia zdarma?",
            "faq_free_a": "Ano, nástroj je zcela zdarma a bez reklam.",
            "faq_countries_q": "Které země jsou pokryty?",
            "faq_countries_a": "Linia pokrývá především Evropu: Francii, Německo, Španělsko, Itálii, Benelux a další evropské země obsluhované společnostmi FlixBus a BlaBlaCar Bus.",
            "faq_update_q": "Jak často jsou data aktualizována?",
            "faq_update_a": "Data GTFS jsou aktualizována první den každého měsíce.",
            "faq_report_q": "Jak mohu nahlásit chybu nebo navrhnout vylepšení?",
            "faq_report_a": "Můžete otevřít issue v repozitáři GitHub projektu nebo kontaktovat vývojáře prostřednictvím contact@liniabus.eu"
        },
        sk: {
            "welcome": "Vitajte v",
            "search_placeholder": "Odkiaľ chcete vyraziť?",
            "btn_planner": "Vytvoriť itinerár",
            "btn_how": "Ako to funguje",
            "recent_searches": "Nedávne vyhľadávania",
            "nav_home": "Domov",
            "nav_itinerary": "Itinerár",
            "nav_info": "Info",
            "footer_signature": "Страказа жывая",
            "loading": "Načítava sa...",
            "err_search": "Chyba vyhľadávania.",
            "err_connection": "Nedá sa kontaktovať server.",
            "no_stop_found": "Nenašli sa žiadne zastávky.",
            "this_stop": "táto zastávka",
            "lines_from_stop_html": "Linky odchádzajúce z:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Žiadna linka neobsluhuje túto zastávku.",
            "no_search_result": "Žiadne výsledky pre toto vyhľadávanie.",
            "unnamed_line": "Linka bez názvu",
            "no_stop_available": "Žiadne dostupné zastávky.",
            "trip_proposed_by": "Cesta ponúkaná {operatorName}",
            "unknown_operator": "neznámy operátor",
            "proposed_by": "Cesta ponúkaná",
            "unknown_op": "neznámy operátor",
            "itinerary_title": "Môj itinerár",
            "btn_undo": "Odstrániť posledný krok",
            "btn_reset": "Vymazať všetko",
            "planner_empty": "Vyhľadajte mesto na začatie itinerára",
            "btn_load": "Načítať",
            "btn_save": "Uložiť",
            "btn_pdf": "Generovať PDF",
            "search_start": "Hľadať mesto odchodu...",
            "search_step": "Pridať krok...",
            "connected_cities": "Prepojené mestá",
            "from": "Z",
            "filter_cities": "Filtrovať mestá...",
            "already_last": "Toto mesto je už posledným krokom.",
            "not_connected": "Táto zastávka nie je priamo spojená s vaším posledným krokom.",
            "already_added": "Už pridané",
            "step_start": "Odchod",
            "step_last": "Posledný krok",
            "step_generic": "Krok",
            "pdf_warning_dots": "Pridajte aspoň 2 mestá na generovanie PDF.",
            "pdf_generating": "Generovanie PDF...",
            "pdf_timeout": "Zachytenie mapy trvalo príliš dlho. Generovanie PDF bez mapy.",
            "pdf_canvas_err": "Chyba pri zachytení mapy. PDF vygenerované bez mapy.",
            "pdf_success": "PDF úspešne vygenerované!",
            "toast_removed": "Posledný krok odstránený.",
            "toast_cleared": "Itinerár vymazaný.",
            "toast_saved": "Itinerár uložený (JSON).",
            "toast_loaded": "Itinerár úspešne načítaný.",
            "cities_connected_count_one": "1 spojené mesto",
            "cities_connected_count_other": "{count} spojených miest",
            "cities_connected_count": "{count} spojené{plural} mesto{plural}",
            "about_title": "O aplikácii",
            "about_header": "Ako to funguje",
            "about_intro": "Linia je nástroj na vizualizáciu údajov verejnej dopravy pre diaľkové autobusové linky.",
            "about_networks": "Vizualizácia sietí",
            "about_networks_desc": "Aplikácia agreguje údaje od dvoch operátorov: Flixbus a BlaBlaCar Bus. Vyhľadávanie umožňuje zobraziť linky obsluhujúce konkrétnu zastávku.",
            "about_planning": "Plánovanie krok za krokom",
            "about_planning_desc": "Plánovač umožňuje zostaviť sekvenčný itinerár. Pri pridaní mesta sa vygeneruje zoznam priamo prepojených destinácií na výber ďalšieho kroku.",
            "about_export": "Export údajov",
            "about_export_desc": "Vytvorené itineráre možno exportovať vo formáte PDF. Tento dokument obsahuje prehľad krokov a snímku mapy spojenej s cestou.",
            "data_sources": "Zdroje údajov (GTFS)",
            "data_sources_desc": "Údaje pochádzajú z oficiálnych GTFS zdrojov dostupných na transport.data.gouv.fr. Linia vykonáva zjednotenie týchto zdrojov pre centralizované konzultácie.",
            "download_gtfs": "Stiahnuť zjednotený GTFS (.zip)",
            "return_home": "← Späť na domovskú stránku",
            "btn_close": "Zatvoriť",
            "disclaimer_title": "Informačná poznámka",
            "disclaimer_text": "Linia je založená na údajoch GTFS od spoločností Flixbus a BlaBlaCar. Zobrazené údaje môžu obsahovať chyby alebo byť neúplné. Účelom aplikácie je vizualizácia a nikdy nebude taká presná ako oficiálne aplikácie Flixbus a BlaBlaCar alebo ich partnerov.",
            "nav_legal": "Právne informácie",
            "legal_title": "Právne informácie",
            "legal_editor_title": "1. Vydavateľ stránky",
            "legal_editor_content": "V súlade s ustanoveniami článku 6-III-2 francúzskeho zákona č. 2004-575 z 21. júna 2004 (LCEN) sa vydavateľ tejto stránky rozhodol zostať v anonymite. Osobné identifikačné údaje boli odovzdané poskytovateľovi hostingu.",
            "legal_hosting_title": "2. Hosting",
            "legal_hosting_content": "Stránku hostuje Render Services, Inc., 520 High St, Palo Alto, CA 94301, USA (render.com).",
            "legal_intellectual_title": "3. Duševné vlastníctvo a zdroje",
            "legal_intellectual_content": "Vlastný obsah stránky (kód, dizajn) je chránený autorským právom. Zobrazené dopravné údaje pochádzajú z otvorených zdrojov (prostredníctvom transport.data.gouv.fr). Riadia sa licenciou Open Database License (ODbL). Používateľ je povinný rešpektovať podmienky tejto licencie pri akomkoľvek ďalšom použití týchto údajov.",
            "legal_responsibility_title": "4. Zodpovednosť",
            "legal_responsibility_content": "Vydavateľ poskytuje dopravné informácie 'tak, ako sú'. Nezaručuje presnosť cestovných poriadkov ani nepretržitú dostupnosť služby a nemožno ho brať na zodpovednosť za dôsledky súvisiace s používaním informácií na stránke.",
            "legal_privacy_title": "5. Osobné údaje a cookies",
            "legal_privacy_content": "Linia nezhromažďuje žiadne osobné údaje. Lokálne úložisko vášho prehliadača sa používa výlučne na zapamätanie vašich preferencií (nedávne vyhľadávania, jazyk) s cieľom zlepšiť používateľský zážitok. Nepoužívajú sa cookies tretích strán ani reklamné trackery.",
            "faq_title": "FAQ",
            "faq_free_q": "Je Linia bezplatná?",
            "faq_free_a": "Áno, nástroj je úplne bezplatný a bez reklám.",
            "faq_countries_q": "Ktoré krajiny sú pokryté?",
            "faq_countries_a": "Linia pokrýva hlavne Európu: Francúzsko, Nemecko, Španielsko, Taliansko, Benelux a ďalšie európske krajiny obsluhované spoločnosťami FlixBus a BlaBlaCar Bus.",
            "faq_update_q": "Ako často sú údaje aktualizované?",
            "faq_update_a": "Údaje GTFS sú aktualizované prvý deň každého mesiaca.",
            "faq_report_q": "Ako môžem nahlásiť chybu alebo navrhnúť vylepšenie?",
            "faq_report_a": "Môžete otvoriť issue v GitHub repozitári projektu alebo kontaktovať vývojára prostredníctvom contact@liniabus.eu"
        },
        sl: {
            "welcome": "Dobrodošli v",
            "search_placeholder": "Od kod želite začeti?",
            "btn_planner": "Ustvari načrt poti",
            "btn_how": "Kako deluje",
            "recent_searches": "Nedavna iskanja",
            "nav_home": "Domov",
            "nav_itinerary": "Načrt poti",
            "nav_info": "Informacije",
            "footer_signature": "Страказа жывая",
            "loading": "Nalaganje...",
            "err_search": "Napaka pri iskanju.",
            "err_connection": "Ni mogoče vzpostaviti stika s strežnikom.",
            "no_stop_found": "Ni najdenih postajališč.",
            "this_stop": "to postajališče",
            "lines_from_stop_html": "Proge, ki odhajajo iz:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Nobena proga ne oskrbuje tega postajališča.",
            "no_search_result": "Ni rezultatov za to iskanje.",
            "unnamed_line": "Proga brez imena",
            "no_stop_available": "Ni na voljo postajališč.",
            "trip_proposed_by": "Potovanje ponuja {operatorName}",
            "unknown_operator": "neznan operater",
            "proposed_by": "Potovanje ponuja",
            "unknown_op": "neznan operater",
            "itinerary_title": "Moj načrt poti",
            "btn_undo": "Odstrani zadnji korak",
            "btn_reset": "Počisti vse",
            "planner_empty": "Poiščite mesto za začetek načrta poti",
            "btn_load": "Naloži",
            "btn_save": "Shrani",
            "btn_pdf": "Ustvari PDF",
            "search_start": "Išči izhodiščno mesto...",
            "search_step": "Dodaj korak...",
            "connected_cities": "Povezana mesta",
            "from": "Od",
            "filter_cities": "Filtriraj mesta...",
            "already_last": "To mesto je že zadnji korak.",
            "not_connected": "To postajališče ni neposredno povezano z vašim zadnjim korakom.",
            "already_added": "Že dodano",
            "step_start": "Začetek",
            "step_last": "Zadnji korak",
            "step_generic": "Korak",
            "pdf_warning_dots": "Dodajte vsaj 2 mesti za ustvarjanje PDF-ja.",
            "pdf_generating": "Ustvarjanje PDF-ja...",
            "pdf_timeout": "Zajem zemljevida je trajal predolgo. Ustvarjanje PDF-ja brez zemljevida.",
            "pdf_canvas_err": "Napaka pri zajemu zemljevida. PDF ustvarjen brez zemljevida.",
            "pdf_success": "PDF uspešno ustvarjen!",
            "toast_removed": "Zadnji korak odstranjen.",
            "toast_cleared": "Načrt poti počiščen.",
            "toast_saved": "Načrt poti shranjen (JSON).",
            "toast_loaded": "Načrt poti uspešno naložen.",
            "cities_connected_count_one": "1 povezano mesto",
            "cities_connected_count_other": "{count} povezana mesta",
            "cities_connected_count": "{count} povezano{plural} mesto{plural}",
            "about_title": "O",
            "about_header": "Kako deluje",
            "about_intro": "Linia je orodje za vizualizacijo podatkov javnega prevoza za medkrajevne avtobusne proge.",
            "about_networks": "Vizualizacija omrežij",
            "about_networks_desc": "Aplikacija združuje podatke dveh operaterjev: Flixbus in BlaBlaCar Bus. Iskanje omogoča prikaz prog, ki oskrbujejo določeno postajališče.",
            "about_planning": "Načrtovanje korak za korakom",
            "about_planning_desc": "Načrtovalec omogoča gradnjo zaporednega načrta poti. Pri dodajanju mesta se ustvari seznam neposredno povezanih destinacij za izbiro naslednjega koraka.",
            "about_export": "Izvoz podatkov",
            "about_export_desc": "Ustvarjene načrte poti je mogoče izvoziti v format PDF. Ta dokument vsebuje povzetek korakov in posnetek zemljevida, povezanega s potovanjem.",
            "data_sources": "Viri podatkov (GTFS)",
            "data_sources_desc": "Podatki prihajajo iz uradnih GTFS virov, ki so na voljo na transport.data.gouv.fr. Linia izvaja poenotenje teh virov za centralizirano posvetovanje.",
            "download_gtfs": "Prenesi poenoten GTFS (.zip)",
            "return_home": "← Nazaj na domov",
            "btn_close": "Zapri",
            "disclaimer_title": "Informativno obvestilo",
            "disclaimer_text": "Linia temelji na podatkih GTFS podjetij Flixbus in BlaBlaCar. Prikazani podatki lahko vsebujejo napake ali so nepopolni. Namen aplikacije je vizualizacija in nikoli ne bo tako natančna kot uradne aplikacije Flixbus in BlaBlaCar ali njunih partnerjev.",
            "nav_legal": "Pravna obvestila",
            "legal_title": "Pravna obvestila",
            "legal_editor_title": "1. Urednik spletnega mesta",
            "legal_editor_content": "V skladu z določili člena 6-III-2 francoskega zakona št. 2004-575 z dne 21. junija 2004 (LCEN) se je urednik tega spletnega mesta odločil ostati anonimen. Osebni podatki za identifikacijo so bili posredovani ponudniku gostovanja.",
            "legal_hosting_title": "2. Gostovanje",
            "legal_hosting_content": "Spletno mesto gosti Render Services, Inc., 520 High St, Palo Alto, CA 94301, ZDA (render.com).",
            "legal_intellectual_title": "3. Intelektualna lastnina in viri",
            "legal_intellectual_content": "Lastna vsebina spletnega mesta (koda, dizajn) je zaščitena z avtorskimi pravicami. Prikazani podatki o prevozu prihajajo iz odprtih virov (prek transport.data.gouv.fr). Zanje velja licenca Open Database License (ODbL). Uporabnik je dolžan spoštovati pogoje te licence za vsakršno ponovno uporabo teh podatkov.",
            "legal_responsibility_title": "4. Odgovornost",
            "legal_responsibility_content": "Urednik ponuja informacije o prevozu 'takšne, kot so'. Ne zagotavlja točnosti voznih redov ali neprekinjene razpoložljivosti storitve in ga ni mogoče šteti za odgovornega za posledice, povezane z uporabo informacij na spletnem mestu.",
            "legal_privacy_title": "5. Osebni podatki in piškotki",
            "legal_privacy_content": "Linia ne zbira osebnih podatkov. Lokalna shramba vašega brskalnika se uporablja izključno za pomnjenje vaših nastavitev (nedavna iskanja, jezik) za izboljšanje uporabniške izkušnje. Ne uporabljajo se piškotki tretjih oseb ali sledilci oglasov.",
            "faq_title": "FAQ",
            "faq_free_q": "Je Linia brezplačna?",
            "faq_free_a": "Da, orodje je popolnoma brezplačno in brez oglasov.",
            "faq_countries_q": "Katere države so pokrite?",
            "faq_countries_a": "Linia pokriva predvsem Evropo: Francijo, Nemčijo, Španijo, Italijo, Beneluks in druge evropske države, ki jih oskrbujejo FlixBus in BlaBlaCar Bus.",
            "faq_update_q": "Kako pogosto se podatki posodabljajo?",
            "faq_update_a": "Podatki GTFS se posodabljajo prvi dan vsakega meseca.",
            "faq_report_q": "Kako lahko prijavim napako ali predlagam izboljšavo?",
            "faq_report_a": "Lahko odprete issue v repozitoriju GitHub projekta ali stopite v stik z razvijalcem prek contact@liniabus.eu"
        },
        sv: {
            "welcome": "Välkommen till",
            "search_placeholder": "Varifrån vill du åka?",
            "btn_planner": "Skapa en resrutt",
            "btn_how": "Hur det fungerar",
            "recent_searches": "Senaste sökningar",
            "nav_home": "Hem",
            "nav_itinerary": "Resrutt",
            "nav_info": "Info",
            "footer_signature": "Страказа жывая",
            "loading": "Laddar...",
            "err_search": "Sökfel.",
            "err_connection": "Kan inte kontakta servern.",
            "no_stop_found": "Inga hållplatser hittades.",
            "this_stop": "denna hållplats",
            "lines_from_stop_html": "Linjer som avgår från:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Inga linjer betjänar denna hållplats.",
            "no_search_result": "Inga resultat för denna sökning.",
            "unnamed_line": "Namnlös linje",
            "no_stop_available": "Inga hållplatser tillgängliga.",
            "trip_proposed_by": "Resa erbjuds av {operatorName}",
            "unknown_operator": "en okänd operatör",
            "proposed_by": "Resa erbjuds av",
            "unknown_op": "en okänd operatör",
            "itinerary_title": "Min resrutt",
            "btn_undo": "Ta bort sista steget",
            "btn_reset": "Rensa allt",
            "planner_empty": "Sök efter en stad för att påbörja din resrutt",
            "btn_load": "Ladda",
            "btn_save": "Spara",
            "btn_pdf": "Generera PDF",
            "search_start": "Sök efter en avgångsstad...",
            "search_step": "Lägg till ett steg...",
            "connected_cities": "Anslutna städer",
            "from": "Från",
            "filter_cities": "Filtrera städer...",
            "already_last": "Denna stad är redan det sista steget.",
            "not_connected": "Denna hållplats är inte direkt ansluten till ditt sista steg.",
            "already_added": "Redan tillagd",
            "step_start": "Start",
            "step_last": "Sista steget",
            "step_generic": "Steg",
            "pdf_warning_dots": "Lägg till minst 2 städer för att generera en PDF.",
            "pdf_generating": "Genererar PDF...",
            "pdf_timeout": "Kartinfångning tog för lång tid. Genererar PDF utan karta.",
            "pdf_canvas_err": "Fel vid infångning av karta. PDF genererad utan karta.",
            "pdf_success": "PDF genererad framgångsrikt!",
            "toast_removed": "Sista steget borttaget.",
            "toast_cleared": "Resrutt rensad.",
            "toast_saved": "Resrutt sparad (JSON).",
            "toast_loaded": "Resrutt laddad framgångsrikt.",
            "cities_connected_count_one": "1 ansluten stad",
            "cities_connected_count_other": "{count} anslutna städer",
            "cities_connected_count": "{count} ansluten stad{plural}",
            "about_title": "Om",
            "about_header": "Hur det fungerar",
            "about_intro": "Linia är ett verktyg för visualisering av kollektivtrafikdata för långdistansbusslinjer.",
            "about_networks": "Nätverksvisualisering",
            "about_networks_desc": "Applikationen samlar data från två operatörer: Flixbus och BlaBlaCar Bus. Sökning gör att du kan visa linjer som betjänar en specifik hållplats.",
            "about_planning": "Steg-för-steg-planering",
            "about_planning_desc": "Planeraren låter dig bygga en sekventiell resrutt. När du lägger till en stad genereras en lista över direkt anslutna destinationer för att välja nästa steg.",
            "about_export": "Dataexport",
            "about_export_desc": "Skapade resrutter kan exporteras i PDF-format. Detta dokument innehåller en sammanfattning av stegen och en kartbild av resan.",
            "data_sources": "Datakällor (GTFS)",
            "data_sources_desc": "Data kommer från officiella GTFS-flöden som finns på transport.data.gouv.fr. Linia utför en enhetliggöring av dessa flöden för centraliserad konsultation.",
            "download_gtfs": "Ladda ner enhetlig GTFS (.zip)",
            "return_home": "← Tillbaka till hem",
            "btn_close": "Stäng",
            "disclaimer_title": "Informationsmeddelande",
            "disclaimer_text": "Linia är baserad på GTFS-data från Flixbus och BlaBlaCar. De data som visas kan innehålla fel eller vara ofullständiga. Syftet med applikationen är visualisering och den kommer aldrig att vara lika exakt som de officiella Flixbus- och BlaBlaCar-apparna eller deras partners.",
            "nav_legal": "Juridisk information",
            "legal_title": "Juridisk information",
            "legal_editor_title": "1. Webbplatsredaktör",
            "legal_editor_content": "I enlighet med bestämmelserna i artikel 6-III-2 i fransk lag nr 2004-575 av den 21 juni 2004 (LCEN) har redaktören för denna webbplats valt att förbli anonym. Personlig identifieringsinformation har överförts till värden.",
            "legal_hosting_title": "2. Hosting",
            "legal_hosting_content": "Webbplatsen hostas av Render Services, Inc., 520 High St, Palo Alto, CA 94301, USA (render.com).",
            "legal_intellectual_title": "3. Immateriella rättigheter och källor",
            "legal_intellectual_content": "Webbplatsens eget innehåll (kod, design) skyddas av upphovsrätt. De visade transportdata kommer från öppna källor (via transport.data.gouv.fr). De omfattas av Open Database License (ODbL). Användaren är skyldig att respektera villkoren i denna licens för all vidare användning av dessa data.",
            "legal_responsibility_title": "4. Ansvar",
            "legal_responsibility_content": "Redaktören tillhandahåller transportinformationen 'i befintligt skick'. Han garanterar inte tidtabellernas noggrannhet eller tjänstens kontinuerliga tillgänglighet och kan inte hållas ansvarig för konsekvenserna av att använda informationen på webbplatsen.",
            "legal_privacy_title": "5. Personuppgifter och cookies",
            "legal_privacy_content": "Linia samlar inte in några personuppgifter. Din webbläsares lokala lagring används uteslutande för att komma ihåg dina preferenser (senaste sökningar, språk) för att förbättra användarupplevelsen. Inga tredjepartscookies eller annonsspårare används.",
            "faq_title": "FAQ",
            "faq_free_q": "Är Linia gratis?",
            "faq_free_a": "Ja, verktyget är helt gratis och reklamfritt.",
            "faq_countries_q": "Vilka länder täcks?",
            "faq_countries_a": "Linia täcker främst Europa: Frankrike, Tyskland, Spanien, Italien, Benelux och andra europeiska länder som betjänas av FlixBus och BlaBlaCar Bus.",
            "faq_update_q": "Hur ofta uppdateras data?",
            "faq_update_a": "GTFS-data uppdateras den första dagen i varje månad.",
            "faq_report_q": "Hur kan jag rapportera ett fel eller föreslå en förbättring?",
            "faq_report_a": "Du kan öppna ett issue i projektets GitHub-arkiv eller kontakta utvecklaren via contact@liniabus.eu"
        },
        tr: {
            "welcome": "Hoş geldiniz",
            "search_placeholder": "Nereden başlamak istiyorsunuz?",
            "btn_planner": "Bir güzergah oluştur",
            "btn_how": "Nasıl çalışır",
            "recent_searches": "Son aramalar",
            "nav_home": "Ana Sayfa",
            "nav_itinerary": "Güzergah",
            "nav_info": "Bilgi",
            "footer_signature": "Страказа жывая",
            "loading": "Yükleniyor...",
            "err_search": "Arama hatası.",
            "err_connection": "Sunucuya bağlanılamıyor.",
            "no_stop_found": "Durak bulunamadı.",
            "this_stop": "bu durak",
            "lines_from_stop_html": "Kalkış yapan hatlar:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Bu durağa hat hizmet vermiyor.",
            "no_search_result": "Bu arama için sonuç bulunamadı.",
            "unnamed_line": "İsimsiz hat",
            "no_stop_available": "Uygun durak yok.",
            "trip_proposed_by": "{operatorName} tarafından sunulan yolculuk",
            "unknown_operator": "bilinmeyen bir operatör",
            "proposed_by": "Tarafından sunulan yolculuk",
            "unknown_op": "bilinmeyen bir operatör",
            "itinerary_title": "Güzergahım",
            "btn_undo": "Son adımı kaldır",
            "btn_reset": "Hepsini temizle",
            "planner_empty": "Güzergahınıza başlamak için bir şehir arayın",
            "btn_load": "Yükle",
            "btn_save": "Kaydet",
            "btn_pdf": "PDF oluştur",
            "search_start": "Kalkış şehri ara...",
            "search_step": "Bir adım ekle...",
            "connected_cities": "Bağlantılı şehirler",
            "from": "Nereden",
            "filter_cities": "Şehirleri filtrele...",
            "already_last": "Bu şehir zaten son adım.",
            "not_connected": "Bu durak son adımınıza doğrudan bağlı değil.",
            "already_added": "Zaten eklendi",
            "step_start": "Başlangıç",
            "step_last": "Son adım",
            "step_generic": "Adım",
            "pdf_warning_dots": "PDF oluşturmak için en az 2 şehir ekleyin.",
            "pdf_generating": "PDF oluşturuluyor...",
            "pdf_timeout": "Harita yakalama çok uzun sürdü. PDF haritasız oluşturuluyor.",
            "pdf_canvas_err": "Harita yakalanırken hata oluştu. PDF haritasız oluşturuldu.",
            "pdf_success": "PDF başarıyla oluşturuldu!",
            "toast_removed": "Son adım kaldırıldı.",
            "toast_cleared": "Güzergah temizlendi.",
            "toast_saved": "Güzergah kaydedildi (JSON).",
            "toast_loaded": "Güzergah başarıyla yüklendi.",
            "cities_connected_count_one": "1 bağlantılı şehir",
            "cities_connected_count_other": "{count} bağlantılı şehir",
            "cities_connected_count": "{count} bağlantılı şehir{plural}",
            "about_title": "Hakkında",
            "about_header": "Nasıl çalışır",
            "about_intro": "Linia, uzun mesafe otobüs hatları için toplu taşıma veri görselleştirme aracıdır.",
            "about_networks": "Ağ Görselleştirme",
            "about_networks_desc": "Uygulama, iki operatörden veri toplar: Flixbus ve BlaBlaCar Bus. Arama, belirli bir durağa hizmet veren hatları görüntülemenizi sağlar.",
            "about_planning": "Adım adım planlama",
            "about_planning_desc": "Planlayıcı, sıralı bir güzergah oluşturmanıza olanak tanır. Bir şehir eklerken, bir sonraki adımı seçmek için doğrudan bağlantılı destinasyonların bir listesi oluşturulur.",
            "about_export": "Veri Dışa Aktarma",
            "about_export_desc": "Oluşturulan güzergahlar PDF formatında dışa aktarılabilir. Bu belge, adımların bir özetini ve yolculukla ilgili harita görüntüsünü içerir.",
            "data_sources": "Veri Kaynakları (GTFS)",
            "data_sources_desc": "Veriler, transport.data.gouv.fr adresinde bulunan resmi GTFS akışlarından gelir. Linia, merkezi danışma sağlamak için bu akışların bir birleştirmesini yapar.",
            "download_gtfs": "Birleştirilmiş GTFS'yi İndir (.zip)",
            "return_home": "← Ana sayfaya dön",
            "btn_close": "Kapat",
            "disclaimer_title": "Bilgilendirme Notu",
            "disclaimer_text": "Linia, Flixbus ve BlaBlaCar'dan alınan GTFS verilerine dayanmaktadır. Görüntülenen veriler hata içerebilir veya eksik olabilir. Uygulamanın amacı görselleştirmedir ve hiçbir zaman Flixbus ve BlaBlaCar veya ortaklarının resmi uygulamaları kadar doğru olmayacaktır.",
            "nav_legal": "Yasal Uyarı",
            "legal_title": "Yasal Uyarı",
            "legal_editor_title": "1. Site Editörü",
            "legal_editor_content": "Dijital ekonomiye güven için 21 Haziran 2004 tarihli ve 2004-575 sayılı Fransız kanununun (LCEN) 6-III-2 maddesi hükümleri uyarınca, bu sitenin editörü anonim kalmayı seçmiştir. Kişisel kimlik bilgileri barındırıcıya iletilmiştir.",
            "legal_hosting_title": "2. Barındırma",
            "legal_hosting_content": "Site, Render Services, Inc., 520 High St, Palo Alto, CA 94301, ABD (render.com) tarafından barındırılmaktadır.",
            "legal_intellectual_title": "3. Fikri Mülkiyet ve Kaynaklar",
            "legal_intellectual_content": "Sitenin kendi içeriği (kod, tasarım) telif hakkı ile korunmaktadır. Görüntülenen ulaşım verileri açık kaynaklardan (transport.data.gouv.fr üzerinden) gelmektedir. Open Database License (ODbL) kapsamındadır. Kullanıcı, bu verilerin herhangi bir şekilde yeniden kullanımı için bu lisansın şartlarına uymak zorundadır.",
            "legal_responsibility_title": "4. Sorumluluk",
            "legal_responsibility_content": "Editör, ulaşım bilgilerini 'olduğu gibi' sağlar. Tarifelerin doğruluğunu veya hizmetin sürekli kullanılabilirliğini garanti etmez ve sitedeki bilgilerin kullanımıyla ilgili sonuçlardan sorumlu tutulamaz.",
            "legal_privacy_title": "5. Kişisel Veriler ve Çerezler",
            "legal_privacy_content": "Linia hiçbir kişisel veri toplamaz. Tarayıcınızın yerel depolama alanı, yalnızca tercihlerinizi (son aramalar, dil) hatırlamak için kullanıcı deneyimini iyileştirmek amacıyla kullanılır. Üçüncü taraf çerezleri veya reklam izleyicileri kullanılmaz.",
            "faq_title": "SSS",
            "faq_free_q": "Linia ücretsiz mi?",
            "faq_free_a": "Evet, araç tamamen ücretsiz ve reklamsızdır.",
            "faq_countries_q": "Hangi ülkeler kapsanıyor?",
            "faq_countries_a": "Linia ağırlıklı olarak Avrupa'yı kapsar: Fransa, Almanya, İspanya, İtalya, Benelüks ve FlixBus ile BlaBlaCar Bus tarafından hizmet verilen diğer Avrupa ülkeleri.",
            "faq_update_q": "Veriler ne sıklıkla güncellenir?",
            "faq_update_a": "GTFS verileri her ayın ilk günü güncellenir.",
            "faq_report_q": "Hata nasıl bildirilir veya iyileştirme önerilir?",
            "faq_report_a": "Projenin GitHub deposunda bir issue açabilir veya contact@liniabus.eu aracılığıyla geliştiriciyle iletişime geçebilirsiniz."
        },
        uk: {
            "welcome": "Ласкаво просимо до",
            "search_placeholder": "Звідки ви хочете вирушити?",
            "btn_planner": "Створити маршрут",
            "btn_how": "Як це працює",
            "recent_searches": "Останні пошуки",
            "nav_home": "Головна",
            "nav_itinerary": "Маршрут",
            "nav_info": "Інформація",
            "footer_signature": "Страказа жывая",
            "loading": "Завантаження...",
            "err_search": "Помилка пошуку.",
            "err_connection": "Неможливо зв'язатися з сервером.",
            "no_stop_found": "Зупинок не знайдено.",
            "this_stop": "ця зупинка",
            "lines_from_stop_html": "Лінії, що відправляються з:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Жодна лінія не обслуговує цю зупинку.",
            "no_search_result": "Немає результатів для цього пошуку.",
            "unnamed_line": "Лінія без назви",
            "no_stop_available": "Немає доступних зупинок.",
            "trip_proposed_by": "Поїздка пропонується {operatorName}",
            "unknown_operator": "невідомий оператор",
            "proposed_by": "Поїздка пропонується",
            "unknown_op": "невідомий оператор",
            "itinerary_title": "Мій маршрут",
            "btn_undo": "Видалити останній крок",
            "btn_reset": "Очистити все",
            "planner_empty": "Знайдіть місто, щоб почати свій маршрут",
            "btn_load": "Завантажити",
            "btn_save": "Зберегти",
            "btn_pdf": "Згенерувати PDF",
            "search_start": "Пошук міста відправлення...",
            "search_step": "Додати крок...",
            "connected_cities": "З'єднані міста",
            "from": "Звідки",
            "filter_cities": "Фільтрувати міста...",
            "already_last": "Це місто вже є останнім кроком.",
            "not_connected": "Ця зупинка безпосередньо не з'єднана з вашим останнім кроком.",
            "already_added": "Вже додано",
            "step_start": "Відправлення",
            "step_last": "Останній крок",
            "step_generic": "Крок",
            "pdf_warning_dots": "Додайте принаймні 2 міста, щоб згенерувати PDF.",
            "pdf_generating": "Генерація PDF...",
            "pdf_timeout": "Захоплення карти тривало занадто довго. Генерація PDF без карти.",
            "pdf_canvas_err": "Помилка захоплення карти. PDF згенеровано без карти.",
            "pdf_success": "PDF успішно згенеровано!",
            "toast_removed": "Останній крок видалено.",
            "toast_cleared": "Маршрут очищено.",
            "toast_saved": "Маршрут збережено (JSON).",
            "toast_loaded": "Маршрут успішно завантажено.",
            "cities_connected_count_one": "1 з'єднане місто",
            "cities_connected_count_other": "{count} з'єднаних міст",
            "cities_connected_count": "{count} з'єднане{plural} місто{plural}",
            "about_title": "Про",
            "about_header": "Як це працює",
            "about_intro": "Linia - це інструмент візуалізації даних громадського транспорту для міжміських автобусних ліній.",
            "about_networks": "Візуалізація мереж",
            "about_networks_desc": "Додаток агрегує дані двох операторів: Flixbus і BlaBlaCar Bus. Пошук дозволяє відображати лінії, що обслуговують конкретну зупинку.",
            "about_planning": "Планування крок за кроком",
            "about_planning_desc": "Планувальник дозволяє створити послідовний маршрут. Під час додавання міста генерується список безпосередньо з'єднаних напрямків для вибору наступного кроку.",
            "about_export": "Експорт даних",
            "about_export_desc": "Створені маршрути можна експортувати у формат PDF. Цей документ містить підсумок кроків і знімок карти, пов'язаної з подорожжю.",
            "data_sources": "Джерела даних (GTFS)",
            "data_sources_desc": "Дані надходять з офіційних джерел GTFS, доступних на transport.data.gouv.fr. Linia виконує об'єднання цих джерел для централізованого консультування.",
            "download_gtfs": "Завантажити об'єднаний GTFS (.zip)",
            "return_home": "← Повернутися на головну",
            "btn_close": "Закрити",
            "disclaimer_title": "Інформаційна примітка",
            "disclaimer_text": "Linia базується на даних GTFS від Flixbus та BlaBlaCar. Відображені дані можуть містити помилки або бути неповними. Метою програми є візуалізація, і вона ніколи не буде такою ж точною, як офіційні програми Flixbus та BlaBlaCar або їхніх партнерів.",
            "nav_legal": "Юридична інформація",
            "legal_title": "Юридична інформація",
            "legal_editor_title": "1. Редактор сайту",
            "legal_editor_content": "Відповідно до положень статті 6-III-2 закону Франції № 2004-575 від 21 червня 2004 року про довіру в цифровій економіці (LCEN), редактор цього сайту вирішив залишитися анонімним. Особиста ідентифікаційна інформація була передана хосту.",
            "legal_hosting_title": "2. Хостинг",
            "legal_hosting_content": "Сайт розміщено на Render Services, Inc., 520 High St, Palo Alto, CA 94301, США (render.com).",
            "legal_intellectual_title": "3. Інтелектуальна власність та джерела",
            "legal_intellectual_content": "Власний вміст сайту (код, дизайн) захищено авторським правом. Відображені транспортні дані взято з відкритих джерел (через transport.data.gouv.fr). Вони регулюються ліцензією Open Database License (ODbL). Користувач зобов'язаний дотримуватися умов цієї ліцензії для будь-якого повторного використання цих даних.",
            "legal_responsibility_title": "4. Відповідальність",
            "legal_responsibility_content": "Редактор надає транспортну інформацію 'як є'. Він не гарантує точності розкладів або безперервної доступності послуги і не може нести відповідальність за наслідки, пов'язані з використанням інформації на сайті.",
            "legal_privacy_title": "5. Персональні дані та файли cookie",
            "legal_privacy_content": "Linia не збирає жодних персональних даних. Локальне сховище вашого браузера використовується виключно для запам'ятовування ваших уподобань (останні пошукові запити, мова) з метою покращення взаємодії з користувачем. Сторонні файли cookie або рекламні трекери не використовуються.",
            "faq_title": "ЧПП",
            "faq_free_q": "Linia безкоштовна?",
            "faq_free_a": "Так, інструмент повністю безкоштовний і без реклами.",
            "faq_countries_q": "Які країни охоплюються?",
            "faq_countries_a": "Linia охоплює переважно Європу: Францію, Німеччину, Іспанію, Італію, Бенелюкс та інші європейські країни, що обслуговуються FlixBus та BlaBlaCar Bus.",
            "faq_update_q": "Як часто оновлюються дані?",
            "faq_update_a": "Дані GTFS оновлюються першого дня кожного місяця.",
            "faq_report_q": "Як я можу повідомити про помилку або запропонувати покращення?",
            "faq_report_a": "Ви можете відкрити issue у репозиторії GitHub проекту або зв'язатися з розробником через contact@liniabus.eu"
        },
        ru: {
            "welcome": "Добро пожаловать в",
            "search_placeholder": "Откуда вы хотите отправиться?",
            "btn_planner": "Создать маршрут",
            "btn_how": "Как это работает",
            "recent_searches": "Недавние поиски",
            "nav_home": "Главная",
            "nav_itinerary": "Маршрут",
            "nav_info": "Информация",
            "footer_signature": "Страказа жывая",
            "loading": "Загрузка...",
            "err_search": "Ошибка поиска.",
            "err_connection": "Невозможно связаться с сервером.",
            "no_stop_found": "Остановки не найдены.",
            "this_stop": "эта остановка",
            "lines_from_stop_html": "Линии, отправляющиеся от:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Ни одна линия не обслуживает эту остановку.",
            "no_search_result": "Нет результатов для этого поиска.",
            "unnamed_line": "Линия без названия",
            "no_stop_available": "Нет доступных остановок.",
            "trip_proposed_by": "Поездка предлагается {operatorName}",
            "unknown_operator": "неизвестный оператор",
            "proposed_by": "Поездка предлагается",
            "unknown_op": "неизвестный оператор",
            "itinerary_title": "Мой маршрут",
            "btn_undo": "Удалить последний шаг",
            "btn_reset": "Очистить всё",
            "planner_empty": "Найдите город, чтобы начать свой маршрут",
            "btn_load": "Загрузить",
            "btn_save": "Сохранить",
            "btn_pdf": "Сгенерировать PDF",
            "search_start": "Поиск города отправления...",
            "search_step": "Добавить шаг...",
            "connected_cities": "Связанные города",
            "from": "Откуда",
            "filter_cities": "Фильтровать города...",
            "already_last": "Этот город уже является последним шагом.",
            "not_connected": "Эта остановка напрямую не связана с вашим последним шагом.",
            "already_added": "Уже добавлено",
            "step_start": "Отправление",
            "step_last": "Последний шаг",
            "step_generic": "Шаг",
            "pdf_warning_dots": "Добавьте как минимум 2 города для генерации PDF.",
            "pdf_generating": "Генерация PDF...",
            "pdf_timeout": "Захват карты занял слишком много времени. Генерация PDF без карты.",
            "pdf_canvas_err": "Ошибка захвата карты. PDF сгенерирован без карты.",
            "pdf_success": "PDF успешно сгенерирован!",
            "toast_removed": "Последний шаг удалён.",
            "toast_cleared": "Маршрут очищен.",
            "toast_saved": "Маршрут сохранён (JSON).",
            "toast_loaded": "Маршрут успешно загружен.",
            "cities_connected_count_one": "1 связанный город",
            "cities_connected_count_other": "{count} связанных городов",
            "cities_connected_count": "{count} связанн{plural} город{plural}",
            "about_title": "О программе",
            "about_header": "Как это работает",
            "about_intro": "Linia - это инструмент визуализации данных общественного транспорта для междугородних автобусных линий.",
            "about_networks": "Визуализация сетей",
            "about_networks_desc": "Приложение агрегирует данные двух операторов: Flixbus и BlaBlaCar Bus. Поиск позволяет отображать линии, обслуживающие конкретную остановку.",
            "about_planning": "Пошаговое планирование",
            "about_planning_desc": "Планировщик позволяет построить последовательный маршрут. При добавлении города генерируется список напрямую связанных направлений для выбора следующего шага.",
            "about_export": "Экспорт данных",
            "about_export_desc": "Созданные маршруты можно экспортировать в формате PDF. Этот документ содержит сводку шагов и снимок карты, связанной с поездкой.",
            "data_sources": "Источники данных (GTFS)",
            "data_sources_desc": "Данные поступают из официальных источников GTFS, доступных на transport.data.gouv.fr. Linia выполняет объединение этих источников для централизованного консультирования.",
            "download_gtfs": "Скачать объединённый GTFS (.zip)",
            "return_home": "← Вернуться на главную",
            "btn_close": "Закрыть",
            "disclaimer_title": "Информационная заметка",
            "disclaimer_text": "Linia основана на данных GTFS от Flixbus и BlaBlaCar. Отображаемые данные могут содержать ошибки или быть неполными. Целью приложения является визуализация, и оно никогда не будет столь же точным, как официальные приложения Flixbus и BlaBlaCar или их партнеров.",
            "nav_legal": "Правовая информация",
            "legal_title": "Правовая информация",
            "legal_editor_title": "1. Редактор сайта",
            "legal_editor_content": "В соответствии с положениями статьи 6-III-2 французского закона № 2004-575 от 21 июня 2004 г. (LCEN), редактор этого сайта предпочел остаться анонимным. Личные идентификационные данные были переданы хосту.",
            "legal_hosting_title": "2. Хостинг",
            "legal_hosting_content": "Сайт размещен на Render Services, Inc., 520 High St, Palo Alto, CA 94301, США (render.com).",
            "legal_intellectual_title": "3. Интеллектуальная собственность и источники",
            "legal_intellectual_content": "Собственное содержание сайта (код, дизайн) защищено авторским правом. Отображаемые транспортные данные получены из открытых источников (через transport.data.gouv.fr). Они регулируются лицензией Open Database License (ODbL). Пользователь обязан соблюдать условия этой лицензии при любом повторном использовании этих данных.",
            "legal_responsibility_title": "4. Ответственность",
            "legal_responsibility_content": "Редактор предоставляет информацию о транспорте 'как есть'. Он не гарантирует точность расписаний или постоянную доступность сервиса и не может нести ответственность за последствия, связанные с использованием информации на сайте.",
            "legal_privacy_title": "5. Персональные данные и куки",
            "legal_privacy_content": "Linia не собирает никаких персональных данных. Локальное хранилище вашего браузера используется исключительно для запоминания ваших предпочтений (недавние поиски, язык) с целью улучшения пользовательского опыта. Никакие сторонние куки или рекламные трекеры не используются.",
            "faq_title": "ЧЗВ",
            "faq_free_q": "Linia бесплатна?",
            "faq_free_a": "Да, инструмент полностью бесплатен и без рекламы.",
            "faq_countries_q": "Какие страны охвачены?",
            "faq_countries_a": "Linia охватывает в основном Европу: Францию, Германию, Испанию, Италию, Бенилюкс и другие европейские страны, обслуживаемые FlixBus и BlaBlaCar Bus.",
            "faq_update_q": "Как часто обновляются данные?",
            "faq_update_a": "Данные GTFS обновляются первого числа каждого месяца.",
            "faq_report_q": "Как сообщить об ошибке или предложить улучшение?",
            "faq_report_a": "Вы можете открыть issue в репозитории GitHub проекта или связаться с разработчиком через contact@liniabus.eu"
        },
        be: {
            "welcome": "Сардэчна запрашаем у",
            "search_placeholder": "Адкуль вы хочаце выправіцца?",
            "btn_planner": "Стварыць маршрут",
            "btn_how": "Як гэта працуе",
            "recent_searches": "Нядаўнія пошукі",
            "nav_home": "Галоўная",
            "nav_itinerary": "Маршрут",
            "nav_info": "Інфармацыя",
            "footer_signature": "Страказа жывая",
            "loading": "Загрузка...",
            "err_search": "Памылка пошуку.",
            "err_connection": "Немагчыма звязацца з серверам.",
            "no_stop_found": "Прыпынкі не знойдзены.",
            "this_stop": "гэты прыпынак",
            "lines_from_stop_html": "Лініі, якія адпраўляюцца ад:<br><span style=\"font-size:16px;font-weight:700;\">{stopName}</span>",
            "no_line": "Ніводная лінія не абслугоўвае гэты прыпынак.",
            "no_search_result": "Няма вынікаў для гэтага пошуку.",
            "unnamed_line": "Лінія без назвы",
            "no_stop_available": "Няма даступных прыпынкаў.",
            "trip_proposed_by": "Паездка прапануецца {operatorName}",
            "unknown_operator": "невядомы аператар",
            "proposed_by": "Паездка прапануецца",
            "unknown_op": "невядомы аператар",
            "itinerary_title": "Мой маршрут",
            "btn_undo": "Выдаліць апошні крок",
            "btn_reset": "Ачысціць усё",
            "planner_empty": "Знайдзіце горад, каб пачаць свой маршрут",
            "btn_load": "Загрузіць",
            "btn_save": "Захаваць",
            "btn_pdf": "Згенераваць PDF",
            "search_start": "Пошук горада адпраўлення...",
            "search_step": "Дадаць крок...",
            "connected_cities": "Звязаныя гарады",
            "from": "Адкуль",
            "filter_cities": "Фільтраваць гарады...",
            "already_last": "Гэты горад ужо з'яўляецца апошнім крокам.",
            "not_connected": "Гэты прыпынак непасрэдна не звязаны з вашым апошнім крокам.",
            "already_added": "Ужо дададзена",
            "step_start": "Адпраўленне",
            "step_last": "Апошні крок",
            "step_generic": "Крок",
            "pdf_warning_dots": "Дадайце як мінімум 2 гарады для генерацыі PDF.",
            "pdf_generating": "Генерацыя PDF...",
            "pdf_timeout": "Захоп карты заняў занадта шмат часу. Генерацыя PDF без карты.",
            "pdf_canvas_err": "Памылка захопу карты. PDF згенераваны без карты.",
            "pdf_success": "PDF паспяхова згенераваны!",
            "toast_removed": "Апошні крок выдалены.",
            "toast_cleared": "Маршрут ачышчаны.",
            "toast_saved": "Маршрут захаваны (JSON).",
            "toast_loaded": "Маршрут паспяхова загружаны.",
            "cities_connected_count_one": "1 звязаны горад",
            "cities_connected_count_other": "{count} звязаных гарадоў",
            "cities_connected_count": "{count} звязан{plural} горад{plural}",
            "about_title": "Пра праграму",
            "about_header": "Як гэта працуе",
            "about_intro": "Linia - гэта інструмент візуалізацыі даных грамадскага транспарту для міжгародніх аўтобусных ліній.",
            "about_networks": "Візуалізацыя сетак",
            "about_networks_desc": "Праграма агрэгуе даныя двух аператараў: Flixbus і BlaBlaCar Bus. Пошук дазваляе адлюстроўваць лініі, якія абслугоўваюць пэўны прыпынак.",
            "about_planning": "Пакрокавае планаванне",
            "about_planning_desc": "Планіроўшчык дазваляе стварыць паслядоўны маршрут. Пры даданні горада генеруецца спіс непасрэдна звязаных напрамкаў для выбару наступнага кроку.",
            "about_export": "Экспарт даных",
            "about_export_desc": "Створаныя маршруты можна экспартаваць у фармаце PDF. Гэты дакумент змяшчае зводку крокаў і здымак карты, звязанай з паездкай.",
            "data_sources": "Крыніцы даных (GTFS)",
            "data_sources_desc": "Даныя паступаюць з афіцыйных крыніц GTFS, даступных на transport.data.gouv.fr. Linia выконвае аб'яднанне гэтых крыніц для цэнтралізаванага кансультавання.",
            "download_gtfs": "Спампаваць аб'яднаны GTFS (.zip)",
            "return_home": "← Вярнуцца на галоўную",
            "btn_close": "Закрыць",
            "disclaimer_title": "Інфармацыйная нататка",
            "disclaimer_text": "Linia заснавана на даных GTFS ад Flixbus і BlaBlaCar. Адлюстраваныя даныя могуць утрымліваць памылкі або быць няпоўнымі. Мэтай праграмы з'яўляецца візуалізацыя, і яна ніколі не будзе такой жа дакладнай, як афіцыйныя праграмы Flixbus і BlaBlaCar або іх партнёраў.",
            "nav_legal": "Юрыдычная інфармацыя",
            "legal_title": "Юрыдычная інфармацыя",
            "legal_editor_title": "1. Рэдактар сайта",
            "legal_editor_content": "У адпаведнасці з палажэннямі артыкула 6-III-2 французскага закона № 2004-575 ад 21 чэрвеня 2004 г. (LCEN), рэдактар гэтага сайта выбраў застацца ананімным. Асабістая ідэнтыфікацыйная інфармацыя была перададзена хосту.",
            "legal_hosting_title": "2. Хостинг",
            "legal_hosting_content": "Сайт размешчаны на Render Services, Inc., 520 High St, Palo Alto, CA 94301, ЗША (render.com).",
            "legal_intellectual_title": "3. Інтэлектуальная ўласнасць і крыніцы",
            "legal_intellectual_content": "Уласны змест сайта (код, дызайн) абаронены аўтарскім правам. Адлюстраваныя транспартныя даныя паступаюць з адкрытых крыніц (праз transport.data.gouv.fr). Яны рэгулююцца ліцэнзіяй Open Database License (ODbL). Карыстальнік абавязаны выконваць умовы гэтай ліцэнзіі пры любым паўторным выкарыстанні гэтых даных.",
            "legal_responsibility_title": "4. Адказнасць",
            "legal_responsibility_content": "Рэдактар прадастаўляе транспартную інфармацыю 'як ёсць'. Ён не гарантуе дакладнасці раскладаў або бесперапыннай даступнасці паслугі і не можа несці адказнасць за наступствы, звязаныя з выкарыстаннем інфармацыі на сайце.",
            "legal_privacy_title": "5. Персанальныя даныя і кукі",
            "legal_privacy_content": "Linia не збірае ніякіх персанальных даных. Лакальнае сховішча вашага браўзэра выкарыстоўваецца выключна для запамінання вашых пераваг (нядаўнія пошукі, мова) з мэтай паляпшэння карыстальніцкага досведу. Не выкарыстоўваюцца староннія кукі або рэкламныя трэкеры.",
            "faq_title": "ЧПП",
            "faq_free_q": "Linia бясплатная?",
            "faq_free_a": "Так, інструмент цалкам бясплатны і без рэкламы.",
            "faq_countries_q": "Якія краіны ахоплены?",
            "faq_countries_a": "Linia ахоплівае галоўным чынам Еўропу: Францыю, Германію, Іспанію, Італію, Бенелюкс і іншыя еўрапейскія краіны, што абслугоўваюцца FlixBus і BlaBlaCar Bus.",
            "faq_update_q": "Як часта абнаўляюцца даныя?",
            "faq_update_a": "Даныя GTFS абнаўляюцца першага дня кожнага месяца.",
            "faq_report_q": "Як паведаміць пра памылку або прапанаваць паляпшэнне?",
            "faq_report_a": "Вы можаце адкрыць issue ў рэпазітарыі GitHub праекта або звязацца з распрацоўнікам праз contact@liniabus.eu"
        }
    },
    t(key, params = {}) {
        const dict = this.translations[this.currentLang] || this.translations['fr'];
        if (!dict) return key;
        let text = dict[key];
        if (params.count !== undefined && typeof params.count === 'number') {
            try {
                const pluralRules = new Intl.PluralRules(this.currentLang);
                const rule = pluralRules.select(params.count);
                const pluralKey = `${key}_${rule}`;
                if (dict[pluralKey]) {
                    text = dict[pluralKey];
                } else if (rule !== 'other' && dict[`${key}_other`]) {
                    text = dict[`${key}_other`];
                }
            } catch (e) {
                console.warn('i18n pluralization error:', e);
            }
        }
        if (!text) text = dict[key] || key;
        Object.keys(params).forEach(p => {
            const regex = new RegExp(`{${p}}`, 'g');
            text = text.replace(regex, params[p]);
        });
        return text;
    },
    setLang(lang) {
        if (!this.translations[lang]) {
            console.error('Linia i18n: Unknown language', lang);
            lang = 'fr';
        }
        // Redirige vers l’URL préfixée par la langue (sauf fr qui reste à la racine)
        const path = window.location.pathname || '/';
        const segments = path.split('/').filter(Boolean);
        const supported = [
            'fr', 'en', 'de', 'es', 'pt', 'nl', 'sq', 'ca', 'hr', 'bg', 'da', 'et', 'fi',
            'el', 'hu', 'hi', 'lv', 'lt', 'lb', 'mk', 'ro', 'pl', 'cs', 'sk', 'sl', 'sv',
            'tr', 'uk', 'ru', 'be'
        ];
        let slugParts = segments;
        if (segments.length > 0 && supported.includes(segments[0])) {
            slugParts = segments.slice(1);
        }
        const slug = slugParts.join('/');
        let newPath;
        if (lang === 'fr') {
            newPath = slug ? `/${slug}` : '/';
        } else {
            newPath = slug ? `/${lang}/${slug}` : `/${lang}/`;
        }
        localStorage.setItem('linia_lang', lang);
        if (newPath !== path) {
            window.location.pathname = newPath;
        } else {
            // Fallback: on applique quand même la traduction sur place
            this.currentLang = lang;
            this.translatePage();
            document.dispatchEvent(new CustomEvent('linia-lang-changed', { detail: lang }));
        }
    },
    translatePage() {
        document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            el.textContent = this.t(key);
        });
        document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
            const key = el.getAttribute('data-i18n-placeholder');
            el.placeholder = this.t(key);
        });
        document.querySelectorAll('[data-i18n-title]').forEach(el => {
            const key = el.getAttribute('data-i18n-title');
            el.title = this.t(key);
        });
        document.documentElement.lang = this.currentLang;
    },
    init() {
        if (!this.translations[this.currentLang]) {
            this.currentLang = 'fr';
            localStorage.setItem('linia_lang', 'fr');
        }
        this.addSwitcher();
        this.translatePage();
    },
    addSwitcher() {
        document.addEventListener('click', (e) => {
            const btn = e.target.closest('.lang-switcher-btn');
            if (btn) {
                e.preventDefault();
                e.stopPropagation();
                this.toggleMenu(btn);
                return;
            }
            if (!e.target.closest('.lang-menu')) {
                this.closeMenu();
            }
        }, true);
    },
    toggleMenu(btn) {
        let menu = document.getElementById('langMenu');
        let overlay = document.getElementById('langOverlay');
        if (menu) {
            this.closeMenu();
            return;
        }
        overlay = document.createElement('div');
        overlay.id = 'langOverlay';
        overlay.className = 'lang-modal-overlay';
        overlay.onclick = () => this.closeMenu();
        document.body.appendChild(overlay);
        menu = document.createElement('div');
        menu.id = 'langMenu';
        menu.className = 'lang-menu lang-modal';
        Object.keys(this.translations).forEach(lang => {
            const option = document.createElement('button');
            option.className = `lang-option ${lang === this.currentLang ? 'active' : ''}`;
            option.innerHTML = `<span>${lang.toUpperCase()}</span>`;
            option.onclick = (e) => {
                e.stopPropagation();
                this.setLang(lang);
                this.closeMenu();
            };
            menu.appendChild(option);
        });
        document.body.appendChild(menu);
        requestAnimationFrame(() => {
            overlay.classList.add('show');
            menu.classList.add('show');
        });
    },
    closeMenu() {
        const menu = document.getElementById('langMenu');
        const overlay = document.getElementById('langOverlay');
        if (menu) menu.classList.remove('show');
        if (overlay) overlay.classList.remove('show');
        setTimeout(() => {
            if (menu) menu.remove();
            if (overlay) overlay.remove();
        }, 300);
    }
};
document.addEventListener('DOMContentLoaded', () => i18n.init());

--- FIN FICHIER ---

--- DÉBUT FICHIER : static\map.js ---
--- POSITION : C:\Users\Amédée\Documents\linia-mobile\static\map.js ---

document.addEventListener('DOMContentLoaded', function () {
    const map = L.map('map', {
        center: [50.0516, 14.2514],
        zoom: 4.5,
        zoomControl: false,
        attributionControl: true
    });
    L.control.zoom({ position: 'topleft' }).addTo(map);
    L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
        subdomains: 'abcd',
        maxZoom: 20,
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>'
    }).addTo(map);
    let currentStopMarker = null;
    let stopMarkers = [];
    let hasRouteData = false;
    let cachedRoutes = [];
    let cachedStopInfo = null;
    let activeOperatorFilter = 'all';
    let activeSearchQuery = '';
    const searchInput = document.getElementById('mapSearchInput');
    const suggestionsDiv = document.getElementById('mapSuggestions');
    const searchSpinner = document.getElementById('mapSearchSpinner');
    const searchIcon = document.getElementById('mapSearchIcon');
    const routePanel = document.getElementById('routePanel');
    const routePanelBody = document.getElementById('routePanelBody');
    const routePanelTitle = document.getElementById('routePanelTitle');
    const routePanelClose = document.getElementById('routePanelClose');
    const operatorLegend = document.getElementById('operatorLegend');
    const routeLocalSearch = document.getElementById('routeLocalSearch');
    const filterPills = document.querySelectorAll('.filter-pill');
    const loadingOverlay = document.getElementById('loadingOverlay');
    const loadingText = document.getElementById('loadingText');
    const toastContainer = document.getElementById('toastContainer');
    const reopenPanelBtn = document.getElementById('reopenPanelBtn');
    const tripDetailsPanel = document.getElementById('tripDetailsPanel');
    const tripPanelBody = document.getElementById('tripPanelBody');
    const tripPanelTitle = document.getElementById('tripPanelTitle');
    const tripPanelSubtitle = document.getElementById('tripPanelSubtitle');
    const tripPanelClose = document.getElementById('tripPanelClose');
    function showToast(message, type = 'info', duration = 3500) {
        if (!toastContainer) return;
        const toast = document.createElement('div');
        toast.className = `toast toast-${type}`;
        toast.textContent = message;
        toastContainer.appendChild(toast);
        requestAnimationFrame(() => toast.classList.add('show'));
        setTimeout(() => {
            toast.classList.remove('show');
            toast.addEventListener('transitionend', () => {
                if (toast.parentNode) toast.parentNode.removeChild(toast);
            }, { once: true });
        }, duration);
    }
    function showLoading(msg) {
        if (loadingText) loadingText.textContent = msg || 'Chargement...';
        if (loadingOverlay) loadingOverlay.classList.add('visible');
    }
    function hideLoading() {
        if (loadingOverlay) loadingOverlay.classList.remove('visible');
    }
    function openRoutePanel() {
        routePanel.classList.add('visible');
        reopenPanelBtn.style.display = 'none';
    }
    function closeRoutePanel() {
        routePanel.classList.remove('visible');
        if (hasRouteData) {
            reopenPanelBtn.style.display = 'flex';
        }
    }
    routePanelClose.addEventListener('click', closeRoutePanel);
    reopenPanelBtn.addEventListener('click', openRoutePanel);
    filterPills.forEach(pill => {
        pill.addEventListener('click', () => {
            filterPills.forEach(p => p.classList.remove('active'));
            pill.classList.add('active');
            activeOperatorFilter = pill.dataset.filter;
            renderFilteredRoutes();
        });
    });
    routeLocalSearch.addEventListener('input', (e) => {
        activeSearchQuery = e.target.value.toLowerCase().trim();
        renderFilteredRoutes();
    });
    function openTripPanel() {
        tripDetailsPanel.classList.add('visible');
    }
    function closeTripPanel() {
        tripDetailsPanel.classList.remove('visible');
    }
    tripPanelClose.addEventListener('click', closeTripPanel);
    let searchTimeout = null;
    searchInput.addEventListener('input', function () {
        const query = this.value.trim();
        clearTimeout(searchTimeout);
        if (query.length < 2) {
            suggestionsDiv.innerHTML = '';
            suggestionsDiv.classList.remove('visible');
            return;
        }
        searchTimeout = setTimeout(() => fetchSuggestions(query), 300);
    });
    document.addEventListener('click', function (e) {
        if (!searchInput.contains(e.target) && !suggestionsDiv.contains(e.target)) {
            suggestionsDiv.classList.remove('visible');
        }
    });
    searchInput.addEventListener('focus', function () {
        if (suggestionsDiv.children.length > 0 && searchInput.value.trim().length >= 2) {
            suggestionsDiv.classList.add('visible');
        }
    });
    async function fetchSuggestions(query) {
        searchSpinner.style.display = 'inline-block';
        searchIcon.style.display = 'none';
        try {
            const response = await fetch(`/api/search_stops?query=${encodeURIComponent(query)}`);
            const data = await response.json();
            if (response.ok) {
                renderSuggestions(data);
            } else {
                showToast(i18n.t('err_search'), 'error');
            }
        } catch (err) {
            showToast(i18n.t('err_connection'), 'error');
        } finally {
            searchSpinner.style.display = 'none';
            searchIcon.style.display = '';
        }
    }
    function renderSuggestions(suggestions) {
        suggestionsDiv.innerHTML = '';
        if (suggestions.length === 0) {
            suggestionsDiv.innerHTML = `<div class="suggestion-empty" style="padding:12px;text-align:center;color:#9aa0a6;font-size:13px;">${i18n.t('no_stop_found')}</div>`;
            suggestionsDiv.classList.add('visible');
            setTimeout(() => {
                if (suggestionsDiv.querySelector('.suggestion-empty')) {
                    suggestionsDiv.classList.remove('visible');
                }
            }, 2000);
            return;
        }
        suggestions.forEach(stop => {
            const item = document.createElement('div');
            item.className = 'suggestion-item';
            item.textContent = stop.stop_name;
            item.addEventListener('click', function () {
                searchInput.value = stop.stop_name;
                suggestionsDiv.innerHTML = '';
                suggestionsDiv.classList.remove('visible');
                handleStopSelect(stop.stop_id, stop.stop_name);
            });
            suggestionsDiv.appendChild(item);
        });
        suggestionsDiv.classList.add('visible');
    }
    let tripLinePolyline = null;
    let highlightPolyline = null;
    function clearTripLayers() {
        if (tripLinePolyline) {
            map.removeLayer(tripLinePolyline);
            tripLinePolyline = null;
        }
        stopMarkers.forEach(m => map.removeLayer(m));
        stopMarkers = [];
        closeTripPanel();
        tripPanelBody.innerHTML = '';
    }
    function clearCurrentStopMarker() {
        if (currentStopMarker) {
            map.removeLayer(currentStopMarker);
            currentStopMarker = null;
        }
    }
    async function handleStopSelect(stopId, stopName) {
        if (!stopId) { showToast('ID arrêt manquant.', 'warning'); return; }
        clearPreviousData();
        showLoading("Chargement de l'arrêt...");
        const url = new URL(window.location);
        url.searchParams.set('stop_id', stopId);
        if (stopName) url.searchParams.set('stop_name', stopName);
        window.history.replaceState({}, '', url);
        try {
            const response = await fetch(`/api/stop_info/${encodeURIComponent(stopId)}`);
            const data = await response.json();
            if (response.ok) {
                updateMapForStop(data.stop_info);
                cachedRoutes = data.routes || [];
                cachedStopInfo = data.stop_info;
                renderFilteredRoutes();
            } else {
                showToast(data.error || "Arrêt non trouvé.", 'error');
            }
        } catch (err) {
            showToast('Erreur de connexion.', 'error');
        } finally {
            hideLoading();
        }
    }
    function clearPreviousData() {
        routePanelBody.innerHTML = '';
        closeRoutePanel();
        hasRouteData = false;
        reopenPanelBtn.style.display = 'none';
        operatorLegend.style.display = 'none';
        clearTripLayers();
        clearCurrentStopMarker();
        cachedRoutes = [];
        routeLocalSearch.value = '';
        activeSearchQuery = '';
        activeOperatorFilter = 'all';
        filterPills.forEach((p, i) => i === 0 ? p.classList.add('active') : p.classList.remove('active'));
    }
    function updateMapForStop(stopData) {
        if (!stopData) return;
        clearCurrentStopMarker();
        const el = document.createElement('div');
        el.className = 'planner-map-marker';
        const icon = L.divIcon({
            html: el,
            className: '',
            iconSize: [28, 28],
            iconAnchor: [14, 14]
        });
        currentStopMarker = L.marker([stopData.stop_lat, stopData.stop_lon], { icon: icon })
            .bindPopup(stopData.stop_name)
            .addTo(map);
        currentStopMarker.openPopup();
        map.flyTo([stopData.stop_lat, stopData.stop_lon], 12, { duration: 1.25 });
    }
    function renderFilteredRoutes() {
        if (!cachedRoutes || cachedRoutes.length === 0) {
            routePanelBody.innerHTML = '<div class="route-empty-msg">Aucune ligne ne dessert cet arrêt.</div>';
            routePanelTitle.textContent = `Lignes — ${cachedStopInfo ? cachedStopInfo.stop_name : ''}`;
            operatorLegend.style.display = 'none';
            hasRouteData = false;
            openRoutePanel();
            return;
        }
        const stopName = cachedStopInfo ? cachedStopInfo.stop_name : i18n.t('this_stop');
        routePanelTitle.innerHTML = i18n.t('lines_from_stop_html', { stopName: stopName });
        operatorLegend.style.display = 'flex';
        hasRouteData = true;
        let filtered = cachedRoutes.filter(route => {
            const matchesOperator = activeOperatorFilter === 'all' || route.operator === activeOperatorFilter;
            const name = (route.display_name || '').toLowerCase();
            const matchesSearch = name.includes(activeSearchQuery);
            return matchesOperator && matchesSearch;
        }).sort((a, b) => {
            if (a.operator === 'flixbus' && b.operator !== 'flixbus') return -1;
            if (a.operator !== 'flixbus' && b.operator === 'flixbus') return 1;
            return 0;
        });
        if (filtered.length === 0) {
            routePanelBody.innerHTML = `<div class="route-empty-msg">${i18n.t('no_search_result')}</div>`;
            return;
        }
        let html = '<ul class="route-list">';
        filtered.forEach(route => {
            const opClass = route.operator
                ? `route-item--${route.operator.toLowerCase().replace(/_/g, '-')}`
                : 'route-item--unknown';
            const name = route.display_name || i18n.t('unnamed_line');
            html += `<li class="route-item ${opClass}" data-trip-id="${route.trip_id}">
                        <strong>${name}</strong>
                     </li>`;
        });
        html += '</ul>';
        routePanelBody.innerHTML = html;
        openRoutePanel();
        routePanelBody.querySelectorAll('.route-item').forEach(item => {
            item.addEventListener('click', handleRouteClick);
            item.addEventListener('mouseenter', async () => {
                const tripId = item.dataset.tripId;
                if (!tripId) return;
                highlightRouteOnMap(tripId);
            });
            item.addEventListener('mouseleave', () => {
                clearHighlightLayer();
            });
        });
    }
    async function highlightRouteOnMap(tripId) {
        try {
            const response = await fetch(`/api/trip_details/${encodeURIComponent(tripId)}`);
            const tripData = await response.json();
            if (!response.ok) return;
            let lineColor = tripData.operator === 'flixbus' ? '#73d700' : '#0070d2';
            let latlngs = [];
            if (tripData.operator === 'blablacar_bus' || !tripData.shape_points || tripData.shape_points.length === 0) {
                if (tripData.stops && tripData.stops.length >= 2) {
                    const geometry = await getRoadGeometry(tripData.stops);
                    if (geometry && geometry.coordinates) {
                        latlngs = geometry.coordinates.map(c => [c[1], c[0]]);
                    }
                }
            }
            if (latlngs.length === 0 && tripData.shape_points && tripData.shape_points.length > 0) {
                latlngs = tripData.shape_points.map(p => [p[0], p[1]]);
            }
            if (latlngs.length === 0 && tripData.stops && tripData.stops.length >= 2) {
                latlngs = tripData.stops.map(s => [s.stop_lat, s.stop_lon]);
            }
            if (latlngs.length > 0) {
                clearHighlightLayer();
                highlightPolyline = L.polyline(latlngs, {
                    color: lineColor,
                    weight: 6,
                    opacity: 0.3,
                    lineJoin: 'round',
                    lineCap: 'round'
                }).addTo(map);
            }
        } catch (e) {
            console.error('Hover highlight error:', e);
        }
    }
    function clearHighlightLayer() {
        if (highlightPolyline) {
            map.removeLayer(highlightPolyline);
            highlightPolyline = null;
        }
    }
    function populateTripPanel(tripData) {
        const opName = tripData.operator === 'flixbus' ? 'Flixbus' :
            tripData.operator === 'blablacar_bus' ? 'BlaBlaCar Bus' : i18n.t('unknown_operator');
        const routeName = tripData.display_name || tripData.route_long_name || tripData.trip_headsign || '';
        tripPanelTitle.textContent = i18n.t('trip_proposed_by', { operatorName: opName });
        tripPanelSubtitle.textContent = routeName;
        if (!tripData.stops || tripData.stops.length === 0) {
            tripPanelBody.innerHTML = `<div style="color:var(--text-muted);text-align:center;">${i18n.t('no_stop_available')}</div>`;
            return;
        }
        const params = new URLSearchParams(window.location.search);
        const currentStopId = params.get('stop_id');
        let html = '<ul class="timeline-list">';
        tripData.stops.forEach((stop, index) => {
            const isActive = currentStopId && (String(stop.stop_id) === String(currentStopId));
            let activeClass = '';
            if (isActive) {
                const isFlix = tripData.operator === 'flixbus';
                activeClass = isFlix ? 'active-flix' : 'active-blabla';
            }
            html += `<li class="timeline-item ${activeClass}" data-stop-id="${stop.stop_id || ''}" data-stop-name="${stop.stop_name}" style="cursor:pointer;">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <span class="timeline-city-name">${stop.stop_name}</span>
                            ${stop.arrival_time ? `<span class="timeline-time">${stop.arrival_time.slice(0, 5)}</span>` : ''}
                        </div>
                     </li>`;
        });
        html += '</ul>';
        tripPanelBody.innerHTML = html;
        openTripPanel();
        const items = tripPanelBody.querySelectorAll('.timeline-item');
        items.forEach(item => {
            item.addEventListener('click', (e) => {
                const sId = item.dataset.stopId;
                const sName = item.dataset.stopName;
                if (sId) {
                    handleStopSelect(sId, sName);
                }
            });
            item.addEventListener('mouseenter', () => {
                item.style.backgroundColor = 'var(--bg-hover)';
                const sId = item.dataset.stopId;
                if (!sId) return;
                const markerEl = document.querySelector(`.linia-map-marker[data-stop-id="${sId}"]`);
                if (markerEl) markerEl.classList.add('hovered');
            });
            item.addEventListener('mouseleave', () => {
                item.style.backgroundColor = '';
                const sId = item.dataset.stopId;
                if (!sId) return;
                const markerEl = document.querySelector(`.linia-map-marker[data-stop-id="${sId}"]`);
                if (markerEl) markerEl.classList.remove('hovered');
            });
        });
    }
    async function getRoadGeometry(stops) {
        if (!stops || stops.length < 2) return null;
        const coords = stops.map(s => `${s.stop_lon},${s.stop_lat}`).join(';');
        const url = `https://router.project-osrm.org/route/v1/driving/${coords}?geometries=geojson&overview=full`;
        try {
            const response = await fetch(url);
            const data = await response.json();
            if (data.code === 'Ok' && data.routes && data.routes.length > 0) {
                return data.routes[0].geometry;
            }
        } catch (e) {
            console.error('OSRM Routing API error:', e);
        }
        return null;
    }
    async function handleRouteClick(event) {
        const tripId = event.currentTarget.dataset.tripId;
        if (!tripId) { showToast('ID trajet manquant.', 'error'); return; }
        showLoading('Chargement du trajet...');
        clearTripLayers();
        closeRoutePanel();
        try {
            const response = await fetch(`/api/trip_details/${encodeURIComponent(tripId)}`);
            const tripData = await response.json();
            if (!response.ok) {
                showToast(tripData.error || 'Erreur inconnue.', 'error');
                return;
            }
            populateTripPanel(tripData);
            let lineColor = tripData.operator === 'flixbus' ? '#73d700' : '#0070d2';
            let latlngs = [];
            const routeMarkersBounds = L.latLngBounds();
            if (tripData.stops && tripData.stops.length > 0) {
                tripData.stops.forEach(stop => {
                    const el = document.createElement('div');
                    el.className = 'linia-map-marker';
                    if (tripData.operator === 'flixbus') el.classList.add('op-flixbus');
                    else if (tripData.operator === 'blablacar_bus') el.classList.add('op-blablacar-bus');
                    el.dataset.stopId = stop.stop_id;
                    const icon = L.divIcon({
                        html: el,
                        className: '',
                        iconSize: [14, 14],
                        iconAnchor: [7, 7]
                    });
                    const marker = L.marker([stop.stop_lat, stop.stop_lon], { icon: icon })
                        .bindPopup(stop.stop_name)
                        .addTo(map);
                    stopMarkers.push(marker);
                    routeMarkersBounds.extend([stop.stop_lat, stop.stop_lon]);
                });
            }
            if (currentStopMarker) {
                routeMarkersBounds.extend(currentStopMarker.getLatLng());
            }
            if (tripData.operator === 'blablacar_bus' || !tripData.shape_points || tripData.shape_points.length === 0) {
                if (tripData.stops && tripData.stops.length >= 2) {
                    showLoading('Calcul de l\'itinéraire par la route...');
                    const geometry = await getRoadGeometry(tripData.stops);
                    if (geometry && geometry.coordinates) {
                        latlngs = geometry.coordinates.map(c => [c[1], c[0]]);
                    }
                }
            }
            if (latlngs.length === 0 && tripData.shape_points && tripData.shape_points.length > 0) {
                latlngs = tripData.shape_points.map(p => [p[0], p[1]]);
            }
            if (latlngs.length === 0 && tripData.stops && tripData.stops.length >= 2) {
                latlngs = tripData.stops.map(s => [s.stop_lat, s.stop_lon]);
            }
            if (latlngs.length > 0) {
                tripLinePolyline = L.polyline(latlngs, {
                    color: lineColor,
                    weight: 5,
                    opacity: 0.8,
                    lineJoin: 'round',
                    lineCap: 'round'
                }).addTo(map);
                tripLinePolyline.on('click', () => openTripPanel());
                tripLinePolyline.on('mouseover', (e) => {
                    e.target.setStyle({ weight: 7 });
                    L.DomUtil.addClass(map.getContainer(), 'pointer-cursor');
                });
                tripLinePolyline.on('mouseout', (e) => {
                    e.target.setStyle({ weight: 5 });
                    L.DomUtil.removeClass(map.getContainer(), 'pointer-cursor');
                });
                latlngs.forEach(ll => routeMarkersBounds.extend(ll));
            }
            if (routeMarkersBounds.isValid()) {
                map.fitBounds(routeMarkersBounds, { padding: [40, 40], duration: 1 });
            }
        } catch (err) {
            console.error('Route interaction error:', err);
            showToast('Erreur lors du chargement du trajet.', 'error');
        } finally {
            hideLoading();
        }
    }
    const initialParams = new URLSearchParams(window.location.search);
    const stopIdParam = initialParams.get('stop_id');
    const stopNameParam = initialParams.get('stop_name');
    if (stopIdParam) {
        if (stopNameParam) searchInput.value = stopNameParam;
        handleStopSelect(stopIdParam, stopNameParam || '');
    }
});

--- FIN FICHIER ---

--- DÉBUT FICHIER : static\planner.js ---
--- POSITION : C:\Users\Amédée\Documents\linia-mobile\static\planner.js ---

document.addEventListener('DOMContentLoaded', function () {
    const map = L.map('plannerMap', {
        center: [50.0, 10.0],
        zoom: 4,
        zoomControl: false,
        attributionControl: true,
        renderer: L.canvas()
    });
    L.control.zoom({ position: 'topleft' }).addTo(map);
    L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
        subdomains: 'abcd',
        maxZoom: 20,
        crossOrigin: true,
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>'
    }).addTo(map);
    const OP_COLORS = {
        flixbus: { main: '#73d700', hover: '#5cb800', label: 'Flixbus' },
        blablacar_bus: { main: '#0070d2', hover: '#0056a3', label: 'BlaBlaCar' },
        unknown: { main: '#9aa0a6', hover: '#6b7280', label: 'Inconnu' }
    };
    let itinerary = [];
    let markers = [];
    let suggestionMarkers = [];
    let connectedCities = [];
    let connectedFilterQuery = '';
    const searchInput = document.getElementById('plannerSearchInput');
    const suggestionsDiv = document.getElementById('plannerSuggestions');
    const searchSpinner = document.getElementById('plannerSearchSpinner');
    const searchIcon = document.getElementById('plannerSearchIcon');
    const timeline = document.getElementById('plannerTimeline');
    const undoBtn = document.getElementById('undoBtn');
    const resetBtn = document.getElementById('resetBtn');
    const generatePdfBtn = document.getElementById('generatePdfBtn');
    const saveBtn = document.getElementById('saveBtn');
    const loadBtn = document.getElementById('loadBtn');
    const loadInput = document.getElementById('loadItineraryInput');
    const connectedPanel = document.getElementById('connectedPanel');
    const connectedBody = document.getElementById('connectedBody');
    const connectedTitle = document.getElementById('connectedTitle');
    const connectedSubtitle = document.getElementById('connectedSubtitle');
    const connectedClose = document.getElementById('connectedClose');
    const connectedSearchInput = document.getElementById('connectedSearchInput');
    const loadingOverlay = document.getElementById('loadingOverlay');
    const loadingText = document.getElementById('loadingText');
    const toastContainer = document.getElementById('toastContainer');
    function showToast(message, type = 'info', duration = 3500) {
        if (!toastContainer) return;
        const toast = document.createElement('div');
        toast.className = `toast toast-${type}`;
        toast.textContent = message;
        toastContainer.appendChild(toast);
        requestAnimationFrame(() => toast.classList.add('show'));
        setTimeout(() => {
            toast.classList.remove('show');
            toast.addEventListener('transitionend', () => {
                if (toast.parentNode) toast.parentNode.removeChild(toast);
            }, { once: true });
        }, duration);
    }
    function showLoading(msg) {
        if (loadingText) loadingText.textContent = msg || i18n.t('loading');
        if (loadingOverlay) loadingOverlay.classList.add('visible');
    }
    function hideLoading() {
        if (loadingOverlay) loadingOverlay.classList.remove('visible');
    }
    let searchTimeout = null;
    searchInput.addEventListener('input', function () {
        const query = this.value.trim();
        clearTimeout(searchTimeout);
        if (query.length < 2) {
            suggestionsDiv.innerHTML = '';
            suggestionsDiv.classList.remove('visible');
            return;
        }
        searchTimeout = setTimeout(() => fetchSuggestions(query), 300);
    });
    document.addEventListener('click', function (e) {
        if (!searchInput.contains(e.target) && !suggestionsDiv.contains(e.target)) {
            suggestionsDiv.classList.remove('visible');
        }
    });
    searchInput.addEventListener('focus', function () {
        if (suggestionsDiv.children.length > 0 && searchInput.value.trim().length >= 2) {
            suggestionsDiv.classList.add('visible');
        }
    });
    async function fetchSuggestions(query) {
        searchSpinner.style.display = 'inline-block';
        searchIcon.style.display = 'none';
        try {
            const response = await fetch(`/api/search_stops?query=${encodeURIComponent(query)}`);
            const data = await response.json();
            if (response.ok) renderSuggestions(data);
            else showToast(i18n.t('err_search'), 'error');
        } catch (err) {
            showToast(i18n.t('err_connection'), 'error');
        } finally {
            searchSpinner.style.display = 'none';
            searchIcon.style.display = '';
        }
    }
    function renderSuggestions(suggestions) {
        suggestionsDiv.innerHTML = '';
        if (!suggestions.length) {
            suggestionsDiv.innerHTML = `<div style="padding:12px;text-align:center;color:#9aa0a6;font-size:13px;">${i18n.t('no_stop_found')}</div>`;
            suggestionsDiv.classList.add('visible');
            return;
        }
        suggestions.forEach(stop => {
            const item = document.createElement('div');
            item.className = 'suggestion-item';
            item.textContent = stop.stop_name;
            item.addEventListener('click', () => {
                searchInput.value = '';
                suggestionsDiv.innerHTML = '';
                suggestionsDiv.classList.remove('visible');
                addStopToItinerary(stop.stop_id, stop.stop_name);
            });
            suggestionsDiv.appendChild(item);
        });
        suggestionsDiv.classList.add('visible');
    }
    async function addStopToItinerary(stopId, stopName) {
        if (itinerary.length > 0 && itinerary[itinerary.length - 1].stop_id === stopId) {
            showToast('Cette ville est déjà la dernière étape.', 'warning');
            return;
        }
        if (itinerary.length > 0) {
            const isConnected = connectedCities.some(c => c.stop_id === stopId);
            if (!isConnected) {
                showToast(i18n.t('not_connected'), 'warning');
                return;
            }
        }
        showLoading('Recherche des connexions...');
        try {
            const infoResponse = await fetch(`/api/stop_info/${encodeURIComponent(stopId)}`);
            const infoData = await infoResponse.json();
            if (!infoResponse.ok) {
                showToast(infoData.error || 'Arrêt non trouvé.', 'error');
                hideLoading();
                return;
            }
            const stopInfo = infoData.stop_info;
            itinerary.push({
                stop_id: stopInfo.stop_id,
                stop_name: stopInfo.stop_name,
                stop_lat: parseFloat(stopInfo.stop_lat),
                stop_lon: parseFloat(stopInfo.stop_lon),
                operators: []
            });
            searchInput.placeholder = 'Ajouter une étape...';
            renderTimeline();
            renderMapItinerary();
            await loadConnectedCities(stopInfo.stop_id, stopInfo.stop_name);
            updateButtons();
        } catch (err) {
            showToast('Erreur de connexion.', 'error');
            console.error(err);
        } finally {
            hideLoading();
        }
    }
    async function loadConnectedCities(stopId, stopName) {
        try {
            const response = await fetch(`/api/connected_stops/${encodeURIComponent(stopId)}`);
            const data = await response.json();
            if (response.ok) {
                connectedCities = data;
                connectedFilterQuery = '';
                if (connectedSearchInput) connectedSearchInput.value = '';
                connectedSubtitle.textContent = `${i18n.t('from')} ${stopName}`;
                connectedTitle.textContent = i18n.t('cities_connected_count', { count: data.length });
                renderConnectedCities();
                renderSuggestionMarkers(data);
                connectedPanel.classList.add('visible');
            } else {
                showToast(i18n.t('err_connection'), 'error');
            }
        } catch (err) {
            showToast(i18n.t('err_connection'), 'error');
            console.error(err);
        }
    }
    function getOperatorBadgesHTML(operators) {
        if (!operators || operators.length === 0) return '';
        return operators.map(op => {
            const info = OP_COLORS[op] || OP_COLORS.unknown;
            return `<span class="planner-op-badge planner-op-${op}" style="background:${info.main};">${info.label}</span>`;
        }).join('');
    }
    function renderConnectedCities() {
        let filtered = connectedCities;
        if (connectedFilterQuery) {
            filtered = connectedCities.filter(c =>
                c.stop_name.toLowerCase().includes(connectedFilterQuery)
            );
        }
        if (filtered.length === 0) {
            connectedBody.innerHTML = `<div class="planner-connected-empty">${i18n.t('no_result')}</div>`;
            return;
        }
        let html = '<ul class="planner-connected-list">';
        filtered.forEach(city => {
            const isInItinerary = itinerary.some(s => s.stop_id === city.stop_id);
            const dimClass = isInItinerary ? 'planner-city-visited' : '';
            const operators = city.operators || [];
            const primaryOp = operators[0] || 'unknown';
            const dotColor = (OP_COLORS[primaryOp] || OP_COLORS.unknown).main;
            html += `<li class="planner-city-item ${dimClass}" data-stop-id="${city.stop_id}" data-stop-name="${city.stop_name}" data-operators='${JSON.stringify(operators)}'>
                        <div class="planner-city-dot" style="background:${dotColor};"></div>
                        <span class="planner-city-name">${city.stop_name}</span>
                        <div class="planner-city-operators">
                            ${isInItinerary ? `<span class="planner-city-badge">${i18n.t('already_added')}</span>` : getOperatorBadgesHTML(operators)}
                        </div>
                     </li>`;
        });
        html += '</ul>';
        connectedBody.innerHTML = html;
        connectedBody.querySelectorAll('.planner-city-item').forEach(item => {
            item.addEventListener('click', () => {
                const sid = item.dataset.stopId;
                const sname = item.dataset.stopName;
                const ops = JSON.parse(item.dataset.operators || '[]');
                if (sid) {
                    addStopWithOperators(sid, sname, ops);
                }
            });
        });
    }
    function clearSuggestionMarkers() {
        suggestionMarkers.forEach(m => map.removeLayer(m));
        suggestionMarkers = [];
    }
    function renderSuggestionMarkers(stops) {
        clearSuggestionMarkers();
        const bounds = L.latLngBounds();
        let validPoints = 0;

        itinerary.forEach(stop => {
            if (stop.stop_lat && stop.stop_lon) {
                bounds.extend([stop.stop_lat, stop.stop_lon]);
                validPoints++;
            }
        });

        stops.forEach(stop => {
            if (!stop.stop_lat || !stop.stop_lon) return;

            const ops = stop.operators || [];
            let opsClass = 'suggestion-marker-unknown';
            if (ops.includes('flixbus') && ops.includes('blablacar_bus')) {
                opsClass = 'suggestion-marker-both';
            } else if (ops.includes('flixbus')) {
                opsClass = 'suggestion-marker-flix';
            } else if (ops.includes('blablacar_bus')) {
                opsClass = 'suggestion-marker-blabla';
            }

            const marker = L.marker([stop.stop_lat, stop.stop_lon], {
                icon: L.divIcon({
                    className: `planner-suggestion-marker ${opsClass}`,
                    iconSize: [12, 12],
                    iconAnchor: [6, 6]
                }),
                title: stop.stop_name
            }).addTo(map);

            marker.on('click', () => {
                addStopWithOperators(stop.stop_id, stop.stop_name, stop.operators);
            });
            suggestionMarkers.push(marker);
            bounds.extend([stop.stop_lat, stop.stop_lon]);
            validPoints++;
        });

        if (validPoints > 0 && bounds.isValid()) {
            map.stop();
            map.fitBounds(bounds, { padding: [180, 180], duration: 1.5 });
        }
    }
    async function addStopWithOperators(stopId, stopName, operators) {
        if (itinerary.length > 0 && itinerary[itinerary.length - 1].stop_id === stopId) {
            showToast('Cette ville est déjà la dernière étape.', 'warning');
            return;
        }
        showLoading('Recherche des connexions...');
        try {
            const infoResponse = await fetch(`/api/stop_info/${encodeURIComponent(stopId)}`);
            const infoData = await infoResponse.json();
            if (!infoResponse.ok) {
                showToast(infoData.error || 'Arrêt non trouvé.', 'error');
                hideLoading();
                return;
            }
            const stopInfo = infoData.stop_info;
            itinerary.push({
                stop_id: stopInfo.stop_id,
                stop_name: stopInfo.stop_name,
                stop_lat: parseFloat(stopInfo.stop_lat),
                stop_lon: parseFloat(stopInfo.stop_lon),
                operators: operators
            });
            searchInput.placeholder = 'Ajouter une étape...';
            renderTimeline();
            renderMapItinerary();
            await loadConnectedCities(stopInfo.stop_id, stopInfo.stop_name);
            updateButtons();
        } catch (err) {
            showToast('Erreur de connexion.', 'error');
            console.error(err);
        } finally {
            hideLoading();
        }
    }
    connectedSearchInput.addEventListener('input', (e) => {
        connectedFilterQuery = e.target.value.toLowerCase().trim();
        renderConnectedCities();
    });
    connectedClose.addEventListener('click', () => {
        connectedPanel.classList.remove('visible');
    });
    function renderTimeline() {
        if (itinerary.length === 0) {
            timeline.innerHTML = `
                <div class="planner-empty-state">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1"
                        stroke-linecap="round" stroke-linejoin="round" style="opacity:0.3; margin-bottom:12px;">
                        <circle cx="12" cy="10" r="3"></circle>
                        <path d="M12 21.7C17.3 17 20 13 20 10a8 8 0 1 0-16 0c0 3 2.7 7 8 11.7z"></path>
                    </svg>
                    <p data-i18n="planner_empty">${i18n.t('planner_empty')}</p>
                </div>`;
            return;
        }
        let html = '<ul class="planner-timeline">';
        itinerary.forEach((stop, index) => {
            const isFirst = index === 0;
            const isLast = index === itinerary.length - 1;
            const stepLabel = isFirst ? i18n.t('step_start') : isLast && itinerary.length > 1 ? i18n.t('step_last') : `${i18n.t('step_generic')} ${index}`;
            let dotColorClass = 'planner-dot-default';
            if (isFirst) dotColorClass = 'planner-dot-start';
            else if (stop.operators && stop.operators.length > 0) {
                if (stop.operators.includes('flixbus') && stop.operators.includes('blablacar_bus')) {
                    dotColorClass = 'planner-dot-both';
                } else if (stop.operators.includes('flixbus')) {
                    dotColorClass = 'planner-dot-flix';
                } else if (stop.operators.includes('blablacar_bus')) {
                    dotColorClass = 'planner-dot-blabla';
                }
            }
            const operatorBadges = !isFirst && stop.operators ? getOperatorBadgesHTML(stop.operators) : '';
            html += `<li class="planner-timeline-item ${isFirst ? 'planner-step-first' : ''} ${isLast && itinerary.length > 1 ? 'planner-step-last' : ''}" 
                         data-index="${index}" style="animation-delay: ${index * 0.05}s;">
                        <div class="planner-timeline-dot ${dotColorClass}">
                            <span class="planner-step-number">${index + 1}</span>
                        </div>
                        <div class="planner-timeline-content">
                            <span class="planner-step-label">${stepLabel}</span>
                            <span class="planner-step-city">${stop.stop_name}</span>
                            ${operatorBadges ? `<div class="planner-step-operators">${operatorBadges}</div>` : ''}
                        </div>
                     </li>`;
        });
        html += '</ul>';
        timeline.innerHTML = html;
        timeline.scrollTop = timeline.scrollHeight;
    }
    async function getRoadGeometry(stops) {
        if (!stops || stops.length < 2) return null;
        const coords = stops.map(s => `${s.stop_lon},${s.stop_lat}`).join(';');
        const url = `https://router.project-osrm.org/route/v1/driving/${coords}?geometries=geojson&overview=full`;
        try {
            const response = await fetch(url);
            const data = await response.json();
            if (data.code === 'Ok' && data.routes && data.routes.length > 0) {
                return data.routes[0].geometry;
            }
        } catch (e) {
            console.error('Road routing error:', e);
        }
        return null;
    }
    let mapPolylines = [];
    async function renderMapItinerary() {
        markers.forEach(m => map.removeLayer(m));
        markers = [];
        mapPolylines.forEach(p => map.removeLayer(p));
        mapPolylines = [];
        if (itinerary.length === 0) return;
        const bounds = L.latLngBounds();
        itinerary.forEach((stop, index) => {
            const el = document.createElement('div');
            el.className = 'planner-map-marker';
            if (index === 0) {
                el.classList.add('planner-marker-start');
            } else if (stop.operators && stop.operators.length > 0) {
                if (stop.operators.includes('flixbus') && !stop.operators.includes('blablacar_bus')) {
                    el.classList.add('planner-marker-flix');
                } else if (stop.operators.includes('blablacar_bus') && !stop.operators.includes('flixbus')) {
                    el.classList.add('planner-marker-blabla');
                }
            }
            const label = document.createElement('span');
            label.className = 'planner-marker-label';
            label.textContent = index + 1;
            el.appendChild(label);
            const icon = L.divIcon({
                html: el,
                className: '',
                iconSize: [28, 28],
                iconAnchor: [14, 14]
            });
            const marker = L.marker([stop.stop_lat, stop.stop_lon], { icon: icon }).addTo(map);
            markers.push(marker);
            bounds.extend([stop.stop_lat, stop.stop_lon]);
        });
        if (itinerary.length >= 2) {
            showLoading('Tracé de l\'itinéraire...');

            for (let i = 0; i < itinerary.length - 1; i++) {
                const startStop = itinerary[i];
                const endStop = itinerary[i + 1];

                // Use destination stop to determine the leg provider
                const ops = endStop.operators || [];
                let lineColor = '#73d700'; // Default Flix green
                let polylineClass = '';
                const hasFlix = ops.includes('flixbus');
                const hasBla = ops.includes('blablacar_bus');

                if (hasFlix && hasBla) {
                    polylineClass = 'planner-mixed-polyline';
                } else if (hasBla) {
                    lineColor = '#0070d2'; // BlaBla blue
                }

                const geometry = await getRoadGeometry([startStop, endStop]);
                if (geometry && geometry.coordinates) {
                    const latlngs = geometry.coordinates.map(c => [c[1], c[0]]);
                    const poly = L.polyline(latlngs, {
                        color: lineColor,
                        weight: 6,
                        opacity: 0.7,
                        lineJoin: 'round',
                        lineCap: 'round',
                        className: polylineClass
                    }).addTo(map);
                    mapPolylines.push(poly);
                    latlngs.forEach(ll => bounds.extend(ll));
                } else {
                    const latlngs = [[startStop.stop_lat, startStop.stop_lon], [endStop.stop_lat, endStop.stop_lon]];
                    const poly = L.polyline(latlngs, {
                        color: lineColor,
                        weight: 4,
                        dashArray: '5, 10',
                        opacity: 0.5,
                        className: polylineClass
                    }).addTo(map);
                    mapPolylines.push(poly);
                }
            }
            hideLoading();
        }
        if (bounds.isValid() && itinerary.length > 1) {
            map.fitBounds(bounds, { padding: [50, 50], duration: 1 });
        } else if (bounds.isValid() && itinerary.length === 1) {
            map.setView([itinerary[0].stop_lat, itinerary[0].stop_lon], 11, { animate: true });
        }
    }
    function updateButtons() {
        const hasStops = itinerary.length > 0;
        undoBtn.disabled = !hasStops;
        resetBtn.disabled = !hasStops;
        saveBtn.disabled = !hasStops;
        generatePdfBtn.disabled = itinerary.length < 2;
        if (itinerary.length === 0) {
            connectedPanel.classList.remove('visible');
        }
    }
    undoBtn.addEventListener('click', () => {
        if (itinerary.length === 0) return;
        itinerary.pop();
        renderTimeline();
        renderMapItinerary();
        updateButtons();
        if (itinerary.length > 0) {
            const lastStop = itinerary[itinerary.length - 1];
            loadConnectedCities(lastStop.stop_id, lastStop.stop_name);
        } else {
            connectedPanel.classList.remove('visible');
            clearSuggestionMarkers();
            searchInput.placeholder = i18n.t('search_start');
        }
        showToast(i18n.t('toast_removed'), 'info');
    });
    resetBtn.addEventListener('click', () => {
        itinerary = [];
        renderTimeline();
        renderMapItinerary();
        updateButtons();
        connectedPanel.classList.remove('visible');
        clearSuggestionMarkers();
        searchInput.placeholder = i18n.t('search_start');
        showToast(i18n.t('toast_cleared'), 'info');
    });
    saveBtn.addEventListener('click', () => {
        if (itinerary.length === 0) return;
        const data = JSON.stringify(itinerary, null, 2);
        const blob = new Blob([data], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        const name = itinerary.length > 0 ? itinerary[0].stop_name.replace(/[^a-z0-9]/gi, '-') : 'itinerary';
        a.download = `linia_trip_${name}.json`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
        showToast(i18n.t('toast_saved'), 'success');
    });
    loadBtn.addEventListener('click', () => {
        loadInput.click();
    });
    loadInput.addEventListener('change', (e) => {
        const file = e.target.files[0];
        if (!file) return;
        const reader = new FileReader();
        reader.onload = (event) => {
            try {
                const loadedItinerary = JSON.parse(event.target.result);
                if (Array.isArray(loadedItinerary)) {
                    itinerary = loadedItinerary;
                    renderTimeline();
                    renderMapItinerary();
                    updateButtons();
                    if (itinerary.length > 0) {
                        const last = itinerary[itinerary.length - 1];
                        loadConnectedCities(last.stop_id, last.stop_name);
                        searchInput.placeholder = i18n.t('search_step');
                    }
                    showToast(i18n.t('toast_loaded'), 'success');
                } else {
                    showToast(i18n.t('err_search'), 'error');
                }
            } catch (err) {
                console.error(err);
                showToast(i18n.t('err_connection'), 'error');
            }
        };
        reader.readAsText(file);
        e.target.value = '';
    });
    generatePdfBtn.addEventListener('click', async () => {
        if (itinerary.length < 2) {
            showToast('Ajoutez au moins 2 villes pour générer un PDF.', 'warning');
            return;
        }
        generatePdfBtn.disabled = true;
        showLoading(i18n.t('pdf_generating'));
        console.log('PDF: Starting generation process...');
        let pdfFinished = false;
        const timeoutHandle = setTimeout(() => {
            if (!pdfFinished) {
                console.warn('PDF: Map capture timed out after 12s. Generating without map.');
                pdfFinished = true;
                showToast(i18n.t('pdf_timeout'), 'warning');
                generatePDFFile(null);
            }
        }, 12000);
        try {
            console.log('PDF: Waiting for map to settle...');
            await new Promise(r => setTimeout(r, 2000));
            map.invalidateSize();
            await new Promise(r => setTimeout(r, 300));
            console.log('PDF: Capturing map via html2canvas...');
            const mapElement = document.getElementById('plannerMap');
            html2canvas(mapElement, {
                useCORS: true,
                allowTaint: true,
                backgroundColor: '#ffffff',
                logging: false,
                scale: 2,
                onclone: (clonedDoc) => {
                    const clonedMap = clonedDoc.getElementById('plannerMap');
                    if (clonedMap) {
                        clonedMap.style.transform = 'none';
                        clonedMap.style.transition = 'none';
                        const internalContainer = clonedMap.querySelector('.leaflet-map-pane');
                        if (internalContainer) internalContainer.style.transform = 'none';
                    }
                }
            }).then(canvas => {
                if (pdfFinished) return;
                try {
                    const mapImage = canvas.toDataURL('image/png');
                    console.log('PDF: Map captured successfully.');
                    clearTimeout(timeoutHandle);
                    pdfFinished = true;
                    generatePDFFile(mapImage);
                } catch (dataErr) {
                    console.error('DataURL error:', dataErr);
                    clearTimeout(timeoutHandle);
                    pdfFinished = true;
                    generatePDFFile(null);
                }
            }).catch(err => {
                if (pdfFinished) return;
                console.error('Capture error:', err);
                clearTimeout(timeoutHandle);
                pdfFinished = true;
                showToast(i18n.t('pdf_canvas_err'), 'warning');
                generatePDFFile(null);
            }
            );
        } catch (err) {
            console.error('PDF generation error:', err);
            if (!pdfFinished) {
                clearTimeout(timeoutHandle);
                pdfFinished = true;
                showToast('Erreur lors de la génération du PDF.', 'error');
                hideLoading();
                generatePdfBtn.disabled = false;
            }
        }
    });
    function generatePDFFile(mapImage) {
        console.log('PDF: Building internal document structure...');
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        const pageWidth = doc.internal.pageSize.getWidth();
        const margin = 20;
        let y = 20;
        try {
            doc.setFontSize(28);
            doc.setFont('helvetica', 'bold');
            doc.setTextColor(115, 215, 0);
            doc.text('Linia', margin, y + 10);
            doc.setFontSize(10);
            doc.setTextColor(130, 130, 130);
            doc.setFont('helvetica', 'normal');
            const now = new Date();
            doc.text(`Généré le ${now.toLocaleDateString('fr-FR')}`, pageWidth - margin - 40, y + 5);
            y += 20;
            const contentWidth = pageWidth - (margin * 2);
            if (mapImage && mapImage.startsWith('data:image')) {
                const finalImgHeight = 100;
                doc.addImage(mapImage, 'PNG', margin, y, contentWidth, finalImgHeight);
                doc.setDrawColor(220, 220, 220);
                doc.rect(margin, y, contentWidth, finalImgHeight);
                y += finalImgHeight + 15;
            } else {
                y += 10;
            }
            doc.setFontSize(16);
            doc.setTextColor(50, 50, 50);
            doc.setFont('helvetica', 'bold');
            doc.text(`${itinerary.length} villes traversées`, margin, y);
            y += 8;
            doc.setFontSize(12);
            doc.setFont('helvetica', 'normal');
            doc.setTextColor(100, 100, 100);
            const startName = itinerary[0]?.stop_name || 'Départ';
            const endName = itinerary[itinerary.length - 1]?.stop_name || 'Arrivée';
            doc.text(String(`${startName} -> ${endName}`), margin, y);
            y += 15;
            itinerary.forEach((stop, index) => {
                if (y > 270) {
                    doc.addPage();
                    y = 20;
                }
                const isFirst = index === 0;
                const isLast = index === itinerary.length - 1;
                const operators = stop.operators || [];
                const circleX = margin + 4;
                const circleY = y;
                if (isFirst) {
                    doc.setFillColor(115, 215, 0);
                } else if (operators.includes('blablacar_bus') && !operators.includes('flixbus')) {
                    doc.setFillColor(0, 112, 210);
                } else {
                    doc.setFillColor(115, 215, 0);
                }
                doc.circle(circleX, circleY, 3.5, 'F');
                doc.setFontSize(7);
                doc.setFont('helvetica', 'bold');
                doc.setTextColor(255, 255, 255);
                const numStr = String(index + 1);
                doc.text(numStr, circleX - (numStr.length > 1 ? 2.5 : 1.5), circleY + 1.5);
                doc.setFontSize(12);
                doc.setFont('helvetica', isFirst || isLast ? 'bold' : 'normal');
                doc.setTextColor(40, 40, 40);
                const stopName = stop.stop_name ? String(stop.stop_name) : 'Ville inconnue';
                doc.text(stopName, margin + 14, y + 2);
                if (!isFirst && operators.length > 0) {
                    doc.setFontSize(9);
                    doc.setFont('helvetica', 'normal');
                    let opX = margin + 14;
                    doc.setTextColor(100, 100, 100);
                    doc.text("via ", opX, y + 7);
                    opX += 6;
                    const opsToPrint = [];
                    if (operators.includes('flixbus')) opsToPrint.push({ name: 'Flixbus', color: [115, 215, 0] });
                    if (operators.includes('blablacar_bus')) opsToPrint.push({ name: 'BlaBlaCar', color: [0, 112, 210] });
                    if (opsToPrint.length === 0) {
                        opsToPrint.push({ name: 'Bus', color: [100, 100, 100] });
                    }
                    opsToPrint.forEach((op, i) => {
                        doc.setTextColor(op.color[0], op.color[1], op.color[2]);
                        doc.text(String(op.name), opX, y + 7);
                        opX += doc.getTextWidth(String(op.name));
                        if (i < opsToPrint.length - 1) {
                            doc.setTextColor(150, 150, 150);
                            doc.text(" + ", opX, y + 7);
                            opX += doc.getTextWidth(" + ");
                        }
                    });
                }
                if (!isLast) {
                    doc.setDrawColor(200, 200, 200);
                    doc.setLineWidth(0.3);
                    doc.line(circleX, circleY + 4.5, circleX, circleY + 16);
                }
                y += 18;
            });
            const firstName = (itinerary[0]?.stop_name || 'Linia').replace(/[^a-zA-Z0-9]/g, '-');
            const lastName = (itinerary[itinerary.length - 1]?.stop_name || 'Fin').replace(/[^a-zA-Z0-9]/g, '-');
            doc.save(`Linia_Itineraire_${firstName}_${lastName}.pdf`);
            console.log('PDF: Document saved.');
            showToast(i18n.t('pdf_success'), 'success');
        } catch (pdfErr) {
            console.error('PDF construction error:', pdfErr);
            showToast('Erreur lors de l’assemblage du PDF.', 'error');
        } finally {
            hideLoading();
            generatePdfBtn.disabled = false;
        }
    }
    updateButtons();
});

--- FIN FICHIER ---

--- DÉBUT FICHIER : static\style.css ---
--- POSITION : C:\Users\Amédée\Documents\linia-mobile\static\style.css ---

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

:root {
    --flix-green: #73d700;
    --flix-green-accent: #73d700;
    --flix-green-hover: #5cb800;
    --blablacar-blue: #00aff5;
    --blablacar-blue-accent: #0070d2;
    --text-primary: #1a1a1b;
    --text-secondary: #5f6368;
    --text-muted: #9aa0a6;
    --bg-white: #ffffff;
    --bg-light: #f8f9fa;
    --bg-hover: #f1f3f4;
    --border-light: #e8eaed;
    --blue-accent: #1a73e8;
    --shadow-sm: 0 1px 2px 0 rgba(60, 64, 67, .30), 0 1px 3px 1px rgba(60, 64, 67, .15);
    --shadow-md: 0 1px 3px 0 rgba(60, 64, 67, .30), 0 4px 8px 3px rgba(60, 64, 67, .15);
    --shadow-lg: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 20px;
    --font-main: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
}

*,
*::before,
*::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html,
body {
    height: 100%;
    font-family: var(--font-main);
    background-color: var(--bg-white);
    color: var(--text-primary);
    font-size: 14px;
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

a {
    color: var(--blue-accent);
    text-decoration: none;
}

a:hover {
    text-decoration: underline;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

.spinner {
    border: 3px solid var(--border-light);
    border-left-color: var(--blue-accent);
    border-radius: 50%;
    width: 20px;
    height: 20px;
    animation: spin 0.7s linear infinite;
    display: inline-block;
}

.toast-container {
    position: fixed;
    bottom: 24px;
    right: 24px;
    z-index: 10000;
    display: flex;
    flex-direction: column-reverse;
    gap: 8px;
}

.toast {
    background-color: var(--text-primary);
    color: white;
    padding: 12px 20px;
    border-radius: var(--radius-sm);
    box-shadow: var(--shadow-lg);
    opacity: 0;
    transform: translateY(12px);
    transition: opacity 0.3s ease, transform 0.3s ease;
    font-size: 13px;
    max-width: 360px;
}

.toast.show {
    opacity: 1;
    transform: translateY(0);
}

.toast-error {
    background-color: #d93025;
}

.toast-success {
    background-color: var(--green-accent);
}

.toast-info {
    background-color: var(--blue-accent);
}

.toast-warning {
    background-color: #f9ab00;
    color: var(--text-primary);
}

.landing-page {
    width: 100%;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
}

.landing-map-bg {
    position: absolute;
    inset: 0;
    z-index: 0;
    width: 100%;
    height: 100%;
}

.mobile-landing-extras {
    display: none;
}

.landing-actions {
    display: flex;
    flex-direction: row;
    align-items: stretch;
    justify-content: center;
    gap: 16px;
    width: 100%;
    margin: 0 auto;
}

.landing-map-overlay {
    position: absolute;
    inset: 0;
    z-index: 1;
    background: radial-gradient(ellipse at center,
            rgba(255, 255, 255, 0.4) 0%,
            rgba(255, 255, 255, 0.6) 50%,
            rgba(255, 255, 255, 0.8) 100%);
    pointer-events: none;
}

.landing-content {
    position: relative;
    z-index: 2;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 0 24px;
    width: 100%;
    max-width: 640px;
}

.landing-text-block {
    text-align: center;
    margin-bottom: 20px;
}

.welcome-line {
    font-size: 28px;
    font-weight: 300;
    color: var(--text-secondary);
    margin-bottom: 4px;
    height: 42px;
    position: relative;
    overflow: hidden;
}

.cycling-text {
    display: inline-block;
    transition: opacity 0.4s ease, transform 0.4s ease;
    opacity: 1;
    transform: translateY(0);
}

.cycling-text.text-hidden {
    opacity: 0;
    transform: translateY(-8px);
}

.cycling-text.text-visible {
    opacity: 1;
    transform: translateY(0);
}

.brand-name {
    font-size: 72px;
    font-weight: 700;
    letter-spacing: -2px;
    color: var(--text-primary);
}

@keyframes gradient-shift {
    0% {
        background-position: 100% center;
    }

    100% {
        background-position: -100% center;
    }
}

.highlight {
    background: linear-gradient(90deg,
            var(--flix-green-accent),
            var(--blablacar-blue-accent),
            var(--flix-green-accent));
    background-size: 200% auto;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: gradient-shift 8s linear infinite;
}

.landing-search-container {
    width: 100%;
    max-width: 585px;
    position: relative;
    margin: 0 auto 24px auto;
}

.landing-search-wrapper {
    position: relative;
}

.landing-search-bar {
    width: 100%;
    padding: 14px 52px 14px 44px;
    border: 2px solid var(--flix-green-accent);
    border-radius: 0.5em;
    font-size: 16px;
    font-family: var(--font-main);
    color: var(--text-primary);
    background: var(--bg-white);
    outline: none;
    transition: box-shadow 0.3s ease, border-color 0.3s ease;
    animation: search-glow-dynamic 5s ease-in-out infinite;
}

@keyframes search-glow-dynamic {
    0% {
        border-color: var(--flix-green-accent);
        box-shadow: 0 0 8px rgba(115, 215, 0, 0.2);
    }

    50% {
        border-color: var(--blue-accent);
        box-shadow: 0 0 15px rgba(66, 133, 244, 0.35);
    }

    100% {
        border-color: var(--flix-green-accent);
        box-shadow: 0 0 8px rgba(115, 215, 0, 0.2);
    }
}

.landing-search-bar::placeholder {
    color: var(--text-muted);
}

.landing-search-bar:hover,
.landing-search-bar:focus {
    box-shadow: 0 0 20px rgba(66, 133, 244, 0.4);
    background: var(--bg-white);
}

.landing-search-icon,
.map-search-icon,
.planner-search-icon {
    position: absolute;
    right: 16px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-muted);
    pointer-events: none;
    z-index: 15;
    display: flex;
    align-items: center;
    justify-content: center;
}

.landing-search-spinner,
.map-search-spinner,
.planner-search-spinner {
    position: absolute;
    right: 16px;
    top: 50%;
    transform: translateY(-50%);
    z-index: 15;
}

.landing-suggestions {
    position: absolute;
    top: calc(100% + 4px);
    left: 0;
    right: 0;
    background: var(--bg-white);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-lg);
    max-height: 280px;
    overflow-y: auto;
    z-index: 100;
    display: none;
}

.landing-suggestions.visible {
    display: block;
}

.suggestion-item {
    padding: 12px 20px;
    cursor: pointer;
    font-size: 14px;
    color: var(--text-secondary);
    transition: background-color 0.15s ease;
    border-bottom: 1px solid var(--border-light);
}

.suggestion-item:last-child {
    border-bottom: none;
}

.suggestion-item:hover {
    background-color: var(--bg-hover);
    color: var(--text-primary);
}

.landing-actions {
    display: flex;
    flex-direction: row;
    align-items: stretch;
    justify-content: center;
    gap: 16px;
    width: 100%;
    margin: 0 auto;
}

.linia-btn-premium {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    height: 52px;
    padding: 0 1.4em;
    font-size: 15px;
    font-weight: 600;
    font-family: var(--font-main);
    color: var(--text-primary);
    background: var(--bg-white);
    border: 2px solid var(--border-light);
    border-radius: 0.5em;
    cursor: pointer;
    text-decoration: none;
    position: relative;
    overflow: hidden;
    z-index: 1;
    transition: all 0.2s ease-in;
}

.linia-btn-premium:active {
    color: #666;
    transform: translateY(2px);
}

.linia-btn-premium svg {
    flex-shrink: 0;
    transition: transform 0.3s ease;
}

.linia-btn-premium::before {
    content: "";
    position: absolute;
    left: 50%;
    transform: translateX(-50%) scaleY(1) scaleX(1.25);
    top: 100%;
    width: 140%;
    height: 180%;
    background-color: rgba(0, 0, 0, 0.05);
    border-radius: 50%;
    display: block;
    transition: all 0.5s 0.1s cubic-bezier(0.55, 0, 0.1, 1);
    z-index: -1;
}

.linia-btn-premium::after {
    content: "";
    position: absolute;
    left: 55%;
    transform: translateX(-50%) scaleY(1) scaleX(1.45);
    top: 180%;
    width: 160%;
    height: 190%;
    background: linear-gradient(135deg, var(--blablacar-blue-accent), var(--flix-green-accent));
    border-radius: 50%;
    display: block;
    transition: all 0.5s 0.1s cubic-bezier(0.55, 0, 0.1, 1);
    z-index: -1;
}

.linia-btn-premium:hover {
    color: #ffffff;
    border-color: transparent;
    background: linear-gradient(white, white) padding-box,
        linear-gradient(90deg, var(--blablacar-blue-accent), var(--flix-green-accent)) border-box;
    text-decoration: none;
}

.linia-btn-premium:hover svg {
    transform: scale(1.1);
}

.linia-btn-premium:hover::before {
    top: -35%;
    background-color: var(--blablacar-blue-accent);
    transform: translateX(-50%) scaleY(1.3) scaleX(0.8);
}

.linia-btn-premium:hover::after {
    top: -45%;
    background: linear-gradient(135deg, var(--blablacar-blue-accent), var(--flix-green-accent));
    transform: translateX(-50%) scaleY(1.3) scaleX(0.8);
}

.landing-action-btn {
    flex: 1;
}

.how-it-works-btn {
    flex: 1;
    text-align: center;
    justify-content: center;
}

.map-page {
    width: 100%;
    height: 100vh;
    position: relative;
    overflow: hidden;
}

#map {
    width: 100%;
    height: 100%;
    z-index: 1;
}

.map-search-bar-container {
    position: absolute;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
    width: 90%;
    max-width: 440px;
}

.map-search-wrapper {
    position: relative;
    display: flex;
    align-items: center;
}

.map-search-bar {
    width: 100%;
    padding: 12px 48px 12px 40px;
    border: none;
    border-radius: var(--radius-full);
    font-size: 15px;
    font-family: var(--font-main);
    color: var(--text-primary);
    background: var(--bg-white);
    box-shadow: var(--shadow-md);
    outline: none;
    transition: box-shadow 0.2s ease;
}

.map-search-bar::placeholder {
    color: var(--text-muted);
}

.map-search-bar:focus {
    box-shadow: var(--shadow-lg);
}

.map-suggestions {
    position: absolute;
    top: calc(100% + 6px);
    left: 0;
    right: 0;
    background: var(--bg-white);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-lg);
    max-height: 240px;
    overflow-y: auto;
    z-index: 100;
    display: none;
}

.map-suggestions.visible {
    display: block;
}

.linia-nav-btn {
    position: fixed;
    z-index: 1000;
    width: 56px;
    height: 56px;
    display: block;
    overflow: hidden;
    text-align: center;
    cursor: pointer;
    text-decoration: none !important;
}

.linia-nav-btn .icon-circle {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: var(--bg-white);
    color: var(--text-secondary);
    box-shadow: var(--shadow-md);
    transition: all 0.35s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    position: absolute;
    top: 0;
    left: 4px;
    transform-origin: top;
}

.linia-nav-btn:hover .icon-circle {
    transform: scale(0.62) translateY(2px);
    box-shadow: var(--shadow-sm);
}

.nav-btn-home {
    top: 20px;
    right: 20px;
}

.nav-btn-home:hover .icon-circle {
    color: var(--blue-accent);
}

.nav-btn-planner {
    top: 82px;
    right: 20px;
}

.nav-btn-planner .icon-circle {
    background: var(--flix-green-accent);
    color: white;
}

.nav-btn-planner:hover .icon-circle {
    background: var(--flix-green-hover);
}

.linia-nav-btn .btn-label {
    position: absolute;
    bottom: -30px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 13px;
    font-weight: 700;
    color: var(--text-primary);
    white-space: nowrap;
    transition: all 0.35s cubic-bezier(0.165, 0.84, 0.44, 1);
    opacity: 0;
}

.linia-nav-btn:hover .btn-label {
    bottom: 4px;
    opacity: 1;
}

.route-panel {
    position: fixed;
    top: 80px;
    left: 10px;
    width: 380px;
    max-height: calc(100vh - 180px);
    background: var(--bg-white);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-lg);
    z-index: 1000;
    transform: translateX(-420px);
    transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.route-panel.visible {
    transform: translateX(0);
}

.route-panel-header {
    padding: 20px 24px 16px;
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    border-bottom: 1px solid var(--border-light);
}

.route-panel-header h2 {
    font-size: 18px;
    font-weight: 700;
    color: var(--text-primary);
    margin: 0;
    line-height: 1.3;
}

.route-panel-close {
    background: var(--bg-light);
    border: none;
    font-size: 24px;
    width: 32px;
    height: 32px;
    border-radius: var(--radius-sm);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-secondary);
    transition: background 0.2s;
}

.route-panel-close:hover {
    background: #e1e4e8;
}

.route-panel-body {
    flex: 1;
    overflow-y: auto;
    padding: 0;
}

.trip-details-panel {
    position: fixed;
    top: 138px;
    right: 20px;
    width: 320px;
    max-height: calc(100vh - 180px);
    background: var(--bg-white);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-lg);
    z-index: 1100;
    transform: translateX(360px);
    transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.trip-details-panel.visible {
    transform: translateX(0);
}

.trip-details-header {
    padding: 24px 20px 16px;
    border-bottom: 1px solid var(--border-light);
    position: relative;
    background: var(--bg-white);
}

.trip-details-title-container {
    padding-right: 32px;
}

.trip-details-title-container h3 {
    font-size: 16px;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0 0 4px 0;
}

.trip-details-subtitle {
    font-size: 13px;
    color: var(--text-secondary);
    display: block;
}

.trip-details-close {
    position: absolute;
    top: 18px;
    right: 18px;
    background: var(--bg-light);
    border: none;
    font-size: 20px;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-secondary);
    transition: all 0.2s ease;
    z-index: 5;
}

.trip-details-close:hover {
    background: var(--bg-hover);
    color: var(--text-primary);
    transform: rotate(90deg);
}

.lang-menu.show {
    opacity: 1;
    transform: translateY(0) scale(1);
    pointer-events: all;
}

.trip-details-body {
    flex: 1;
    overflow-y: auto;
    padding: 20px;
}

.timeline-list {
    list-style: none;
    padding: 0;
    margin: 0;
    position: relative;
}

.timeline-list::before {
    content: '';
    position: absolute;
    top: 12px;
    bottom: 12px;
    left: 7px;
    width: 2px;
    background: var(--border-color);
    z-index: 0;
    opacity: 0.5;
}

.timeline-item {
    position: relative;
    padding-left: 28px;
    padding-bottom: 24px;
    z-index: 1;
}

.timeline-item:last-child {
    padding-bottom: 0;
}

.timeline-dot {
    position: absolute;
    left: 0;
    top: 4px;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background: var(--bg-white);
    border: 2px solid var(--border-color);
    z-index: 2;
    transition: all 0.2s ease;
}

.timeline-item.active-blabla .timeline-dot {
    border-color: var(--blablacar-blue-accent);
    background-color: var(--blablacar-blue-accent);
}

.timeline-item.active-blabla .timeline-city-name {
    color: var(--blablacar-blue-accent);
    font-weight: 700;
}

.timeline-item.active-flix .timeline-dot {
    border-color: var(--flix-green-accent);
    background-color: var(--flix-green-accent);
}

.timeline-item.active-flix .timeline-city-name {
    color: var(--flix-green-hover);
    font-weight: 700;
}

.timeline-content {
    display: flex;
    flex-direction: column;
}

.timeline-city-name {
    font-size: 14px;
    font-weight: 500;
    color: var(--text-primary);
}

.timeline-time {
    font-size: 12px;
    color: var(--text-secondary);
}

.reopen-panel-btn {
    position: fixed;
    top: 85px;
    left: 12px;
    bottom: auto;
    z-index: 950;
    display: none;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    background: var(--bg-white);
    color: var(--text-secondary);
    border: none;
    border-radius: 4px;
    box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);
    cursor: pointer;
    transition: background-color 0.2s ease;
}

.reopen-panel-btn:hover {
    background-color: #f2f2f2;
}

.reopen-panel-btn svg {
    flex-shrink: 0;
    transform: rotate(90deg);
}

.operator-legend {
    display: flex;
    gap: 16px;
    padding: 8px 12px;
    font-size: 12px;
    color: var(--text-secondary);
    border-bottom: 1px solid var(--border-light);
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 6px;
}

.legend-color-box {
    width: 10px;
    height: 10px;
    border-radius: 2px;
}

.legend-flixbus {
    background-color: var(--flix-green-accent);
}

.legend-blablacar {
    background-color: var(--blablacar-blue-accent);
}

.route-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.route-list .route-item {
    padding: 12px 16px;
    margin: 4px 0;
    border-radius: var(--radius-sm);
    cursor: pointer;
    font-size: 14px;
    color: var(--text-secondary);
    border-left: 3px solid transparent;
    transition: background-color 0.15s ease, transform 0.1s ease;
}

.route-item:hover {
    background-color: var(--bg-hover);
    color: var(--text-primary);
    transform: translateX(2px);
}

.route-item strong {
    font-weight: 500;
    color: var(--text-primary);
}

.route-item--flixbus {
    border-left-color: var(--flix-green-accent);
}

.route-item--flixbus:hover {
    background-color: rgba(115, 215, 0, 0.15);
    color: var(--flix-green-hover);
    border-left-width: 4px;
}

.route-item--blablacar-bus {
    border-left-color: var(--blablacar-blue-accent);
}

.route-item--blablacar-bus:hover {
    background-color: rgba(0, 112, 210, 0.15);
    color: var(--blablacar-blue-hover);
    border-left-width: 4px;
}

.route-item--unknown {
    border-left-color: var(--text-muted);
}

.route-controls {
    padding: 12px 16px;
    background: var(--bg-white);
    border-bottom: 1px solid var(--border-light);
}

.filter-pills {
    display: flex;
    gap: 8px;
    margin-bottom: 12px;
}

.lang-switcher-btn {
    position: absolute;
    left: 12px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    color: var(--text-muted);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 20 !important;
    padding: 8px;
    pointer-events: auto !important;
}

.lang-switcher-btn * {
    transition: none !important;
    animation: none !important;
    pointer-events: none;
}

.lang-switcher-btn:hover {
    color: var(--text-primary) !important;
    transform: translateY(-50%) scale(1.1) !important;
}

.filter-pill {
    padding: 6px 14px;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-full);
    background: transparent;
    font-size: 13px;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.2s ease;
}

.filter-pill:hover {
    background: var(--bg-hover);
}

.filter-pill.active {
    background: var(--text-primary);
    color: white;
    border-color: var(--text-primary);
}

.route-filter-search {
    position: relative;
}

.route-filter-search input {
    width: 100%;
    padding: 10px 14px;
    border: 1px solid var(--border-light);
    border-radius: var(--radius-sm);
    background: var(--bg-light);
    font-size: 14px;
    outline: none;
    transition: border-color 0.2s ease;
}

.route-filter-search input:focus {
    border-color: var(--blue-accent);
}

.loading-overlay {
    position: absolute;
    top: 80px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1001;
    background: var(--bg-white);
    padding: 12px 24px;
    border-radius: var(--radius-full);
    box-shadow: var(--shadow-md);
    display: none;
    align-items: center;
    gap: 10px;
    font-size: 13px;
    color: var(--text-secondary);
}

.loading-overlay.visible {
    display: flex;
}

.route-empty-msg {
    text-align: center;
    padding: 20px;
    color: var(--text-muted);
    font-size: 13px;
}

.about-page {
    width: 100%;
    min-height: 100vh;
    background: var(--bg-white);
    display: flex;
    flex-direction: column;
}

.about-nav {
    padding: 16px 32px;
    border-bottom: 1px solid var(--border-light);
    display: flex;
    align-items: center;
    gap: 12px;
}

.about-nav .nav-brand {
    font-size: 20px;
    font-weight: 700;
    text-decoration: none;
}

.about-nav .nav-link {
    font-size: 14px;
    color: var(--text-secondary);
    text-decoration: none;
    margin-left: auto;
    transition: color 0.15s ease;
}

.about-nav .nav-link:hover {
    color: var(--text-primary);
    text-decoration: none;
}

.about-content {
    max-width: 680px;
    margin: 0 auto;
    padding: 48px 24px 80px;
}

.about-content h1 {
    font-size: 32px;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 8px;
}

.about-content .about-subtitle {
    font-size: 16px;
    color: var(--text-secondary);
    margin-bottom: 40px;
    line-height: 1.6;
}

.about-content h2 {
    font-size: 20px;
    font-weight: 600;
    color: var(--text-primary);
    margin-top: 40px;
    margin-bottom: 12px;
}

.about-content p {
    font-size: 15px;
    color: var(--text-secondary);
    line-height: 1.7;
    margin-bottom: 12px;
}

.about-content ul {
    list-style: disc;
    padding-left: 24px;
    margin-bottom: 16px;
}

.about-content ul li {
    font-size: 15px;
    color: var(--text-secondary);
    line-height: 1.7;
    margin-bottom: 4px;
}

.download-card {
    background: var(--bg-light);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md);
    padding: 24px;
    margin-top: 24px;
}

.download-card h3 {
    font-size: 16px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 8px;
}

.download-card p {
    font-size: 13px;
    color: var(--text-secondary);
    margin-bottom: 12px;
}

.download-card .download-btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 10px 20px;
    background: var(--green-accent);
    color: white;
    border: none;
    border-radius: var(--radius-sm);
    font-size: 14px;
    font-weight: 500;
    font-family: var(--font-main);
    text-decoration: none;
    cursor: pointer;
    transition: background-color 0.2s ease;
}

.download-card .download-btn:hover {
    background: var(--green-hover);
    text-decoration: none;
    color: white;
}

.planner-page {
    width: 100%;
    height: 100vh;
    position: relative;
    overflow: hidden;
}

#plannerMap {
    width: 100%;
    height: 100%;
    z-index: 1;
}

.planner-search-container {
    position: absolute;
    top: 16px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
    width: 90%;
    max-width: 440px;
}

.planner-search-wrapper {
    position: relative;
    display: flex;
    align-items: center;
}

.planner-search-icon {
    position: absolute;
    right: 14px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-muted);
    pointer-events: none;
}

.planner-search-spinner {
    position: absolute;
    right: 14px;
    top: 50%;
    transform: translateY(-50%);
}

.planner-suggestions {
    position: absolute;
    top: calc(100% + 6px);
    left: 0;
    right: 0;
    background: var(--bg-white);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-lg);
    max-height: 240px;
    overflow-y: auto;
    z-index: 100;
    display: none;
}

.planner-suggestions.visible {
    display: block;
}

.planner-sidebar {
    position: fixed;
    top: 110px;
    left: 10px;
    width: 340px;
    max-height: calc(100vh - 120px);
    background: var(--bg-white);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-lg);
    z-index: 1000;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    animation: slideInLeft 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

@keyframes slideInLeft {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.planner-sidebar-header {
    padding: 20px 20px 14px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid var(--border-light);
}

.planner-sidebar-header h2 {
    font-size: 18px;
    font-weight: 700;
    color: var(--text-primary);
    margin: 0;
}

.planner-sidebar-actions {
    display: flex;
    gap: 4px;
}

.planner-sidebar-body {
    flex: 1;
    overflow-y: auto;
    padding: 16px 20px;
}

.planner-sidebar-footer {
    padding: 16px 20px;
    border-top: 1px solid var(--border-light);
    background: var(--bg-white);
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: space-between;
    gap: 8px;
}

.planner-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    border: none;
    border-radius: var(--radius-sm);
    font-size: 13px;
    font-family: var(--font-main);
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
}

.planner-btn:disabled {
    opacity: 0.35;
    cursor: not-allowed;
}

.planner-btn-ghost {
    background: var(--bg-light);
    color: var(--text-secondary);
    width: 32px;
    height: 32px;
    padding: 0;
}

.planner-btn-ghost:hover:not(:disabled) {
    background: var(--bg-hover);
    color: var(--text-primary);
}

.planner-btn-primary {
    width: 100%;
    padding: 12px 20px;
    background: var(--flix-green-accent);
    color: white;
    font-size: 14px;
    font-weight: 600;
    border-radius: var(--radius-md);
    box-shadow: 0 2px 8px rgba(115, 215, 0, 0.3);
}

.planner-btn-primary:hover:not(:disabled) {
    background: var(--flix-green-hover);
    box-shadow: 0 4px 16px rgba(115, 215, 0, 0.4);
    transform: translateY(-1px);
}

.planner-empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 40px 20px;
    text-align: center;
    color: var(--text-muted);
    font-size: 14px;
    line-height: 1.5;
}

.planner-timeline {
    list-style: none;
    padding: 0;
    margin: 0;
    position: relative;
}

.planner-timeline::before {
    content: '';
    position: absolute;
    top: 16px;
    bottom: 16px;
    left: 15px;
    width: 2px;
    background: var(--border-color);
    z-index: 0;
}

.planner-timeline-item {
    position: relative;
    padding-left: 44px;
    padding-bottom: 20px;
    z-index: 1;
    animation: fadeInStep 0.3s ease forwards;
    opacity: 0;
}

@keyframes fadeInStep {
    from {
        opacity: 0;
        transform: translateY(8px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.planner-timeline-item:last-child {
    padding-bottom: 0;
}

.planner-search-bar {
    width: 100%;
    padding: 12px 48px 12px 40px;
    border: none;
    border-radius: var(--radius-full);
    font-size: 15px;
    font-family: var(--font-main);
    color: var(--text-primary);
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(8px);
    box-shadow: var(--shadow-md);
    outline: none;
    transition: all 0.3s ease;
}

.planner-search-bar:focus {
    background: #fff;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.planner-timeline-dot {
    position: absolute;
    left: 4px;
    top: 2px;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: var(--flix-green-accent);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
    box-shadow: 0 2px 6px rgba(115, 215, 0, 0.35);
}

.planner-dot-start {
    background: var(--flix-green-accent) !important;
    box-shadow: 0 2px 6px rgba(115, 215, 0, 0.35) !important;
}

.planner-dot-flix {
    background: var(--flix-green-accent) !important;
    box-shadow: 0 2px 6px rgba(115, 215, 0, 0.35) !important;
}

.planner-dot-blabla {
    background: var(--blablacar-blue-accent) !important;
    box-shadow: 0 2px 6px rgba(0, 112, 210, 0.35) !important;
}

.planner-dot-both {
    background: linear-gradient(135deg, var(--flix-green-accent), var(--blablacar-blue-accent)) !important;
    box-shadow: 0 2px 6px rgba(0, 112, 210, 0.25) !important;
}

.planner-dot-default {
    background: var(--flix-green-accent) !important;
}

.planner-step-number {
    color: white;
    font-size: 11px;
    font-weight: 700;
    line-height: 1;
}

.planner-timeline-content {
    display: flex;
    flex-direction: column;
    gap: 1px;
}

.planner-step-label {
    font-size: 11px;
    font-weight: 500;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.planner-step-city {
    font-size: 15px;
    font-weight: 600;
    color: var(--text-primary);
}

.planner-step-operators {
    display: flex;
    gap: 4px;
    margin-top: 3px;
}

.planner-op-badge {
    display: inline-block;
    font-size: 9px;
    font-weight: 600;
    color: white;
    padding: 2px 7px;
    border-radius: var(--radius-full);
    letter-spacing: 0.3px;
}

.planner-step-first .planner-step-label {
    background: linear-gradient(90deg, var(--flix-green-accent), var(--blablacar-blue-accent));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-weight: 700;
}

.planner-step-last .planner-step-label {
    color: var(--text-primary);
    font-weight: 700;
}

.planner-connected-panel {
    position: fixed;
    top: 80px;
    right: 16px;
    width: 340px;
    max-height: calc(100vh - 120px);
    background: var(--bg-white);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-lg);
    z-index: 1000;
    display: none;
    flex-direction: column;
    overflow: hidden;
    animation: slideInRight 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

.planner-connected-panel.visible {
    display: flex !important;
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(20px);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.planner-connected-header {
    padding: 20px 20px 14px;
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    border-bottom: 1px solid var(--border-light);
}

.planner-connected-header h3 {
    font-size: 16px;
    font-weight: 700;
    color: var(--text-primary);
    margin: 0 0 2px 0;
}

.planner-connected-subtitle {
    font-size: 12px;
    color: var(--text-secondary);
    display: block;
}

.planner-connected-close {
    background: var(--bg-light);
    border: none;
    font-size: 22px;
    width: 30px;
    height: 30px;
    border-radius: var(--radius-sm);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-secondary);
    transition: background 0.2s;
}

.planner-connected-close:hover {
    background: #e1e4e8;
}

.planner-connected-search {
    padding: 12px 16px;
    border-bottom: 1px solid var(--border-light);
}

.planner-connected-search input {
    width: 100%;
    padding: 10px 14px;
    border: 1px solid var(--border-light);
    border-radius: var(--radius-sm);
    background: var(--bg-light);
    font-size: 14px;
    font-family: var(--font-main);
    outline: none;
    transition: border-color 0.2s ease;
}

.planner-connected-search input:focus {
    border-color: var(--flix-green-accent);
}

.planner-connected-body {
    flex: 1;
    overflow-y: auto;
    padding: 0;
}

.planner-connected-empty {
    text-align: center;
    padding: 24px;
    color: var(--text-muted);
    font-size: 13px;
}

.planner-connected-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.planner-city-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 20px;
    cursor: pointer;
    border-left: 3px solid transparent;
    transition: all 0.15s ease;
}

.planner-city-item:hover {
    background-color: var(--blablacar-blue-subtle-bg);
    border-left-color: var(--blablacar-blue-accent);
    transform: translateX(2px);
}

.planner-city-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    flex-shrink: 0;
}

.planner-city-operators {
    display: flex;
    gap: 4px;
    flex-shrink: 0;
}

.planner-city-name {
    font-size: 14px;
    font-weight: 500;
    color: var(--text-primary);
    flex: 1;
}

.planner-city-badge {
    font-size: 10px;
    font-weight: 600;
    color: var(--text-muted);
    background: var(--bg-light);
    padding: 2px 8px;
    border-radius: var(--radius-full);
    text-transform: uppercase;
    letter-spacing: 0.3px;
}

.planner-city-visited {
    opacity: 0.5;
}

.planner-city-visited .planner-city-dot {
    background: var(--border-color);
}

.planner-map-marker {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: var(--flix-green-accent);
    border: 3px solid white;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: transform 0.2s ease;
}

.planner-map-marker.hovered,
.planner-map-marker:hover {
    transform: scale(1.15);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    z-index: 1000;
}

.planner-marker-label {
    color: white;
    font-size: 11px;
    font-weight: 700;
    font-family: var(--font-main);
}

.planner-marker-start {
    background: var(--flix-green-accent);
}

.planner-marker-flix {
    background: var(--flix-green-accent);
}

.planner-marker-blabla {
    background: var(--blablacar-blue-accent);
}

.linia-map-marker {
    width: 14px;
    height: 14px;
    border-radius: 50%;
    border: 2px solid white;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
    cursor: pointer;
    transition: background-color 0.3s ease, border-color 0.3s ease, transform 0.2s ease, box-shadow 0.2s ease;
    z-index: 10;
}

.linia-map-marker.op-flixbus {
    background-color: var(--flix-green-accent);
}

.linia-map-marker.op-blablacar-bus {
    background-color: var(--blablacar-blue-accent);
}

.linia-map-marker.hovered,
.linia-map-marker:hover {
    transform: scale(1.4);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    z-index: 1000;
}

.linia-map-marker.op-flixbus.hovered,
.linia-map-marker.op-flixbus:hover {
    background-color: var(--blablacar-blue-accent);
}

.linia-map-marker.op-blablacar-bus.hovered,
.linia-map-marker.op-blablacar-bus:hover {
    background-color: var(--flix-green-accent);
}

/* --- Premium Leaflet Popups (Glassmorphism) --- */
.leaflet-popup-content-wrapper {
    background: rgba(255, 255, 255, 0.85) !important;
    backdrop-filter: blur(12px) saturate(180%) !important;
    -webkit-backdrop-filter: blur(12px) saturate(180%) !important;
    border: 1px solid rgba(255, 255, 255, 0.45) !important;
    border-radius: var(--radius-md) !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12) !important;
    padding: 2px !important;
}

.leaflet-popup-tip {
    background: rgba(255, 255, 255, 0.85) !important;
    backdrop-filter: blur(12px) !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12) !important;
}

.leaflet-popup-content {
    margin: 14px 18px !important;
    font-family: var(--font-main) !important;
    font-size: 14px !important;
    font-weight: 500 !important;
    color: var(--text-primary) !important;
    line-height: 1.4 !important;
}

.leaflet-popup-content b,
.leaflet-popup-content strong {
    font-weight: 700 !important;
}

.leaflet-popup-close-button {
    padding: 8px !important;
    color: var(--text-secondary) !important;
    transition: color 0.2s ease !important;
}

.leaflet-popup-close-button:hover {
    color: var(--text-primary) !important;
    background: transparent !important;
}

::-webkit-scrollbar {
    width: 6px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: var(--border-color);
    border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--text-muted);
}

* {
    scrollbar-width: thin;
    scrollbar-color: var(--border-color) transparent;
}

footer {
    width: 100%;
    padding: 24px;
    text-align: center;
    color: var(--text-muted);
    font-size: 13px;
    z-index: 10;
}

footer p {
    margin-bottom: 8px;
    font-style: italic;
}

.color-bar-signature {
    height: 4px;
    width: 100%;
    max-width: 250px;
    margin: 0 auto;
    border-radius: 2px;
    background: linear-gradient(to right,
            #8B5CF6 0%,
            #8B5CF6 20%,
            #3B82F6 20%,
            #3B82F6 40%,
            #22C55E 40%,
            #22C55E 60%,
            #FFDB59 60%,
            #FFDB59 80%,
            #EF4444 80%,
            #EF4444 100%);
}

@media (max-width: 640px) {
    .welcome-line {
        font-size: 20px;
        height: 32px;
    }

    .brand-name {
        font-size: 40px;
    }

    .landing-search-bar {
        font-size: 15px;
        padding: 12px 48px 12px 16px;
    }

    .map-search-bar-container {
        top: 12px;
        width: 92%;
    }

    .map-search-input {
        padding: 10px 44px 10px 14px;
        font-size: 14px;
    }

    .route-panel {
        max-height: 55vh;
    }

    .about-nav {
        padding: 12px 16px;
    }

    .about-content {
        padding: 32px 16px 80px;
    }

    .about-content h1 {
        font-size: 24px;
    }

    .about-content h2 {
        font-size: 18px;
    }

    .toast-container {
        bottom: 16px;
        right: 12px;
        left: 12px;
    }

    .toast {
        max-width: 100%;
    }

    .planner-sidebar {
        position: fixed;
        top: auto;
        bottom: 0;
        left: 0;
        right: 0;
        width: 100%;
        max-height: 45vh;
        border-radius: var(--radius-lg) var(--radius-lg) 0 0;
    }

    .planner-connected-panel {
        position: fixed;
        top: auto;
        bottom: 0;
        left: 0;
        right: 0;
        width: 100%;
        max-height: 50vh;
        border-radius: var(--radius-lg) var(--radius-lg) 0 0;
    }

    .planner-search-container {
        width: 92%;
        top: 12px;
    }
}

.planner-footer-btn {
    background: none;
    border: none;
    color: var(--text-secondary);
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 10px;
    border-radius: var(--radius-sm);
    transition: all 0.2s ease;
}

.planner-footer-btn:hover {
    background-color: var(--bg-hover);
    color: var(--text-primary);
}

.planner-footer-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
}

.planner-footer-divider {
    width: 1px;
    height: 24px;
    background-color: var(--border-light);
    margin: 0 8px;
}

.bottom-nav {
    display: none;
}

@media (max-width: 768px) {

    .map-page,
    .planner-page {
        height: 100vh;
        height: 100dvh;
        overflow: hidden;
    }

    .landing-content {
        margin-top: -15vh !important;
    }

    .landing-actions {
        display: none !important;
    }

    .mobile-landing-extras {
        display: flex;
        flex-direction: column;
        width: 100%;
        margin-top: 32px;
        animation: fadeIn 0.6s ease-out;
    }

    .mobile-section-header {
        margin-bottom: 12px;
    }

    .mobile-section-header h3 {
        font-size: 14px;
        font-weight: 600;
        color: var(--text-secondary);
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .mobile-recents-list {
        display: flex;
        flex-direction: column;
        gap: 8px;
    }

    .recent-item {
        display: flex;
        align-items: center;
        gap: 14px;
        padding: 14px;
        background: var(--bg-white);
        border-radius: 12px;
        border: 1px solid var(--border-light);
        color: var(--text-primary);
        font-size: 15px;
        cursor: pointer;
    }

    .recent-item svg {
        color: var(--text-muted);
    }

    .empty-recents {
        text-align: center;
        padding: 20px;
        color: var(--text-muted);
        font-size: 14px;
        background: rgba(255, 255, 255, 0.5);
        border-radius: 12px;
        border: 1px dashed var(--border-light);
    }

    .bottom-nav {
        display: flex;
        justify-content: space-around;
        align-items: center;
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 64px;
        background-color: rgba(255, 255, 255, 0.98);
        backdrop-filter: blur(10px);
        border-top: 1px solid var(--border-light);
        z-index: 10000;
        padding-bottom: env(safe-area-inset-bottom);
        box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1) !important;
    }

    .bottom-nav-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        color: var(--text-secondary);
        font-size: 11px;
        flex: 1;
        height: 100%;
    }

    .bottom-nav-item.active {
        color: var(--flix-green-accent);
    }

    .bottom-nav-item svg {
        margin-bottom: 4px;
    }

    .map-search-bar-container,
    .planner-search-container {
        top: 10px !important;
        width: 94% !important;
        left: 50% !important;
        transform: translateX(-50%) !important;
        z-index: 1001 !important;
        margin-left: 0 !important;
    }

    .landing-search-bar,
    .map-search-bar,
    .planner-search-bar {
        padding-left: 20px !important;
    }

    .lang-switcher-btn {
        display: none !important;
    }

    .landing-page .lang-switcher-btn {
        position: fixed !important;
        left: auto !important;
        right: 15px !important;
        top: 15px !important;
        transform: none !important;
        background: white !important;
        box-shadow: var(--shadow-md) !important;
        border-radius: 50% !important;
        width: 40px !important;
        height: 40px !important;
        z-index: 10002 !important;
        display: flex !important;
    }

    .route-panel,
    .trip-details-panel,
    .planner-sidebar,
    .planner-connected-panel {
        position: fixed !important;
        top: auto !important;
        bottom: 64px !important;
        left: 0 !important;
        right: 0 !important;
        width: 100% !important;
        max-width: none !important;
        border-radius: 24px 24px 0 0 !important;
        box-shadow: 0 -8px 24px rgba(0, 0, 0, 0.15) !important;
        background: white !important;
        transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1) !important;
        margin-left: 0 !important;
        margin-right: 0 !important;
    }

    .planner-sidebar {
        height: 60vh !important;
        z-index: 1002 !important;
        transform: translateY(0) !important;
        display: flex !important;
        flex-direction: column !important;
    }

    .planner-connected-panel {
        height: 75vh !important;
        z-index: 1010 !important;
        transform: translateY(115%);
        display: flex !important;
    }

    .route-panel,
    .trip-details-panel {
        height: 50vh !important;
        z-index: 1004 !important;
        transform: translateY(115%);
    }

    .planner-connected-panel.visible,
    .route-panel.visible,
    .trip-details-panel.visible {
        transform: translateY(0) !important;
        display: flex !important;
    }

    .planner-sidebar-body {
        max-height: calc(60vh - 160px);
    }

    .planner-sidebar-footer {
        padding: 12px 20px 20px;
        background: white;
        border-top: 1px solid var(--border-light);
    }

    .reopen-panel-btn {
        top: auto !important;
        bottom: 74px !important;
        left: 50% !important;
        transform: translateX(-50%) !important;
        width: 50px !important;
        height: 38px !important;
        background: var(--bg-white) !important;
        color: var(--text-secondary) !important;
        border: 2px solid var(--flix-green-accent) !important;
        border-radius: 20px !important;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
        z-index: 1005 !important;
        animation: search-glow-dynamic 5s ease-in-out infinite !important;
        display: none;
        align-items: center;
        justify-content: center;
        transition: transform 0.2s ease, box-shadow 0.2s ease !important;
    }

    .reopen-panel-btn svg {
        transform: rotate(0deg);
    }

    .map-home-btn,
    .map-planner-btn,
    .linia-nav-btn,
    footer,
    .app-footer,
    .nav-link {
        display: none !important;
    }
}

@media (max-width: 768px) {
    .leaflet-top.leaflet-left {
        top: 50px !important;
    }
}

.lang-modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.2);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    z-index: 100000;
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
}

.lang-modal-overlay.show {
    opacity: 1;
    pointer-events: all;
}

.lang-switcher-btn {
    position: absolute;
    left: 12px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    color: var(--text-muted);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 20 !important;
    padding: 8px;
    pointer-events: auto !important;
}

.lang-switcher-btn * {
    transition: none !important;
    animation: none !important;
    pointer-events: none;
}

.lang-switcher-btn:hover {
    color: var(--text-primary) !important;
    transform: translateY(-50%) scale(1.1) !important;
}

.lang-menu {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -45%);
    width: 90%;
    max-width: 600px;
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.4);
    border-radius: 30px;
    padding: 30px;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    gap: 15px;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
    z-index: 100001;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    pointer-events: none;
}

.lang-menu.show {
    opacity: 1;
    visibility: visible;
    transform: translate(-50%, -50%);
    pointer-events: all;
}

.lang-option {
    width: 45px;
    height: 45px;
    border-radius: 50%;
    border: 1px solid rgba(0, 0, 0, 0.05);
    background: white;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 13px;
    font-weight: 700;
    color: var(--text-secondary);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
}

.lang-option:hover {
    transform: scale(1.1);
    background: var(--bg-light);
    color: var(--text-primary);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
}

.lang-option.active {
    background: var(--flix-green-accent);
    color: white;
    border-color: var(--flix-green-accent);
    box-shadow: 0 6px 15px rgba(115, 215, 0, 0.4);
}

@media (max-width: 768px) {
    .lang-modal-overlay {
        background: rgba(0, 0, 0, 0.4);
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
    }

    .lang-menu {
        width: 100vw !important;
        height: 100vh !important;
        max-width: none !important;
        max-height: none !important;
        top: 0 !important;
        left: 0 !important;
        transform: none !important;
        border-radius: 0 !important;
        padding: 60px 20px !important;
        background: rgba(255, 255, 255, 0.6) !important;
        gap: 20px;
    }

    .lang-menu.show {
        transform: none !important;
    }

    .lang-option {
        width: 65px;
        height: 65px;
        font-size: 18px;
        background: white;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }

    .landing-page .lang-switcher-btn {
        position: fixed !important;
        right: 15px !important;
        top: 15px !important;
        left: auto !important;
        display: flex !important;
        z-index: 100002 !important;
        background: white !important;
        color: var(--text-primary) !important;
        border-radius: 50%;
        width: 44px;
        height: 44px;
        box-shadow: var(--shadow-md);
    }
}

/* Planner Suggestion Markers */
.planner-suggestion-marker {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    border: 2px solid white;
    box-shadow: 0 0 4px rgba(0, 0, 0, 0.3);
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.planner-suggestion-marker:hover {
    transform: scale(1.5);
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.5);
    z-index: 1000;
}

.suggestion-marker-flix {
    background-color: var(--flix-green-accent);
}

.suggestion-marker-blabla {
    background-color: var(--blablacar-blue-accent);
}

.suggestion-marker-both {
    background: linear-gradient(135deg, var(--flix-green-accent), var(--blablacar-blue-accent));
}

.planner-mixed-polyline {
    stroke: url(#mixedGradient) !important;
}

/* --- Sidebar Disclaimer Styling --- */
.planner-disclaimer {
    margin: 16px;
    padding: 16px;
    background-color: #f8faff;
    border: 1px solid #eef2ff;
    border-radius: var(--radius-md);
    display: flex;
    flex-direction: column;
    gap: 8px;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.02);
}

.disclaimer-header {
    display: flex;
    align-items: center;
    gap: 8px;
    color: var(--blue-accent);
}

.disclaimer-header svg {
    flex-shrink: 0;
    color: var(--blue-accent);
    opacity: 0.8;
}

.disclaimer-header strong {
    font-size: 13px;
    font-weight: 700;
    letter-spacing: 0.2px;
}

.planner-disclaimer p {
    font-size: 11.5px;
    line-height: 1.5;
    color: var(--text-secondary);
    margin: 0;
}

@media (max-width: 768px) {
    .planner-disclaimer {
        margin: 12px 20px;
        padding: 14px;
    }
}

--- FIN FICHIER ---

--- DÉBUT FICHIER : templates\about.html ---
--- POSITION : C:\Users\Amédée\Documents\linia-mobile\templates\about.html ---

<!DOCTYPE html>
<html lang="{{ current_lang }}">

<head>
    {% include 'seo_head.html' %}
</head>

<body>
    {% set lang_prefix = '' if current_lang == 'fr' else '/' ~ current_lang %}
    <div class="about-page">
        <nav class="about-nav">
            <a href="{{ (lang_prefix ~ '/') if lang_prefix else '/' }}" class="nav-brand"><span
                    class="highlight">Linia</span></a>
            <div style="flex-grow: 1;"></div>
            <a href="{{ (lang_prefix ~ '/') if lang_prefix else '/' }}" class="nav-link" data-i18n="return_home"
                style="margin-left: 0;">← Retour à l'accueil</a>
        </nav>
        <div class="about-content">
            <h1 data-i18n="about_header">À propos de Linia : Votre comparateur de bus</h1>
            <p class="about-subtitle" data-i18n="about_intro">
                Linia est un outil de visualisation de données de transport public pour les lignes de bus longue
                distance.
            </p>
            <div class="about-section">
                <h2 data-i18n="about_networks">Visualisation des réseaux</h2>
                <p data-i18n="about_networks_desc">
                    L'application agrège les données de deux opérateurs : Flixbus
                    et BlaBlaCar Bus. La recherche permet d'afficher les lignes desservant un arrêt spécifique.
                </p>
            </div>
            <div class="about-section">
                <h2 data-i18n="about_planning">Planification par étapes</h2>
                <p data-i18n="about_planning_desc">
                    Le planificateur permet de construire un itinéraire séquentiel. Lors de l'ajout d'une ville,
                    une liste de destinations directement connectées est générée pour permettre la sélection de l'étape
                    suivante.
                </p>
            </div>
            <div class="about-section">
                <h2 data-i18n="about_export">Exportation des données</h2>
                <p data-i18n="about_export_desc">
                    Les itinéraires créés peuvent être exportés au format PDF. Ce document contient le rappel des étapes
                    et une capture de la carte associée au trajet.
                </p>
            </div>
            <div class="about-section">
                <h2 data-i18n="faq_title">FAQ</h2>
                <div style="display: grid; gap: 10px; margin-top: 10px;">
                    <details class="faq-item"
                        style="border: 1px solid var(--border-light); border-radius: 12px; padding: 12px 14px; background: rgba(255,255,255,0.03);">
                        <summary style="cursor: pointer; font-weight: 700;" data-i18n="faq_free_q">Linia est-il gratuit ?</summary>
                        <div style="margin-top: 8px; opacity: 0.85; line-height: 1.6;" data-i18n="faq_free_a">
                            Oui, l'outil est entièrement gratuit et sans publicité.
                        </div>
                    </details>
                    <details class="faq-item"
                        style="border: 1px solid var(--border-light); border-radius: 12px; padding: 12px 14px; background: rgba(255,255,255,0.03);">
                        <summary style="cursor: pointer; font-weight: 700;" data-i18n="faq_countries_q">Quels sont les pays couverts ?</summary>
                        <div style="margin-top: 8px; opacity: 0.85; line-height: 1.6;" data-i18n="faq_countries_a">
                            Linia couvre principalement l'Europe : France, Allemagne, Espagne, Italie, Benelux, et d'autres pays européens desservis par FlixBus et BlaBlaCar Bus.
                        </div>
                    </details>
                    <details class="faq-item"
                        style="border: 1px solid var(--border-light); border-radius: 12px; padding: 12px 14px; background: rgba(255,255,255,0.03);">
                        <summary style="cursor: pointer; font-weight: 700;" data-i18n="faq_update_q">À quelle fréquence les données sont-elles mises à jour ?</summary>
                        <div style="margin-top: 8px; opacity: 0.85; line-height: 1.6;" data-i18n="faq_update_a">
                            Les données GTFS sont mises à jour le premier jour de chaque mois.
                        </div>
                    </details>
                    <details class="faq-item"
                        style="border: 1px solid var(--border-light); border-radius: 12px; padding: 12px 14px; background: rgba(255,255,255,0.03);">
                        <summary style="cursor: pointer; font-weight: 700;" data-i18n="faq_report_q">Comment signaler une erreur ou proposer une amélioration ?</summary>
                        <div style="margin-top: 8px; opacity: 0.85; line-height: 1.6;" data-i18n="faq_report_a">
                            Vous pouvez ouvrir une issue sur le dépôt GitHub du projet ou contacter le développeur via contact@liniabus.eu
                        </div>
                    </details>
                </div>
            </div>
            <div class="download-card">
                <h3 data-i18n="data_sources">Sources de données (GTFS)</h3>
                <p data-i18n="data_sources_desc">
                    Les données sont issues des flux GTFS officiels disponibles sur transport.data.gouv.fr.
                    Linia effectue une unification de ces flux pour permettre une consultation centralisée.
                </p>
                <a href="{{ url_for('download_unified_gtfs') }}" class="linia-btn-premium" download
                    style="margin-top: 20px; width: 100%;">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                    <span data-i18n="download_gtfs">Télécharger le GTFS Unifié (.zip)</span>
                </a>
            </div>
            <div class="about-section disclaimer-section"
                style="margin-top: 40px; border-top: 1px solid var(--border-light); padding-top: 20px;">
                <h2 data-i18n="disclaimer_title">Note d'information</h2>
                <p data-i18n="disclaimer_text" style="font-size: 14px; opacity: 0.8; line-height: 1.6;"></p>
            </div>
        </div>
        <footer class="app-footer">
            <p style="font-size: 11px; margin-bottom: 5px; pointer-events: auto;"><a
                    href="{{ (lang_prefix ~ '/legal') if lang_prefix else '/legal' }}" data-i18n="nav_legal"
                    style="color: inherit; text-decoration: none; opacity: 0.6;">Mentions Légales</a></p>
            <p data-i18n="footer_signature">"Страказа жывая"</p>
            <div class="color-bar-signature"></div>
        </footer>
        <nav class="bottom-nav">
            <a href="{{ (lang_prefix ~ '/') if lang_prefix else '/' }}" class="bottom-nav-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
                <span data-i18n="nav_home">Accueil</span>
            </a>
            <a href="{{ (lang_prefix ~ '/planner') if lang_prefix else '/planner' }}" class="bottom-nav-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="6" cy="19" r="3"></circle>
                    <path d="M9 19h8.5a3.5 3.5 0 1 0 0-7h-11a3.5 3.5 0 1 1 0-7H15"></path>
                    <circle cx="18" cy="5" r="3"></circle>
                </svg>
                <span data-i18n="nav_itinerary">Itinéraire</span>
            </a>
            <a href="{{ (lang_prefix ~ '/about') if lang_prefix else '/about' }}" class="bottom-nav-item active">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="16" x2="12" y2="12"></line>
                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                </svg>
                <span data-i18n="nav_info">Info</span>
            </a>
        </nav>
    </div>
</body>

</html>

--- FIN FICHIER ---

--- DÉBUT FICHIER : templates\hreflang.html ---
--- POSITION : C:\Users\Amédée\Documents\linia-mobile\templates\hreflang.html ---

{% if hreflang_urls %}
    {% for code, url in hreflang_urls.items() %}
        {% if code == 'x-default' %}
<link rel="alternate" hreflang="x-default" href="{{ url }}">
        {% else %}
<link rel="alternate" hreflang="{{ code }}" href="{{ url }}">
        {% endif %}
    {% endfor %}
{% endif %}



--- FIN FICHIER ---

--- DÉBUT FICHIER : templates\landing.html ---
--- POSITION : C:\Users\Amédée\Documents\linia-mobile\templates\landing.html ---

<!DOCTYPE html>
<html lang="{{ current_lang }}">

<head>
    {% include 'seo_head.html' %}
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
</head>

<body>
    {% set lang_prefix = '' if current_lang == 'fr' else '/' ~ current_lang %}
    <div class="landing-page">
        <div id="landingMap" class="landing-map-bg"></div>
        <div class="landing-map-overlay"></div>
        <div class="landing-content">
            <div class="landing-text-block">
                <div class="welcome-line">
                    <span class="cycling-text" id="cyclingText" data-i18n="welcome">Bienvenue sur</span>
                </div>
                <h1 class="brand-name"><span class="highlight">Linia</span></h1>
            </div>
            <div class="landing-search-container">
                <div class="landing-search-wrapper">
                    <button class="lang-switcher-btn" id="langSwitcher" title="Changer la langue">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="2" y1="12" x2="22" y2="12"></line>
                            <path
                                d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z">
                            </path>
                        </svg>
                    </button>
                    <input type="text" class="landing-search-bar" id="landingSearchInput"
                        placeholder="D'où voulez vous partir ?" data-i18n-placeholder="search_placeholder"
                        autocomplete="off">
                    <svg class="landing-search-icon" id="landingSearchIcon" width="20" height="20" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="11" cy="11" r="8"></circle>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                    </svg>
                    <div class="spinner landing-search-spinner" id="landingSearchSpinner" style="display:none;"></div>
                </div>
                <div class="landing-suggestions" id="landingSuggestions"></div>
            </div>
            <div class="landing-actions">
                <a href="{{ (lang_prefix ~ '/planner') if lang_prefix else '/planner' }}"
                    class="planner-launch-btn landing-action-btn linia-btn-premium">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="10" r="3"></circle>
                        <path d="M12 21.7C17.3 17 20 13 20 10a8 8 0 1 0-16 0c0 3 2.7 7 8 11.7z"></path>
                    </svg>
                    <span data-i18n="btn_planner">Créer un itinéraire</span>
                </a>
                <a href="{{ (lang_prefix ~ '/about') if lang_prefix else '/about' }}"
                    class="how-it-works-btn landing-action-btn linia-btn-premium">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="12" y1="16" x2="12" y2="12"></line>
                        <line x1="12" y1="8" x2="12.01" y2="8"></line>
                    </svg>
                    <span data-i18n="btn_how">Fonctionnement de l'application</span>
                </a>
            </div>
            <div class="mobile-landing-extras">
                <div class="mobile-section-header">
                    <h3 data-i18n="recent_searches">Recherches récentes</h3>
                </div>
                <div class="mobile-recents-list" id="recentSearchesList">
                </div>
            </div>
            <nav class="bottom-nav">
                <a href="{{ (lang_prefix ~ '/') if lang_prefix else '/' }}" class="bottom-nav-item active">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                    </svg>
                    <span data-i18n="nav_home">Accueil</span>
                </a>
                <a href="{{ (lang_prefix ~ '/planner') if lang_prefix else '/planner' }}" class="bottom-nav-item">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="6" cy="19" r="3"></circle>
                        <path d="M9 19h8.5a3.5 3.5 0 1 0 0-7h-11a3.5 3.5 0 1 1 0-7H15"></path>
                        <circle cx="18" cy="5" r="3"></circle>
                    </svg>
                    <span data-i18n="nav_itinerary">Itinéraire</span>
                </a>
                <a href="{{ (lang_prefix ~ '/about') if lang_prefix else '/about' }}" class="bottom-nav-item">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="12" y1="16" x2="12" y2="12"></line>
                        <line x1="12" y1="8" x2="12.01" y2="8"></line>
                    </svg>
                    <span data-i18n="nav_info">Info</span>
                </a>
            </nav>
        </div>
    </div>
    <footer
        style="position: absolute; bottom: 0; left: 0; right: 0; padding: 24px; text-align: center; pointer-events: none; z-index: 10;">
        <div class="landing-disclaimer"
            style="max-width: 600px; margin: 0 auto 12px; font-size: 11px; opacity: 0.6; pointer-events: auto;">
            <p data-i18n="disclaimer_text"></p>
        </div>
        <p style="font-size: 10px; margin-bottom: 8px; pointer-events: auto;"><a
                href="{{ (lang_prefix ~ '/legal') if lang_prefix else '/legal' }}" data-i18n="nav_legal"
                style="color: inherit; text-decoration: none; opacity: 0.5;">Mentions Légales</a></p>
        <p data-i18n="footer_signature">"Страказа жывая"</p>
        <div class="color-bar-signature"></div>
    </footer>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const cities = [
                { name: "'s-Hertogenbosch", center: [51.69917, 5.30417] },
                { name: "A Coruña", center: [43.37135, -8.396] },
                { name: "Aachen", center: [50.77664, 6.08342] },
                { name: "Aalborg", center: [57.048, 9.9187] },
                { name: "Aberdeen", center: [57.14369, -2.09814] },
                { name: "Acilia-Castel Fusano-Ostia Antica", center: [41.76337, 12.33078] },
                { name: "Adana", center: [36.98615, 35.32531] },
                { name: "Adapazarı", center: [40.78056, 30.40333] },
                { name: "Adıyaman", center: [37.76441, 38.27629] },
                { name: "Afyonkarahisar", center: [38.75667, 30.54333] },
                { name: "Aix-en-Provence", center: [43.5283, 5.44973] },
                { name: "Aksaray", center: [38.37255, 34.02537] },
                { name: "Alanya", center: [36.54375, 31.99982] },
                { name: "Albacete", center: [38.99424, -1.85643] },
                { name: "Alcalá de Henares", center: [40.48205, -3.35996] },
                { name: "Alchevsk", center: [48.46893, 38.81669] },
                { name: "Alcobendas", center: [40.54746, -3.64197] },
                { name: "Alcorcón", center: [40.34582, -3.82487] },
                { name: "Algeciras", center: [36.13326, -5.45051] },
                { name: "Alicante", center: [38.34517, -0.48149] },
                { name: "Almere Stad", center: [52.37025, 5.21413] },
                { name: "Almería", center: [36.83814, -2.45974] },
                { name: "Altona", center: [53.55, 9.93333] },
                { name: "Amadora", center: [38.75382, -9.23083] },
                { name: "Amasya", center: [40.65333, 35.83306] },
                { name: "Amersfoort", center: [52.155, 5.3875] },
                { name: "Amiens", center: [49.9, 2.3] },
                { name: "Amsterdam", center: [52.37403, 4.88969] },
                { name: "Anderlecht", center: [50.83619, 4.31454] },
                { name: "Angers", center: [47.47156, -0.55202] },
                { name: "Ankara", center: [39.91987, 32.85427] },
                { name: "Antakya", center: [36.20655, 36.15722] },
                { name: "Antalya", center: [36.90812, 30.69556] },
                { name: "Antwerpen", center: [51.22047, 4.40026] },
                { name: "Apeldoorn", center: [52.21, 5.96944] },
                { name: "Arad", center: [46.18333, 21.31667] },
                { name: "Archway", center: [51.56733, -0.13415] },
                { name: "Arezzo", center: [43.46276, 11.88068] },
                { name: "Arganzuela", center: [40.40021, -3.69618] },
                { name: "Argenteuil", center: [48.94788, 2.24744] },
                { name: "Arnavutköy", center: [41.18355, 28.7402] },
                { name: "Arnhem", center: [51.98, 5.91111] },
                { name: "Ataşehir", center: [40.9833, 29.1167] },
                { name: "Athens", center: [37.98376, 23.72784] },
                { name: "Augsburg", center: [48.37154, 10.89851] },
                { name: "Aydın", center: [37.84501, 27.83963] },
                { name: "Ağrı", center: [39.71467, 43.04015] },
                { name: "Bacău", center: [46.56718, 26.91384] },
                { name: "Badajoz", center: [38.87789, -6.97061] },
                { name: "Badalona", center: [41.45004, 2.24741] },
                { name: "Bahçelievler", center: [41.00231, 28.8598] },
                { name: "Baia Mare", center: [47.65729, 23.56808] },
                { name: "Balıkesir", center: [39.64917, 27.88611] },
                { name: "Bandırma", center: [40.35222, 27.97667] },
                { name: "Banja Luka", center: [44.77842, 17.19386] },
                { name: "Barakaldo", center: [43.29639, -2.98813] },
                { name: "Barcelona", center: [41.38879, 2.15899] },
                { name: "Bari", center: [41.12066, 16.86982] },
                { name: "Basel", center: [47.55839, 7.57327] },
                { name: "Basildon", center: [51.56844, 0.45782] },
                { name: "Basingstoke", center: [51.26249, -1.08708] },
                { name: "Bath", center: [51.3751, -2.36172] },
                { name: "Batikent", center: [39.96833, 32.73083] },
                { name: "Batman", center: [37.88738, 41.13221] },
                { name: "Bağcılar", center: [41.03903, 28.85671] },
                { name: "Başakşehir", center: [41.106, 28.791] },
                { name: "Bedford", center: [52.13459, -0.46632] },
                { name: "Belfast", center: [54.59682, -5.92541] },
                { name: "Belgrade", center: [44.80401, 20.46513] },
                { name: "Bemowo", center: [52.2546, 20.90844] },
                { name: "Bender", center: [46.83156, 29.47769] },
                { name: "Berdyansk", center: [46.75578, 36.78815] },
                { name: "Bergamo", center: [45.69601, 9.66721] },
                { name: "Bergedorf", center: [53.48462, 10.22904] },
                { name: "Bergen", center: [60.39299, 5.32415] },
                { name: "Bergisch Gladbach", center: [50.9856, 7.13298] },
                { name: "Berlin", center: [52.52437, 13.41053] },
                { name: "Bern", center: [46.94809, 7.44744] },
                { name: "Besançon", center: [47.24878, 6.01815] },
                { name: "Bexley", center: [51.44162, 0.14866] },
                { name: "Beylikdüzü", center: [40.982, 28.6399] },
                { name: "Białołeka", center: [52.32127, 20.97204] },
                { name: "Białystok", center: [53.13333, 23.16433] },
                { name: "Bielany", center: [52.29242, 20.93531] },
                { name: "Bielefeld", center: [52.03333, 8.53333] },
                { name: "Bielsko-Biala", center: [49.82245, 19.04686] },
                { name: "Bila Tserkva", center: [49.8004, 30.12851] },
                { name: "Bilbao", center: [43.26271, -2.92528] },
                { name: "Bingöl", center: [38.88472, 40.49389] },
                { name: "Birkenhead", center: [53.39337, -3.01479] },
                { name: "Birmingham", center: [52.48142, -1.89983] },
                { name: "Blackburn", center: [53.75, -2.48333] },
                { name: "Blackpool", center: [53.81667, -3.05] },
                { name: "Bochum", center: [51.48165, 7.21648] },
                { name: "Bologna", center: [44.49381, 11.33875] },
                { name: "Bolton", center: [53.58333, -2.43333] },
                { name: "Bolu", center: [40.73583, 31.60611] },
                { name: "Bolzano", center: [46.49067, 11.33982] },
                { name: "Bonn", center: [50.73438, 7.09549] },
                { name: "Bordeaux", center: [44.84044, -0.5805] },
                { name: "Bottrop", center: [51.52392, 6.9285] },
                { name: "Boulogne-Billancourt", center: [48.83545, 2.24128] },
                { name: "Bournemouth", center: [50.72048, -1.8795] },
                { name: "Bradford", center: [53.79391, -1.75206] },
                { name: "Braga", center: [41.55032, -8.42005] },
                { name: "Bratislava", center: [48.14816, 17.10674] },
                { name: "Braunschweig", center: [52.26594, 10.52673] },
                { name: "Braşov", center: [45.64861, 25.60613] },
                { name: "Breda", center: [51.58656, 4.77596] },
                { name: "Bremen", center: [53.07582, 8.80717] },
                { name: "Bremerhaven", center: [53.55357, 8.57553] },
                { name: "Brent", center: [51.55306, -0.3023] },
                { name: "Brescia", center: [45.53558, 10.21472] },
                { name: "Brest", center: [48.39029, -4.48628] },
                { name: "Brighton", center: [50.82838, -0.13947] },
                { name: "Bristol", center: [51.45523, -2.59665] },
                { name: "Brno", center: [49.19522, 16.60796] },
                { name: "Brovary", center: [50.51809, 30.80671] },
                { name: "Brugge", center: [51.20892, 3.22424] },
                { name: "Brussels", center: [50.85045, 4.34878] },
                { name: "Brăila", center: [45.27152, 27.97429] },
                { name: "Bucharest", center: [44.43225, 26.10626] },
                { name: "Budapest", center: [47.49835, 19.04045] },
                { name: "Budapest III. kerület", center: [47.54157, 19.04501] },
                { name: "Budapest XI. kerület", center: [47.47603, 19.03605] },
                { name: "Budapest XIII. kerület", center: [47.52978, 19.08068] },
                { name: "Burgas", center: [42.50606, 27.46781] },
                { name: "Burgos", center: [42.34106, -3.70184] },
                { name: "Burnley", center: [53.8, -2.23333] },
                { name: "Bursa", center: [40.19559, 29.06013] },
                { name: "Burton upon Trent", center: [52.80728, -1.64263] },
                { name: "Buzău", center: [45.15, 26.83333] },
                { name: "Bydgoszcz", center: [53.1235, 18.00762] },
                { name: "Bytom", center: [50.34802, 18.93282] },
                { name: "Büyükçekmece", center: [41.02072, 28.58502] },
                { name: "Bălţi", center: [47.76314, 27.92932] },
                { name: "Cadiz", center: [36.52672, -6.2891] },
                { name: "Caen", center: [49.18585, -0.35912] },
                { name: "Cagliari", center: [39.23054, 9.11917] },
                { name: "Cambridge", center: [52.2, 0.11667] },
                { name: "Carabanchel", center: [40.39094, -3.7242] },
                { name: "Cardiff", center: [51.48, -3.18] },
                { name: "Cartagena", center: [37.60197, -0.98397] },
                { name: "Castelló de la Plana", center: [39.98567, -0.04935] },
                { name: "Catania", center: [37.49223, 15.07041] },
                { name: "Cergy-Pontoise", center: [49.03894, 2.07805] },
                { name: "Chamartín", center: [40.46206, -3.6766] },
                { name: "Chamberí", center: [40.43404, -3.70379] },
                { name: "Charleroi", center: [50.41136, 4.44448] },
                { name: "Charlottenburg", center: [52.51667, 13.28333] },
                { name: "Chelmsford", center: [51.73575, 0.46958] },
                { name: "Cheltenham", center: [51.90006, -2.07972] },
                { name: "Chemnitz", center: [50.8357, 12.92922] },
                { name: "Cherkasy", center: [49.44452, 32.05738] },
                { name: "Chernihiv", center: [51.50541, 31.28656] },
                { name: "Chernivtsi", center: [48.29045, 25.93241] },
                { name: "Chesterfield", center: [53.25, -1.41667] },
                { name: "Chisinau", center: [47.00902, 28.85938] },
                { name: "Chorzów", center: [50.30582, 18.9742] },
                { name: "City of Westminster", center: [51.4975, -0.1357] },
                { name: "Ciudad Lineal", center: [40.44505, -3.65132] },
                { name: "Ciutat Vella", center: [41.38022, 2.17319] },
                { name: "Clermont-Ferrand", center: [45.77969, 3.08682] },
                { name: "Cluj-Napoca", center: [46.76667, 23.6] },
                { name: "Coimbra", center: [40.20564, -8.41955] },
                { name: "Colchester", center: [51.88921, 0.90421] },
                { name: "Constanţa", center: [44.18073, 28.63432] },
                { name: "Copenhagen", center: [55.67594, 12.56553] },
                { name: "Cork", center: [51.89797, -8.47061] },
                { name: "Coventry", center: [52.40656, -1.51217] },
                { name: "Craiova", center: [44.31667, 23.8] },
                { name: "Crawley", center: [51.11303, -0.18312] },
                { name: "Croydon", center: [51.38333, -0.1] },
                { name: "Częstochowa", center: [50.79646, 19.12409] },
                { name: "Córdoba", center: [37.89155, -4.77275] },
                { name: "Dagenham", center: [51.55, 0.16667] },
                { name: "Darmstadt", center: [49.87167, 8.65027] },
                { name: "Debrecen", center: [47.53167, 21.62444] },
                { name: "Delicias", center: [41.64928, -0.90757] },
                { name: "Denizli", center: [37.77417, 29.0875] },
                { name: "Derby", center: [52.92277, -1.47663] },
                { name: "Derince", center: [40.75694, 29.81472] },
                { name: "Dijon", center: [47.31667, 5.01667] },
                { name: "Diyarbakır", center: [37.91363, 40.21721] },
                { name: "Dnipro", center: [48.46664, 35.04066] },
                { name: "Donaustadt", center: [48.2333, 16.46002] },
                { name: "Doncaster", center: [53.52285, -1.13116] },
                { name: "Donetsk", center: [48.023, 37.80224] },
                { name: "Donostia / San Sebastián", center: [43.31283, -1.97499] },
                { name: "Dordrecht", center: [51.81, 4.67361] },
                { name: "Dortmund", center: [51.51494, 7.466] },
                { name: "Dos Hermanas", center: [37.28287, -5.92088] },
                { name: "Drammen", center: [59.74389, 10.20449] },
                { name: "Dresden", center: [51.05089, 13.73832] },
                { name: "Dublin", center: [53.33306, -6.24889] },
                { name: "Dudley", center: [52.5, -2.08333] },
                { name: "Duisburg", center: [51.43247, 6.76516] },
                { name: "Dundee", center: [56.46913, -2.97489] },
                { name: "Durrës", center: [41.32355, 19.45469] },
                { name: "Düsseldorf", center: [51.22172, 6.77616] },
                { name: "Düzce", center: [40.83889, 31.16389] },
                { name: "Dąbrowa Górnicza", center: [50.33394, 19.20479] },
                { name: "East Helsinki", center: [60.21043, 25.08289] },
                { name: "Eastbourne", center: [50.76871, 0.28453] },
                { name: "Edinburgh", center: [55.95206, -3.19648] },
                { name: "Edirne", center: [41.67719, 26.55597] },
                { name: "Eimsbüttel", center: [53.57416, 9.95679] },
                { name: "Eindhoven", center: [51.44083, 5.47778] },
                { name: "Eixample", center: [41.38896, 2.16179] },
                { name: "Elazığ", center: [38.67431, 39.22321] },
                { name: "Elbasan", center: [41.1125, 20.08222] },
                { name: "Elbląg", center: [54.1522, 19.40884] },
                { name: "Elche", center: [38.26218, -0.70107] },
                { name: "Enfield Town", center: [51.65147, -0.08497] },
                { name: "Enschede", center: [52.21833, 6.89583] },
                { name: "Erfurt", center: [50.9787, 11.03283] },
                { name: "Erlangen", center: [49.59099, 11.00783] },
                { name: "Erzincan", center: [39.73919, 39.49015] },
                { name: "Erzurum", center: [39.90861, 41.27694] },
                { name: "Esenler", center: [41.0435, 28.87619] },
                { name: "Esenyurt", center: [41.02697, 28.67732] },
                { name: "Eskişehir", center: [39.77667, 30.52056] },
                { name: "Espoo", center: [60.2052, 24.6522] },
                { name: "Essen", center: [51.45657, 7.01228] },
                { name: "Exeter", center: [50.7236, -3.52751] },
                { name: "Favoriten", center: [48.16116, 16.38233] },
                { name: "Ferrara", center: [44.83804, 11.62057] },
                { name: "Florence", center: [43.77925, 11.24626] },
                { name: "Floridsdorf", center: [48.25, 16.4] },
                { name: "Foggia", center: [41.45845, 15.55188] },
                { name: "Forlì", center: [44.22177, 12.04144] },
                { name: "Frankfurt am Main", center: [50.11552, 8.68417] },
                { name: "Freiburg", center: [47.9959, 7.85222] },
                { name: "Friedrichshain", center: [52.51559, 13.45482] },
                { name: "Fuencarral", center: [40.5, -3.68333] },
                { name: "Fuencarral-El Pardo", center: [40.4984, -3.7314] },
                { name: "Fuenlabrada", center: [40.28419, -3.79415] },
                { name: "Funchal", center: [32.66568, -16.92547] },
                { name: "Fürth", center: [49.47593, 10.98856] },
                { name: "Galaţi", center: [45.43687, 28.05028] },
                { name: "Gasteiz / Vitoria", center: [42.84998, -2.67268] },
                { name: "Gaziantep", center: [37.05944, 37.3825] },
                { name: "Gdańsk", center: [54.35227, 18.64912] },
                { name: "Gdynia", center: [54.51889, 18.53188] },
                { name: "Gebze", center: [40.80276, 29.43068] },
                { name: "Gelsenkirchen", center: [51.50508, 7.09654] },
                { name: "Genoa", center: [44.40478, 8.94439] },
                { name: "Gent", center: [51.05, 3.71667] },
                { name: "Genève", center: [46.20222, 6.14569] },
                { name: "Gera", center: [50.88029, 12.08187] },
                { name: "Getafe", center: [40.30571, -3.73295] },
                { name: "Gijón", center: [43.53573, -5.66152] },
                { name: "Gillingham", center: [51.38914, 0.54863] },
                { name: "Giresun", center: [40.91698, 38.38741] },
                { name: "Girona", center: [41.98311, 2.82493] },
                { name: "Glasgow", center: [55.86515, -4.25763] },
                { name: "Gliwice", center: [50.29761, 18.67658] },
                { name: "Gloucester", center: [51.86568, -2.2431] },
                { name: "Gorzów Wielkopolski", center: [52.73679, 15.22878] },
                { name: "Granada", center: [37.18817, -3.60667] },
                { name: "Graz", center: [47.06667, 15.45] },
                { name: "Grenoble", center: [45.17869, 5.71479] },
                { name: "Groningen", center: [53.21917, 6.56667] },
                { name: "Gràcia", center: [41.40237, 2.15641] },
                { name: "Győr", center: [47.68333, 17.63512] },
                { name: "Göteborg", center: [57.70716, 11.96679] },
                { name: "Göttingen", center: [51.53443, 9.93228] },
                { name: "Haarlem", center: [52.38084, 4.63683] },
                { name: "Hagen", center: [51.36081, 7.47168] },
                { name: "Halle (Saale)", center: [51.48158, 11.97947] },
                { name: "Hamburg", center: [53.55073, 9.99302] },
                { name: "Hamburg-Mitte", center: [53.55, 10.01667] },
                { name: "Hamburg-Nord", center: [53.58935, 9.984] },
                { name: "Hamm", center: [51.68033, 7.82089] },
                { name: "Hannover", center: [52.37052, 9.73322] },
                { name: "Harburg", center: [53.46057, 9.98388] },
                { name: "Harrow", center: [51.57835, -0.33208] },
                { name: "Hastings", center: [50.85568, 0.58009] },
                { name: "Heidelberg", center: [49.40768, 8.69079] },
                { name: "Heilbronn", center: [49.13995, 9.22054] },
                { name: "Helsingborg", center: [56.04673, 12.69437] },
                { name: "Helsinki", center: [60.16952, 24.93545] },
                { name: "Hengelo", center: [52.26583, 6.79306] },
                { name: "Herne", center: [51.5388, 7.22572] },
                { name: "High Wycombe", center: [51.62907, -0.74934] },
                { name: "Hildesheim", center: [52.15077, 9.95112] },
                { name: "Hoofddorp", center: [52.3025, 4.68889] },
                { name: "Horlivka", center: [48.33576, 38.05325] },
                { name: "Horta-Guinardó", center: [41.41849, 2.1677] },
                { name: "Hortaleza", center: [40.47444, -3.6411] },
                { name: "Huddersfield", center: [53.64904, -1.78416] },
                { name: "Huelva", center: [37.26638, -6.94004] },
                { name: "Iaşi", center: [47.16667, 27.6] },
                { name: "Ilford", center: [51.55765, 0.07278] },
                { name: "Ingolstadt", center: [48.76508, 11.42372] },
                { name: "Innsbruck", center: [47.26266, 11.39454] },
                { name: "Ipswich", center: [52.05917, 1.15545] },
                { name: "Irákleion", center: [35.32787, 25.14341] },
                { name: "Islington", center: [51.53622, -0.10304] },
                { name: "Isparta", center: [37.76444, 30.55222] },
                { name: "Istanbul", center: [41.01384, 28.94966] },
                { name: "Ivano-Frankivsk", center: [48.92312, 24.71248] },
                { name: "Iğdır", center: [39.92371, 44.045] },
                { name: "Jaén", center: [37.76922, -3.79028] },
                { name: "Jena", center: [50.92878, 11.5899] },
                { name: "Jerez de la Frontera", center: [36.68645, -6.13606] },
                { name: "Jyväskylä", center: [62.24147, 25.72088] },
                { name: "Jönköping", center: [57.78145, 14.15618] },
                { name: "Kahramanmaraş", center: [37.5847, 36.92641] },
                { name: "Kalisz", center: [51.76109, 18.09102] },
                { name: "Kallithéa", center: [37.95, 23.7] },
                { name: "Kamyanske", center: [48.51716, 34.60617] },
                { name: "Karabağlar", center: [38.382, 27.132] },
                { name: "Karabük", center: [41.20488, 32.62768] },
                { name: "Karaman", center: [37.18111, 33.215] },
                { name: "Karlsruhe", center: [49.00937, 8.40444] },
                { name: "Kassel", center: [51.31667, 9.5] },
                { name: "Kastamonu", center: [41.37805, 33.77528] },
                { name: "Katowice", center: [50.25841, 19.02754] },
                { name: "Kaunas", center: [54.90272, 23.90961] },
                { name: "Kayseri", center: [38.73222, 35.48528] },
                { name: "Kecskemét", center: [46.90618, 19.69128] },
                { name: "Kerch", center: [45.35675, 36.47542] },
                { name: "Kharkiv", center: [49.98177, 36.25475] },
                { name: "Kherson", center: [46.63695, 32.61458] },
                { name: "Khmelnytskyi", center: [49.41835, 26.97936] },
                { name: "Kiel", center: [54.32133, 10.13489] },
                { name: "Kielce", center: [50.87033, 20.62752] },
                { name: "Kilis", center: [36.71611, 37.115] },
                { name: "Kingston upon Hull", center: [53.7446, -0.33525] },
                { name: "Klagenfurt am Wörthersee", center: [46.62472, 14.30528] },
                { name: "Klaipėda", center: [55.7068, 21.13912] },
                { name: "Koblenz", center: [50.35357, 7.57883] },
                { name: "Konya", center: [37.87135, 32.48464] },
                { name: "Korabel", center: [46.61884, 32.5796] },
                { name: "Koszalin", center: [54.19438, 16.17222] },
                { name: "Košice", center: [48.71395, 21.25808] },
                { name: "Kragujevac", center: [44.01667, 20.91667] },
                { name: "Kraków", center: [50.06143, 19.93658] },
                { name: "Kramatorsk", center: [48.73049, 37.58793] },
                { name: "Krefeld", center: [51.33645, 6.55381] },
                { name: "Kremenchuk", center: [49.06253, 33.40484] },
                { name: "Kreuzberg", center: [52.49973, 13.40338] },
                { name: "Kristiansand", center: [58.14671, 7.9956] },
                { name: "Kropyvnytskyy", center: [48.50834, 32.26618] },
                { name: "Kryvyy Rih", center: [47.90572, 33.39404] },
                { name: "Kuopio", center: [62.89238, 27.67703] },
                { name: "Kyiv", center: [50.45466, 30.5238] },
                { name: "Köln", center: [50.93333, 6.95] },
                { name: "Kütahya", center: [39.42417, 29.98333] },
                { name: "Kırıkkale", center: [39.84528, 33.50639] },
                { name: "Kırşehir", center: [39.14583, 34.16389] },
                { name: "Kızıltepe", center: [37.18836, 40.57723] },
                { name: "L'Hospitalet de Llobregat", center: [41.35967, 2.10028] },
                { name: "La Laguna", center: [28.4853, -16.32014] },
                { name: "Lahti", center: [60.98267, 25.66151] },
                { name: "Las Palmas de Gran Canaria", center: [28.09973, -15.41343] },
                { name: "Latina", center: [40.38897, -3.74569] },
                { name: "Lausanne", center: [46.516, 6.63282] },
                { name: "Le Havre", center: [49.49346, 0.10785] },
                { name: "Le Mans", center: [48.0021, 0.20251] },
                { name: "Leeds", center: [53.79648, -1.54785] },
                { name: "Leganés", center: [40.32718, -3.7635] },
                { name: "Legnica", center: [51.21006, 16.1619] },
                { name: "Leicester", center: [52.6386, -1.13169] },
                { name: "Leiden", center: [52.15833, 4.49306] },
                { name: "Leipzig", center: [51.33962, 12.37129] },
                { name: "Leuven", center: [50.87959, 4.70093] },
                { name: "Leverkusen", center: [51.0303, 6.98432] },
                { name: "León", center: [42.60003, -5.57032] },
                { name: "Liberec", center: [50.76711, 15.05619] },
                { name: "Lille", center: [50.63297, 3.05858] },
                { name: "Limoges", center: [45.83362, 1.24759] },
                { name: "Lincoln", center: [53.22683, -0.53792] },
                { name: "Linköping", center: [58.41086, 15.62157] },
                { name: "Linz", center: [48.30639, 14.28611] },
                { name: "Lisbon", center: [38.72509, -9.1498] },
                { name: "Liverpool", center: [53.41058, -2.97794] },
                { name: "Livorno", center: [43.54427, 10.32615] },
                { name: "Liège", center: [50.63373, 5.56749] },
                { name: "Ljubljana", center: [46.05108, 14.50513] },
                { name: "Lleida", center: [41.61674, 0.62218] },
                { name: "Logroño", center: [42.46667, -2.45] },
                { name: "London", center: [51.50853, -0.12574] },
                { name: "Lublin", center: [51.25, 22.56667] },
                { name: "Ludwigshafen am Rhein", center: [49.48121, 8.44641] },
                { name: "Luhansk", center: [48.56814, 39.30553] },
                { name: "Luton", center: [51.87967, -0.41748] },
                { name: "Lutsk", center: [50.75784, 25.35024] },
                { name: "Lviv", center: [49.83826, 24.02324] },
                { name: "Lyon", center: [45.74846, 4.84671] },
                { name: "Lyon 03", center: [45.76124, 4.85184] },
                { name: "Lárisa", center: [39.63689, 22.41761] },
                { name: "Lübeck", center: [53.86893, 10.68729] },
                { name: "Maastricht", center: [50.84833, 5.68889] },
                { name: "Madrid", center: [40.4165, -3.70256] },
                { name: "Madrid Centro", center: [40.41831, -3.70275] },
                { name: "Magdeburg", center: [52.12773, 11.62916] },
                { name: "Maidstone", center: [51.26667, 0.51667] },
                { name: "Mainz", center: [49.98419, 8.2791] },
                { name: "Makiivka", center: [48.04782, 37.92576] },
                { name: "Malatya", center: [38.35018, 38.31667] },
                { name: "Malmö", center: [55.60587, 13.00073] },
                { name: "Maltepe", center: [40.93567, 29.15507] },
                { name: "Manchester", center: [53.48095, -2.23743] },
                { name: "Manisa", center: [38.61202, 27.42647] },
                { name: "Mannheim", center: [49.4891, 8.46694] },
                { name: "Mansfield", center: [53.13333, -1.2] },
                { name: "Marbella", center: [36.51543, -4.88583] },
                { name: "Mardin", center: [37.31309, 40.74357] },
                { name: "Marienthal", center: [53.56667, 10.08333] },
                { name: "Mariupol", center: [47.09514, 37.54131] },
                { name: "Marne La Vallée", center: [48.83584, 2.64241] },
                { name: "Marseille", center: [43.29695, 5.38107] },
                { name: "Marzahn", center: [52.54525, 13.56983] },
                { name: "Mataró", center: [41.54211, 2.4445] },
                { name: "Melitopol", center: [46.84735, 35.38196] },
                { name: "Mendip", center: [51.2372, -2.6266] },
                { name: "Merkezefendi", center: [37.80544, 29.04236] },
                { name: "Mersin", center: [36.81196, 34.63886] },
                { name: "Messina", center: [38.19394, 15.55256] },
                { name: "Mestre", center: [45.49167, 12.24538] },
                { name: "Metz", center: [49.11911, 6.17269] },
                { name: "Middlesbrough", center: [54.57623, -1.23483] },
                { name: "Milan", center: [45.46427, 9.18951] },
                { name: "Milton Keynes", center: [52.04172, -0.75583] },
                { name: "Miskolc", center: [48.10306, 20.77806] },
                { name: "Mitte", center: [52.52003, 13.40489] },
                { name: "Modena", center: [44.64783, 10.92539] },
                { name: "Moers", center: [51.45342, 6.6326] },
                { name: "Mokotów", center: [52.1934, 21.03487] },
                { name: "Moncloa-Aravaca", center: [40.43547, -3.7317] },
                { name: "Montpellier", center: [43.61093, 3.87635] },
                { name: "Montreuil", center: [48.86415, 2.44322] },
                { name: "Monza", center: [45.58005, 9.27246] },
                { name: "Moratalaz", center: [40.40742, -3.64935] },
                { name: "Mostar", center: [43.34333, 17.80806] },
                { name: "Mulhouse", center: [47.75205, 7.32866] },
                { name: "Munich", center: [48.13743, 11.57549] },
                { name: "Muratpaşa", center: [36.89157, 30.76498] },
                { name: "Murcia", center: [37.98704, -1.13004] },
                { name: "Mustafakemalpaşa", center: [40.03815, 28.40866] },
                { name: "Mykolayiv", center: [46.97625, 31.99296] },
                { name: "Málaga", center: [36.72016, -4.42034] },
                { name: "Móstoles", center: [40.32234, -3.86496] },
                { name: "Mönchengladbach", center: [51.18539, 6.44172] },
                { name: "Mülheim", center: [51.43218, 6.87967] },
                { name: "Münster", center: [51.96236, 7.62571] },
                { name: "Namur", center: [50.4669, 4.86746] },
                { name: "Nancy", center: [48.68439, 6.18496] },
                { name: "Nantes", center: [47.21725, -1.55336] },
                { name: "Naples", center: [40.85216, 14.26811] },
                { name: "Nazilli", center: [37.91631, 28.32225] },
                { name: "Neue Neustadt", center: [52.15, 11.63333] },
                { name: "Neukölln", center: [52.47719, 13.43126] },
                { name: "Neuss", center: [51.19807, 6.68504] },
                { name: "Newcastle under Lyme", center: [53.0, -2.23333] },
                { name: "Newcastle upon Tyne", center: [54.97328, -1.61396] },
                { name: "Newport", center: [51.58774, -2.99835] },
                { name: "Nice", center: [43.70313, 7.26608] },
                { name: "Nijmegen", center: [51.8425, 5.85278] },
                { name: "Nikopol", center: [47.56826, 34.39126] },
                { name: "Nippes", center: [50.96545, 6.95314] },
                { name: "Niš", center: [43.32472, 21.90333] },
                { name: "Northampton", center: [52.25, -0.88333] },
                { name: "Norwich", center: [52.62783, 1.29834] },
                { name: "Nottingham", center: [52.9536, -1.15047] },
                { name: "Nou Barris", center: [41.44163, 2.17727] },
                { name: "Novara", center: [45.44694, 8.62118] },
                { name: "Novi Sad", center: [45.25167, 19.83694] },
                { name: "Nyíregyháza", center: [47.95539, 21.71671] },
                { name: "Nîmes", center: [43.83665, 4.35788] },
                { name: "Nürnberg", center: [49.45421, 11.07752] },
                { name: "Oberhausen", center: [51.47805, 6.8625] },
                { name: "Odense", center: [55.39594, 10.38831] },
                { name: "Odesa", center: [46.48572, 30.74383] },
                { name: "Offenbach", center: [50.10061, 8.76647] },
                { name: "Oldenburg", center: [53.14118, 8.21467] },
                { name: "Oldham", center: [53.54051, -2.1183] },
                { name: "Olsztyn", center: [53.77995, 20.49416] },
                { name: "Opole", center: [50.67211, 17.92533] },
                { name: "Oradea", center: [47.0458, 21.91833] },
                { name: "Ordu", center: [40.97782, 37.89047] },
                { name: "Orihuela", center: [38.08483, -0.94401] },
                { name: "Orléans", center: [47.90289, 1.90389] },
                { name: "Oslo", center: [59.91273, 10.74609] },
                { name: "Osmaniye", center: [37.07417, 36.24778] },
                { name: "Osnabrück", center: [52.27264, 8.0498] },
                { name: "Ostrava", center: [49.83465, 18.28204] },
                { name: "Ottakring", center: [48.21667, 16.3] },
                { name: "Oulu", center: [65.01236, 25.46816] },
                { name: "Ourense", center: [42.33669, -7.86407] },
                { name: "Oviedo", center: [43.36029, -5.84476] },
                { name: "Oxford", center: [51.75222, -1.25596] },
                { name: "Paderborn", center: [51.71905, 8.75439] },
                { name: "Padova", center: [45.40797, 11.88586] },
                { name: "Palermo", center: [38.1166, 13.3636] },
                { name: "Palma", center: [39.56939, 2.65024] },
                { name: "Pamplona", center: [42.81687, -1.64323] },
                { name: "Paris", center: [48.85341, 2.3488] },
                { name: "Paris 11e Arrondissement", center: [48.85834, 2.37952] },
                { name: "Paris 12e Arrondissement", center: [48.83523, 2.43505] },
                { name: "Paris 13e Arrondissement", center: [48.8262, 2.35986] },
                { name: "Parla", center: [40.23604, -3.76752] },
                { name: "Parma", center: [44.79935, 10.32618] },
                { name: "Pavlohrad", center: [48.53214, 35.86878] },
                { name: "Peristéri", center: [38.01539, 23.69187] },
                { name: "Perpignan", center: [42.69764, 2.89541] },
                { name: "Perugia", center: [43.1122, 12.38878] },
                { name: "Pescara", center: [42.4584, 14.20283] },
                { name: "Peterborough", center: [52.57364, -0.24777] },
                { name: "Petržalka", center: [48.12331, 17.12866] },
                { name: "Pforzheim", center: [48.88436, 8.69892] },
                { name: "Piacenza", center: [45.05242, 9.69342] },
                { name: "Piatra Neamţ", center: [46.91667, 26.33333] },
                { name: "Pilsen", center: [49.74747, 13.37759] },
                { name: "Piraeus", center: [37.94203, 23.64619] },
                { name: "Pisa", center: [43.70853, 10.4036] },
                { name: "Piteşti", center: [44.85, 24.86667] },
                { name: "Pleven", center: [43.41667, 24.61667] },
                { name: "Ploieşti", center: [44.95, 26.01667] },
                { name: "Plovdiv", center: [42.15, 24.75] },
                { name: "Plymouth", center: [50.37153, -4.14305] },
                { name: "Podgorica", center: [42.44124, 19.26309] },
                { name: "Poltava", center: [49.58925, 34.55367] },
                { name: "Poole", center: [50.71429, -1.98458] },
                { name: "Porto", center: [41.14961, -8.61099] },
                { name: "Portsmouth", center: [50.79899, -1.09125] },
                { name: "Porz am Rhein", center: [50.88637, 7.0583] },
                { name: "Potsdam", center: [52.39886, 13.06566] },
                { name: "Poznań", center: [52.40692, 16.92993] },
                { name: "Praga Południe", center: [52.24424, 21.08545] },
                { name: "Prague", center: [50.08804, 14.42076] },
                { name: "Prato", center: [43.8805, 11.09699] },
                { name: "Prenzlauer Berg", center: [52.53878, 13.42443] },
                { name: "Preston", center: [53.76282, -2.70452] },
                { name: "Puente de Vallecas", center: [40.39354, -3.662] },
                { name: "Pátra", center: [38.24444, 21.73444] },
                { name: "Pécs", center: [46.0725, 18.23083] },
                { name: "Płock", center: [52.54682, 19.70638] },
                { name: "Quarto Oggiaro", center: [45.51314, 9.14343] },
                { name: "Queluz", center: [38.75657, -9.25451] },
                { name: "Radom", center: [51.40253, 21.14714] },
                { name: "Reading", center: [51.45625, -0.97113] },
                { name: "Recklinghausen", center: [51.61379, 7.19738] },
                { name: "Regensburg", center: [49.01513, 12.10161] },
                { name: "Reggio Calabria", center: [38.11047, 15.66129] },
                { name: "Reggio nell'Emilia", center: [44.69825, 10.63125] },
                { name: "Reims", center: [49.26526, 4.02853] },
                { name: "Remscheid", center: [51.17983, 7.1925] },
                { name: "Rennes", center: [48.11198, -1.67429] },
                { name: "Retiro", center: [40.41317, -3.68307] },
                { name: "Reus", center: [41.15612, 1.10687] },
                { name: "Reutlingen", center: [48.49144, 9.20427] },
                { name: "Riga", center: [56.946, 24.10589] },
                { name: "Rijeka", center: [45.32673, 14.44241] },
                { name: "Rimini", center: [44.05755, 12.56528] },
                { name: "Rivne", center: [50.62036, 26.23695] },
                { name: "Rize", center: [41.02083, 40.52194] },
                { name: "Rodenkirchen", center: [50.89328, 6.99481] },
                { name: "Rome", center: [41.89193, 12.51133] },
                { name: "Rostock", center: [54.0887, 12.14049] },
                { name: "Rotherham", center: [53.43012, -1.35678] },
                { name: "Rotterdam", center: [51.9225, 4.47917] },
                { name: "Rouen", center: [49.44313, 1.09932] },
                { name: "Ruda Śląska", center: [50.2584, 18.85632] },
                { name: "Ruse", center: [43.84872, 25.9534] },
                { name: "Rybnik", center: [50.09713, 18.54179] },
                { name: "Rzeszów", center: [50.04132, 21.99901] },
                { name: "Saarbrücken", center: [49.23262, 7.00982] },
                { name: "Sabadell", center: [41.54329, 2.10942] },
                { name: "Saint Peters", center: [51.36667, 1.41667] },
                { name: "Saint-Quentin-en-Yvelines", center: [48.77186, 2.01891] },
                { name: "Saint-Étienne", center: [45.43389, 4.39] },
                { name: "Salamanca", center: [40.96882, -5.66388] },
                { name: "Salamanca", center: [40.42972, -3.67975] },
                { name: "Salerno", center: [40.67545, 14.79328] },
                { name: "Salford", center: [53.48771, -2.29042] },
                { name: "Saltivka", center: [50.02207, 36.34901] },
                { name: "Salzburg", center: [47.79941, 13.04399] },
                { name: "Salzgitter", center: [52.15705, 10.4154] },
                { name: "Samandağ", center: [36.08012, 35.97603] },
                { name: "Samsun", center: [41.27976, 36.3361] },
                { name: "San Blas-Canillejas", center: [40.43893, -3.61537] },
                { name: "Sancaktepe", center: [41.00244, 29.23187] },
                { name: "Sant Andreu", center: [41.43541, 2.18982] },
                { name: "Sant Martí", center: [41.41814, 2.19933] },
                { name: "Santa Coloma de Gramenet", center: [41.45152, 2.2081] },
                { name: "Santa Cruz de Tenerife", center: [28.46824, -16.25462] },
                { name: "Santander", center: [43.46472, -3.80444] },
                { name: "Sants-Montjuïc", center: [41.37263, 2.1546] },
                { name: "Sarajevo", center: [43.84864, 18.35644] },
                { name: "Sarrià-Sant Gervasi", center: [41.40104, 2.1394] },
                { name: "Satu Mare", center: [47.79926, 22.86255] },
                { name: "Schaerbeek", center: [50.86935, 4.37737] },
                { name: "Schöneberg", center: [52.49801, 13.3443] },
                { name: "Sector 1", center: [44.49239, 26.04831] },
                { name: "Sector 2", center: [44.4528, 26.13321] },
                { name: "Sector 3", center: [44.4234, 26.16874] },
                { name: "Sector 4", center: [44.37571, 26.12085] },
                { name: "Sector 5", center: [44.38808, 26.07144] },
                { name: "Sector 6", center: [44.43579, 26.01649] },
                { name: "Setúbal", center: [38.5244, -8.8882] },
                { name: "Sevastopol", center: [44.60795, 33.52134] },
                { name: "Sevilla", center: [37.38283, -5.97317] },
                { name: "Sheffield", center: [53.38297, -1.4659] },
                { name: "Sibiu", center: [45.8, 24.15] },
                { name: "Siegen", center: [50.87481, 8.02431] },
                { name: "Siirt", center: [37.9293, 41.94134] },
                { name: "Simferopol", center: [44.95719, 34.11079] },
                { name: "Simmering", center: [48.18333, 16.43333] },
                { name: "Siracusa", center: [37.07542, 15.28664] },
                { name: "Sivas", center: [39.74833, 37.01611] },
                { name: "Siverek", center: [37.75503, 39.31667] },
                { name: "Skopje", center: [41.99646, 21.43141] },
                { name: "Slough", center: [51.50949, -0.59541] },
                { name: "Sloviansk", center: [48.84974, 37.59739] },
                { name: "Sofia", center: [42.69751, 23.32415] },
                { name: "Solihull", center: [52.41426, -1.78094] },
                { name: "Solingen", center: [51.17343, 7.0845] },
                { name: "Sollentuna", center: [59.42804, 17.95093] },
                { name: "Sosnowiec", center: [50.28682, 19.10385] },
                { name: "South Dublin", center: [53.29026, -6.34151] },
                { name: "Southampton", center: [50.90395, -1.40428] },
                { name: "Southend-on-Sea", center: [51.53782, 0.71433] },
                { name: "Split", center: [43.50891, 16.43915] },
                { name: "St Helens", center: [53.45, -2.73333] },
                { name: "Stara Darnytsya", center: [50.43333, 30.63333] },
                { name: "Stara Zagora", center: [42.43278, 25.64194] },
                { name: "Stavanger", center: [58.97005, 5.73332] },
                { name: "Stockholm", center: [59.32938, 18.06871] },
                { name: "Stockport", center: [53.40979, -2.15761] },
                { name: "Stoke-on-Trent", center: [53.00415, -2.18538] },
                { name: "Strasbourg", center: [48.58392, 7.74553] },
                { name: "Stuttgart", center: [48.78232, 9.17702] },
                { name: "Sultanbeyli", center: [40.96072, 29.27067] },
                { name: "Sultangazi", center: [41.10652, 28.86847] },
                { name: "Sumy", center: [50.91741, 34.79906] },
                { name: "Sunderland", center: [54.90465, -1.38222] },
                { name: "Sutton", center: [51.35, -0.2] },
                { name: "Sutton Coldfield", center: [52.56667, -1.81667] },
                { name: "Swansea", center: [51.62079, -3.94323] },
                { name: "Swindon", center: [51.55797, -1.78116] },
                { name: "Szczecin", center: [53.42894, 14.55302] },
                { name: "Szeged", center: [46.253, 20.14824] },
                { name: "Székesfehérvár", center: [47.18995, 18.41034] },
                { name: "Södermalm", center: [59.31278, 18.07577] },
                { name: "Tallinn", center: [59.43696, 24.75353] },
                { name: "Tampere", center: [61.49911, 23.78712] },
                { name: "Taranto", center: [40.46438, 17.24707] },
                { name: "Targówek", center: [52.29185, 21.04845] },
                { name: "Tarnów", center: [50.01381, 20.98698] },
                { name: "Tarragona", center: [41.11905, 1.24544] },
                { name: "Tarsus", center: [36.91766, 34.89277] },
                { name: "Tekirdağ", center: [40.9781, 27.51101] },
                { name: "Telde", center: [27.99243, -15.41915] },
                { name: "Telford", center: [52.67659, -2.44926] },
                { name: "Terni", center: [42.56335, 12.64329] },
                { name: "Ternopil", center: [49.55404, 25.59067] },
                { name: "Terrassa", center: [41.56667, 2.01667] },
                { name: "Tetuán de las Victorias", center: [40.45975, -3.6975] },
                { name: "The Hague", center: [52.07667, 4.29861] },
                { name: "Thessaloníki", center: [40.64361, 22.93086] },
                { name: "Tilburg", center: [51.55551, 5.0913] },
                { name: "Timişoara", center: [45.75372, 21.22571] },
                { name: "Tirana", center: [41.32744, 19.81866] },
                { name: "Tiraspol", center: [46.84274, 29.62909] },
                { name: "Tokat", center: [40.31389, 36.55444] },
                { name: "Torrejón de Ardoz", center: [40.45535, -3.46973] },
                { name: "Toruń", center: [53.01375, 18.59814] },
                { name: "Tottenham", center: [51.60373, -0.06794] },
                { name: "Toulon", center: [43.12442, 5.92836] },
                { name: "Toulouse", center: [43.60426, 1.44367] },
                { name: "Tours", center: [47.39484, 0.70398] },
                { name: "Trabzon", center: [41.005, 39.72694] },
                { name: "Trento", center: [46.06787, 11.12108] },
                { name: "Trier", center: [49.75565, 6.63935] },
                { name: "Trieste", center: [45.64953, 13.77678] },
                { name: "Trondheim", center: [63.43049, 10.39506] },
                { name: "Turgutlu", center: [38.49533, 27.6997] },
                { name: "Turhal", center: [40.3875, 36.08111] },
                { name: "Turin", center: [45.07049, 7.68682] },
                { name: "Turku", center: [60.45148, 22.26869] },
                { name: "Tuzla", center: [44.53842, 18.66709] },
                { name: "Tychy", center: [50.13717, 18.96641] },
                { name: "Târgu Mureş", center: [46.54245, 24.55747] },
                { name: "Udine", center: [46.0693, 13.23715] },
                { name: "Ulm", center: [48.39841, 9.99155] },
                { name: "Uman", center: [48.7501, 30.21944] },
                { name: "Umeå", center: [63.82842, 20.25972] },
                { name: "Umraniye", center: [41.01643, 29.12476] },
                { name: "Uppsala", center: [59.85882, 17.63889] },
                { name: "Ursynów", center: [52.15051, 21.05041] },
                { name: "Usera", center: [40.38866, -3.70035] },
                { name: "Utrecht", center: [52.09083, 5.12222] },
                { name: "Uzhhorod", center: [48.6242, 22.2947] },
                { name: "Uşak", center: [38.67351, 29.4058] },
                { name: "Valencia", center: [39.47391, -0.37966] },
                { name: "Valladolid", center: [41.65518, -4.72372] },
                { name: "Van", center: [38.49457, 43.38323] },
                { name: "Vantaa", center: [60.29414, 25.04099] },
                { name: "Varna", center: [43.21667, 27.91667] },
                { name: "Venlo", center: [51.37, 6.16806] },
                { name: "Verona", center: [45.43854, 10.9938] },
                { name: "Vicenza", center: [45.54672, 11.5475] },
                { name: "Vienna", center: [48.20849, 16.37208] },
                { name: "Vigo", center: [42.23282, -8.72264] },
                { name: "Villaverde", center: [40.35, -3.7] },
                { name: "Villeurbanne", center: [45.76601, 4.8795] },
                { name: "Vilnius", center: [54.68916, 25.2798] },
                { name: "Vinnytsya", center: [49.2322, 28.46871] },
                { name: "Viranşehir", center: [37.22349, 39.75519] },
                { name: "Vlorë", center: [40.4686, 19.48318] },
                { name: "Västerås", center: [59.61617, 16.55276] },
                { name: "Wakefield", center: [53.68331, -1.49768] },
                { name: "Walsall", center: [52.58528, -1.98396] },
                { name: "Walthamstow", center: [51.59067, -0.02077] },
                { name: "Wandsbek", center: [53.58334, 10.08305] },
                { name: "Warrington", center: [53.39254, -2.58024] },
                { name: "Warsaw", center: [52.22977, 21.01178] },
                { name: "Watford", center: [51.65531, -0.39602] },
                { name: "Wałbrzych", center: [50.77141, 16.28432] },
                { name: "West Bromwich", center: [52.51868, -1.9945] },
                { name: "Wiesbaden", center: [50.08258, 8.24932] },
                { name: "Wigan", center: [53.54296, -2.63706] },
                { name: "Wilmersdorf", center: [52.48333, 13.31667] },
                { name: "Winterthur", center: [47.50564, 8.72413] },
                { name: "Witten", center: [51.44362, 7.35258] },
                { name: "Woking", center: [51.31903, -0.55893] },
                { name: "Wola", center: [52.23477, 20.96004] },
                { name: "Wolfsburg", center: [52.42452, 10.7815] },
                { name: "Wolverhampton", center: [52.58547, -2.12296] },
                { name: "Worcester", center: [52.18935, -2.22001] },
                { name: "Wrocław", center: [51.1, 17.03333] },
                { name: "Wuppertal", center: [51.25627, 7.14816] },
                { name: "Würzburg", center: [49.79391, 9.95121] },
                { name: "Włocławek", center: [52.64817, 19.0678] },
                { name: "Yevpatoriya", center: [45.20091, 33.36655] },
                { name: "York", center: [53.95763, -1.08271] },
                { name: "Zaanstad", center: [52.45313, 4.81356] },
                { name: "Zabrze", center: [50.32492, 18.78576] },
                { name: "Zagreb", center: [45.81444, 15.97798] },
                { name: "Zaporizhzhya", center: [47.85167, 35.11714] },
                { name: "Zaragoza", center: [41.65606, -0.87734] },
                { name: "Zemun", center: [44.8458, 20.40116] },
                { name: "Zenica", center: [44.20169, 17.90397] },
                { name: "Zeytinburnu", center: [40.99441, 28.90417] },
                { name: "Zhytomyr", center: [50.26235, 28.67913] },
                { name: "Zielona Góra", center: [51.93548, 15.50643] },
                { name: "Zoetermeer", center: [52.0575, 4.49306] },
                { name: "Zonguldak", center: [41.45139, 31.79305] },
                { name: "Zugló", center: [47.51758, 19.10549] },
                { name: "Zwolle", center: [52.5125, 6.09444] },
                { name: "Zürich", center: [47.36667, 8.55] },
                { name: "Århus", center: [56.15674, 10.21076] },
                { name: "Çanakkale", center: [40.15552, 26.41271] },
                { name: "Çankaya", center: [39.9179, 32.86268] },
                { name: "Çorlu", center: [41.16069, 27.80093] },
                { name: "Çorum", center: [40.54889, 34.95333] },
                { name: "Örebro", center: [59.27412, 15.2066] },
                { name: "Üsküdar", center: [41.02274, 29.01366] },
                { name: "Čačak", center: [43.89139, 20.34972] },
                { name: "İnegol", center: [40.07806, 29.51333] },
                { name: "İskenderun", center: [36.58718, 36.17347] },
                { name: "İzmir", center: [38.41273, 27.13838] },
                { name: "İzmit", center: [40.76499, 29.92928] },
                { name: "Łódź", center: [51.77058, 19.47395] },
                { name: "Şanlıurfa", center: [37.16708, 38.79392] },
                { name: "Şişli", center: [41.06046, 28.98717] }
            ];
            const randomCity = cities[Math.floor(Math.random() * cities.length)];
            const bgMap = L.map('landingMap', {
                center: randomCity.center,
                zoom: 13,
                zoomControl: false,
                dragging: false,
                touchZoom: false,
                scrollWheelZoom: false,
                doubleClickZoom: false,
                boxZoom: false,
                attributionControl: true
            });
            L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
                subdomains: 'abcd',
                maxZoom: 20,
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>'
            }).addTo(bgMap);
            const messages = [
                "Bienvenue sur",
                "Welcome to",
                "Willkommen bei",
                "Bienvenido a",
                "Bem-vindo a",
                "Welkom bij",
                "Mirësevini në",
                "Benvinguts a",
                "Dobrodošli u",
                "Добре дошли в",
                "Velkommen til",
                "Tere tulemast",
                "Tervetuloa",
                "Καλώς ήρθατε στο",
                "Üdvözöljük a",
                "स्वागत है",
                "Laipni lūdzam",
                "Sveiki atvykę į",
                "Wëllkomm op",
                "Добредојдовте во",
                "Bun venit la",
                "Witaj w",
                "Vítejte v",
                "Vitajte v",
                "Dobrodošli v",
                "Välkommen till",
                "Hoş geldiniz",
                "Ласкаво просимо до",
                "Добро пожаловать в",
                "Сардэчна запрашаем у"
            ];
            let currentIndex = Math.floor(Math.random() * messages.length);
            const cyclingText = document.getElementById('cyclingText');
            cyclingText.textContent = messages[currentIndex];
            setInterval(() => {
                cyclingText.classList.remove('text-visible');
                cyclingText.classList.add('text-hidden');
                setTimeout(() => {
                    let nextIndex;
                    do {
                        nextIndex = Math.floor(Math.random() * messages.length);
                    } while (nextIndex === currentIndex);
                    currentIndex = nextIndex;
                    cyclingText.textContent = messages[currentIndex];
                    cyclingText.classList.remove('text-hidden');
                    cyclingText.classList.add('text-visible');
                }, 400);
            }, 3000);
            const searchInput = document.getElementById('landingSearchInput');
            const suggestionsDiv = document.getElementById('landingSuggestions');
            const searchSpinner = document.getElementById('landingSearchSpinner');
            const searchIcon = document.getElementById('landingSearchIcon');
            let searchTimeout = null;
            searchInput.addEventListener('input', function () {
                const query = this.value.trim();
                clearTimeout(searchTimeout);
                if (query.length < 2) {
                    suggestionsDiv.innerHTML = '';
                    suggestionsDiv.classList.remove('visible');
                    return;
                }
                searchTimeout = setTimeout(() => fetchSuggestions(query), 300);
            });
            document.addEventListener('click', function (e) {
                if (!searchInput.contains(e.target) && !suggestionsDiv.contains(e.target)) {
                    suggestionsDiv.classList.remove('visible');
                }
            });
            searchInput.addEventListener('focus', function () {
                if (suggestionsDiv.children.length > 0) suggestionsDiv.classList.add('visible');
            });
            async function fetchSuggestions(query) {
                searchSpinner.style.display = 'inline-block';
                searchIcon.style.display = 'none';
                try {
                    const response = await fetch(`/api/search_stops?query=${encodeURIComponent(query)}`);
                    const data = await response.json();
                    if (response.ok) renderSuggestions(data);
                } catch (err) { console.error(err); }
                finally {
                    searchSpinner.style.display = 'none';
                    searchIcon.style.display = '';
                }
            }
            function renderSuggestions(suggestions) {
                suggestionsDiv.innerHTML = '';
                if (!suggestions.length) {
                    suggestionsDiv.innerHTML = '<div style="padding:14px;text-align:center;color:#9aa0a6;">Aucun arrêt trouvé.</div>';
                    suggestionsDiv.classList.add('visible');
                    return;
                }
                suggestions.forEach(stop => {
                    const item = document.createElement('div');
                    item.className = 'suggestion-item';
                    item.textContent = stop.stop_name;
                    item.onclick = () => {
                        saveRecentSearch(stop.stop_id, stop.stop_name);
                        window.location.href = `/map?stop_id=${stop.stop_id}`;
                    };
                    suggestionsDiv.appendChild(item);
                });
                suggestionsDiv.classList.add('visible');
            }
            // localStorage Logic
            function saveRecentSearch(id, name) {
                let recents = JSON.parse(localStorage.getItem('linia_recents') || '[]');
                recents = recents.filter(r => r.id !== id);
                recents.unshift({ id, name, date: new Date().getTime() });
                if (recents.length > 5) recents.pop();
                localStorage.setItem('linia_recents', JSON.stringify(recents));
            }
            function loadRecents() {
                const recentList = document.getElementById('recentSearchesList');
                if (!recentList) return;
                const recents = JSON.parse(localStorage.getItem('linia_recents') || '[]');
                if (recents.length === 0) {
                    recentList.innerHTML = '<p class="empty-recents">Vos recherches récentes apparaîtront ici.</p>';
                    return;
                }
                recentList.innerHTML = recents.map(r => `
                    <div class="recent-item" onclick="window.location.href='/map?stop_id=${r.id}'">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polyline points="12 6 12 12 16 14"></polyline>
                        </svg>
                        <span>${r.name}</span>
                    </div>
                `).join('');
            }
            loadRecents();
        });
    </script>
</body>

</html>

--- FIN FICHIER ---

--- DÉBUT FICHIER : templates\legal.html ---
--- POSITION : C:\Users\Amédée\Documents\linia-mobile\templates\legal.html ---

<!DOCTYPE html>
<html lang="{{ current_lang }}">

<head>
    {% include 'seo_head.html' %}
    <style>
        .legal-content h2 {
            margin-top: 30px;
            color: var(--primary-green);
            font-size: 1.2rem;
        }

        .legal-content p {
            line-height: 1.6;
            opacity: 0.8;
            margin-bottom: 15px;
        }
    </style>
</head>

<body>
    {% set lang_prefix = '' if current_lang == 'fr' else '/' ~ current_lang %}
    <div class="about-page">
        <nav class="about-nav">
            <a href="{{ (lang_prefix ~ '/') if lang_prefix else '/' }}" class="nav-brand"><span
                    class="highlight">Linia</span></a>
            <div style="flex-grow: 1;"></div>
            <a href="{{ (lang_prefix ~ '/') if lang_prefix else '/' }}" class="nav-link" data-i18n="return_home"
                style="margin-left: 0;">← Retour à l'accueil</a>
        </nav>
        <div class="about-content legal-content">
            <h1 data-i18n="legal_title">Mentions Légales</h1>

            <section class="about-section">
                <h2 data-i18n="legal_editor_title">1. Éditeur du site</h2>
                <p data-i18n="legal_editor_content">
                    Le site Linia est édité à titre non professionnel. Conformément à l'article 6-III-2 de la loi n°
                    2004-575 du 21 juin 2004 (LCEN), l'éditeur a choisi de rester anonyme. Les coordonnées de l'éditeur
                    ont été transmises à l'hébergeur.
                </p>
            </section>

            <section class="about-section">
                <h2 data-i18n="legal_hosting_title">2. Hébergement</h2>
                <p data-i18n="legal_hosting_content">
                    Le site est hébergé par Render Services, Inc., 520 High St, Palo Alto, CA 94301, États-Unis
                    (render.com).
                </p>
            </section>

            <section class="about-section">
                <h2 data-i18n="legal_intellectual_title">3. Propriété intellectuelle et Sources</h2>
                <p data-i18n="legal_intellectual_content">
                    Le contenu propre au site (code, design) est protégé par le droit d'auteur. Les données de transport
                    affichées proviennent de sources ouvertes (via transport.data.gouv.fr). Elles sont régies par la
                    licence Open Database License (ODbL). L'utilisateur est tenu de respecter les termes de cette
                    licence pour toute réutilisation de ces données.
                </p>
            </section>

            <section class="about-section">
                <h2 data-i18n="legal_responsibility_title">4. Responsabilité</h2>
                <p data-i18n="legal_responsibility_content">
                    L'éditeur fournit les informations de transport "en l'état". Il ne garantit pas l'exactitude des
                    horaires ni la disponibilité continue du service et ne peut être tenu responsable des conséquences
                    liées à l'utilisation des informations présentes sur le site.
                </p>
            </section>

            <section class="about-section">
                <h2 data-i18n="legal_privacy_title">5. Données personnelles et Cookies</h2>
                <p data-i18n="legal_privacy_content">
                    Linia ne collecte aucune donnée personnelle. Le stockage local (Local Storage) de votre navigateur
                    est utilisé exclusivement pour mémoriser vos préférences (recherches récentes, langue) afin
                    d'améliorer l'expérience utilisateur. Aucun cookie tiers ou traceur publicitaire n'est utilisé.
                </p>
            </section>
        </div>

        <footer class="app-footer">
            <p style="font-size: 11px; margin-bottom: 5px; pointer-events: auto;"><a
                    href="{{ (lang_prefix ~ '/legal') if lang_prefix else '/legal' }}" data-i18n="nav_legal"
                    style="color: inherit; text-decoration: none; opacity: 0.6;">Mentions Légales</a></p>
            <p data-i18n="footer_signature">"Страказа жывая"</p>
            <div class="color-bar-signature"></div>
        </footer>

        <nav class="bottom-nav">
            <a href="{{ (lang_prefix ~ '/') if lang_prefix else '/' }}" class="bottom-nav-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
                <span data-i18n="nav_home">Accueil</span>
            </a>
            <a href="{{ (lang_prefix ~ '/planner') if lang_prefix else '/planner' }}" class="bottom-nav-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="6" cy="19" r="3"></circle>
                    <path d="M9 19h8.5a3.5 3.5 0 1 0 0-7h-11a3.5 3.5 0 1 1 0-7H15"></path>
                    <circle cx="18" cy="5" r="3"></circle>
                </svg>
                <span data-i18n="nav_itinerary">Itinéraire</span>
            </a>
            <a href="{{ (lang_prefix ~ '/about') if lang_prefix else '/about' }}" class="bottom-nav-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="16" x2="12" y2="12"></line>
                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                </svg>
                <span data-i18n="nav_info">Info</span>
            </a>
        </nav>
    </div>
</body>

</html>

--- FIN FICHIER ---

--- DÉBUT FICHIER : templates\map.html ---
--- POSITION : C:\Users\Amédée\Documents\linia-mobile\templates\map.html ---

<!DOCTYPE html>
<html lang="{{ current_lang }}">

<head>
    {% include 'seo_head.html' %}
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
</head>

<body>
    {% set lang_prefix = '' if current_lang == 'fr' else '/' ~ current_lang %}
    <div class="map-page">
        <div id="map"></div>
        <a href="{{ (lang_prefix ~ '/') if lang_prefix else '/' }}" class="linia-nav-btn nav-btn-home">
            <div class="icon-circle">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
            </div>
            <div class="btn-label" data-i18n="nav_home">Accueil</div>
        </a>
        <a href="{{ (lang_prefix ~ '/planner') if lang_prefix else '/planner' }}"
            class="linia-nav-btn nav-btn-planner">
            <div class="icon-circle">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
                    stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="6" cy="19" r="3"></circle>
                    <path d="M9 19h8.5a3.5 3.5 0 1 0 0-7h-11a3.5 3.5 0 1 1 0-7H15"></path>
                    <circle cx="18" cy="5" r="3"></circle>
                </svg>
            </div>
            <div class="btn-label" data-i18n="nav_itinerary">Itinéraire</div>
        </a>
        <div class="trip-details-panel" id="tripDetailsPanel">
            <div class="trip-details-header">
                <div class="trip-details-title-container">
                    <h3 id="tripPanelTitle"></h3>
                    <span id="tripPanelSubtitle" class="trip-details-subtitle"></span>
                </div>
                <button class="trip-details-close" id="tripPanelClose" title="Fermer"
                    data-i18n-title="btn_close">&times;</button>
            </div>
            <div class="trip-details-body" id="tripPanelBody">
            </div>
        </div>
        <div class="map-search-bar-container">
            <div class="map-search-wrapper">
                <input type="text" class="map-search-bar" id="mapSearchInput"
                    placeholder="Chercher une ville de départ..." data-i18n-placeholder="search_start"
                    autocomplete="off">
                <svg class="map-search-icon" id="mapSearchIcon" width="18" height="18" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
                <div class="spinner map-search-spinner" id="mapSearchSpinner" style="display:none;"></div>
            </div>
            <div class="map-suggestions" id="mapSuggestions"></div>
        </div>
        <div class="loading-overlay" id="loadingOverlay">
            <div class="spinner"></div>
            <span id="loadingText">Chargement...</span>
        </div>
        <button class="reopen-panel-btn" id="reopenPanelBtn" style="display:none;" title="Afficher les lignes">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
                stroke-linecap="round" stroke-linejoin="round">
                <polyline points="18 15 12 9 6 15"></polyline>
            </svg>
        </button>
        <div class="route-panel" id="routePanel">
            <div class="route-panel-header">
                <div>
                    <h2 id="routePanelTitle">Chargement...</h2>
                    <div class="operator-legend" id="operatorLegend" style="display:none;">
                        <div class="legend-item"><span class="legend-color-box legend-flixbus"></span> Flixbus</div>
                        <div class="legend-item"><span class="legend-color-box legend-blablacar"></span> BlaBlaCar</div>
                    </div>
                </div>
                <button class="route-panel-close" id="routePanelClose">&times;</button>
            </div>
            <div class="route-controls">
                <div class="filter-pills">
                    <button class="filter-pill active" data-filter="all">Tout</button>
                    <button class="filter-pill" data-filter="flixbus">Flixbus</button>
                    <button class="filter-pill" data-filter="blablacar_bus">BlaBlaCar</button>
                </div>
                <div class="route-filter-search">
                    <input type="text" id="routeLocalSearch" placeholder="🔍 Rechercher une ville...">
                </div>
            </div>
            <div class="route-panel-body" id="routePanelBody">
            </div>
        </div>
        <footer
            style="position: absolute; bottom: 0; padding: 12px; font-size: 11px; pointer-events: none; z-index: 9000;">
            <p style="margin-bottom: 4px; pointer-events: auto;"><a
                    href="{{ (lang_prefix ~ '/legal') if lang_prefix else '/legal' }}" data-i18n="nav_legal"
                    style="color: inherit; text-decoration: none; opacity: 0.6;">Mentions Légales</a></p>
            <p style="margin-bottom: 4px;">"Страказа жывая"</p>
            <div class="color-bar-signature" style="max-width: 150px;"></div>
        </footer>
        <nav class="bottom-nav">
            <a href="{{ (lang_prefix ~ '/') if lang_prefix else '/' }}" class="bottom-nav-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
                <span>Accueil</span>
            </a>
            <a href="{{ (lang_prefix ~ '/planner') if lang_prefix else '/planner' }}" class="bottom-nav-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="6" cy="19" r="3"></circle>
                    <path d="M9 19h8.5a3.5 3.5 0 1 0 0-7h-11a3.5 3.5 0 1 1 0-7H15"></path>
                    <circle cx="18" cy="5" r="3"></circle>
                </svg>
                <span>Itinéraire</span>
            </a>
            <a href="{{ (lang_prefix ~ '/about') if lang_prefix else '/about' }}" class="bottom-nav-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="16" x2="12" y2="12"></line>
                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                </svg>
                <span>Info</span>
            </a>
        </nav>
    </div>
    <div id="toastContainer" class="toast-container"></div>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="{{ url_for('static', filename='map.js') }}"></script>
</body>

</html>

--- FIN FICHIER ---

--- DÉBUT FICHIER : templates\planner.html ---
--- POSITION : C:\Users\Amédée\Documents\linia-mobile\templates\planner.html ---

<!DOCTYPE html>
<html lang="{{ current_lang }}">

<head>
    {% include 'seo_head.html' %}
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
</head>

<body>
    {% set lang_prefix = '' if current_lang == 'fr' else '/' ~ current_lang %}
    <div class="planner-page">

        <svg style="width:0;height:0;position:absolute;">
            <defs>
                <linearGradient id="mixedGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" style="stop-color:#73d700;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#0070d2;stop-opacity:1" />
                </linearGradient>
            </defs>
        </svg>
        <div id="plannerMap"></div>
        <a href="{{ (lang_prefix ~ '/') if lang_prefix else '/' }}" class="linia-nav-btn nav-btn-home">
            <div class="icon-circle">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
            </div>
            <div class="btn-label" data-i18n="nav_home">Accueil</div>
        </a>
        <div class="planner-sidebar" id="plannerSidebar">
            <div class="planner-sidebar-header">
                <h2 data-i18n="itinerary_title">Mon Itinéraire</h2>
                <div class="planner-sidebar-actions">
                    <button class="planner-btn planner-btn-ghost" id="undoBtn" title="Retirer la dernière étape"
                        data-i18n-title="btn_undo" disabled>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="1 4 1 10 7 10"></polyline>
                            <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>
                        </svg>
                    </button>
                    <button class="planner-btn planner-btn-ghost" id="resetBtn" title="Tout effacer"
                        data-i18n-title="btn_reset" disabled>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="3 6 5 6 21 6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                            </path>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="planner-sidebar-body" id="plannerTimeline">
                <div class="planner-empty-state">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1"
                        stroke-linecap="round" stroke-linejoin="round" style="opacity:0.3; margin-bottom:12px;">
                        <circle cx="12" cy="10" r="3"></circle>
                        <path d="M12 21.7C17.3 17 20 13 20 10a8 8 0 1 0-16 0c0 3 2.7 7 8 11.7z"></path>
                    </svg>
                    <p data-i18n="planner_empty">Recherchez une ville pour commencer votre itinéraire</p>
                </div>
            </div>
            <div class="planner-disclaimer">
                <div class="disclaimer-header">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="12" y1="16" x2="12" y2="12"></line>
                        <line x1="12" y1="8" x2="12.01" y2="8"></line>
                    </svg>
                    <strong data-i18n="disclaimer_title">Note d'information</strong>
                </div>
                <p data-i18n="disclaimer_text"></p>
            </div>
            <div class="planner-sidebar-footer" id="plannerFooter">
                <input type="file" id="loadItineraryInput" accept=".json" style="display: none;">
                <button id="loadBtn" class="planner-footer-btn" title="Charger un itinéraire"
                    data-i18n-title="btn_load">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                    <span data-i18n="btn_load">Charger</span>
                </button>
                <button id="saveBtn" class="planner-footer-btn" title="Sauvegarder l'itinéraire"
                    data-i18n-title="btn_save">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                        <polyline points="17 21 17 13 7 13 7 21"></polyline>
                        <polyline points="7 3 7 8 15 8"></polyline>
                    </svg>
                    <span data-i18n="btn_save">Sauvegarder</span>
                </button>
                <div class="planner-footer-divider"></div>
                <button class="linia-btn-premium" id="generatePdfBtn" style="width: 100%;">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                        <line x1="16" y1="13" x2="8" y2="13"></line>
                        <line x1="16" y1="17" x2="8" y2="17"></line>
                    </svg>
                    <span data-i18n="btn_pdf">Générer le PDF</span>
                </button>
            </div>
        </div>
        <div class="planner-search-container" id="plannerSearchContainer">
            <div class="planner-search-wrapper">
                <input type="text" class="planner-search-bar" id="plannerSearchInput"
                    placeholder="Rechercher une ville de départ..." data-i18n-placeholder="search_start"
                    autocomplete="off">
                <svg class="planner-search-icon" id="plannerSearchIcon" width="18" height="18" viewBox="0 0 24 24"
                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
                <div class="spinner planner-search-spinner" id="plannerSearchSpinner" style="display:none;"></div>
            </div>
            <div class="planner-suggestions" id="plannerSuggestions"></div>
        </div>
        <div class="planner-connected-panel" id="connectedPanel">
            <div class="planner-connected-header">
                <div>
                    <h3 id="connectedTitle" data-i18n="connected_cities">Villes connectées</h3>
                    <span id="connectedSubtitle" class="planner-connected-subtitle"></span>
                </div>
                <button class="planner-connected-close" id="connectedClose" title="Fermer"
                    data-i18n-title="btn_close">&times;</button>
            </div>
            <div class="planner-connected-search">
                <input type="text" id="connectedSearchInput" placeholder="🔍 Filtrer les villes..."
                    data-i18n-placeholder="filter_cities">
            </div>
            <div class="planner-connected-body" id="connectedBody">
            </div>
        </div>
        <div class="loading-overlay" id="loadingOverlay">
            <div class="spinner"></div>
            <span id="loadingText" data-i18n="loading">Chargement...</span>
        </div>
        <footer class="app-footer"
            style="position: absolute; bottom: 0; padding: 12px; font-size: 11px; pointer-events: none; z-index: 10000;">
            <p style="margin-bottom: 4px; pointer-events: auto;"><a
                    href="{{ (lang_prefix ~ '/legal') if lang_prefix else '/legal' }}" data-i18n="nav_legal"
                    style="color: inherit; text-decoration: none; opacity: 0.6;">Mentions Légales</a></p>
            <p style="margin-bottom: 4px;" data-i18n="footer_signature">"Страказа жывая"</p>
            <div class="color-bar-signature" style="max-width: 150px;"></div>
        </footer>
        <nav class="bottom-nav">
            <a href="{{ (lang_prefix ~ '/') if lang_prefix else '/' }}" class="bottom-nav-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
                <span data-i18n="nav_home">Accueil</span>
            </a>
            <a href="{{ (lang_prefix ~ '/planner') if lang_prefix else '/planner' }}" class="bottom-nav-item active">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="6" cy="19" r="3"></circle>
                    <path d="M9 19h8.5a3.5 3.5 0 1 0 0-7h-11a3.5 3.5 0 1 1 0-7H15"></path>
                    <circle cx="18" cy="5" r="3"></circle>
                </svg>
                <span data-i18n="nav_itinerary">Itinéraire</span>
            </a>
            <a href="{{ (lang_prefix ~ '/about') if lang_prefix else '/about' }}" class="bottom-nav-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="16" x2="12" y2="12"></line>
                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                </svg>
                <span data-i18n="nav_info">Info</span>
            </a>
        </nav>
    </div>
    <div id="toastContainer" class="toast-container"></div>
    <script>window.L_DISABLE_3D = true;</script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="{{ url_for('static', filename='planner.js') }}"></script>
</body>

</html>

--- FIN FICHIER ---

--- DÉBUT FICHIER : templates\seo_head.html ---
--- POSITION : C:\Users\Amédée\Documents\linia-mobile\templates\seo_head.html ---

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

{# Title & meta description dynamiques #}
<title>{{ page_title }}</title>
<meta name="description" content="{{ page_description }}">

{# Robots par défaut index/follow, surcharge possible plus tard #}
<meta name="robots" content="index,follow">

{# Canonical #}
<link rel="canonical" href="{{ canonical_url }}">

{# Open Graph #}
<meta property="og:type" content="website">
<meta property="og:url" content="{{ og_url }}">
<meta property="og:title" content="{{ og_title }}">
<meta property="og:description" content="{{ og_description }}">
<meta property="og:image" content="https://liniabus.eu/static/logo.png">
{% if og_locale %}
<meta property="og:locale" content="{{ og_locale }}">
{% endif %}
{% if og_locale_alternates %}
{% for locale in og_locale_alternates %}
<meta property="og:locale:alternate" content="{{ locale }}">
{% endfor %}
{% endif %}

{# Twitter #}
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:url" content="{{ og_url }}">
<meta name="twitter:title" content="{{ og_title }}">
<meta name="twitter:description" content="{{ og_description }}">
<meta name="twitter:image" content="https://liniabus.eu/static/logo.png">

{# PWA / assets #}
<meta name="theme-color" content="#34a853">
<link rel="manifest" href="{{ url_for('static', filename='manifest.json') }}">
<link rel="icon" type="image/png" href="{{ url_for('static', filename='logo.png') }}">

{# CSS global #}
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}?v=3">

{# Hreflang alternates #}
{% include 'hreflang.html' %}

{# JSON-LD structured data optionnel #}
{% if structured_data_jsonld %}
<script type="application/ld+json">
{{ structured_data_jsonld | safe }}
</script>
{% endif %}

{# Script i18n global #}
<script src="{{ url_for('static', filename='i18n.js') }}"></script>



--- FIN FICHIER ---

